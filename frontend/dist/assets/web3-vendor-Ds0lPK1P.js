var ba=e=>{throw TypeError(e)};var Ys=(e,t,n)=>t.has(e)||ba("Cannot "+n);var v=(e,t,n)=>(Ys(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?ba("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),L=(e,t,n,r)=>(Ys(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Z=(e,t,n)=>(Ys(e,t,"access private method"),n);var is=(e,t,n,r)=>({set _(s){L(e,t,s,n)},get _(){return v(e,t,r)}});import{r as _e,g as rd}from"./react-vendor-CIGKTyFs.js";var kc={exports:{}},Bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.transitional.element"),id=Symbol.for("react.fragment");function Nc(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:sd,type:e,key:r,ref:t!==void 0?t:null,props:n}}Bs.Fragment=id;Bs.jsx=Nc;Bs.jsxs=Nc;kc.exports=Bs;var od=kc.exports;const ad="modulepreload",cd=function(e){return"/"+e},ya={},Mc=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=cd(c),c in ya)return;ya[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":ad,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((l,h)=>{d.addEventListener("load",l),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};var zn={},Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.crypto=void 0;Ts.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.Hash=e.nextTick=e.swap32IfBE=e.byteSwapIfBE=e.swap8IfBE=e.isLE=void 0,e.isBytes=n,e.anumber=r,e.abytes=s,e.ahash=i,e.aexists=o,e.aoutput=a,e.u8=c,e.u32=u,e.clean=f,e.createView=d,e.rotr=l,e.rotl=h,e.byteSwap=b,e.byteSwap32=p,e.bytesToHex=P,e.hexToBytes=E,e.asyncLoop=S,e.utf8ToBytes=A,e.bytesToUtf8=O,e.toBytes=$,e.kdfInputToBytes=T,e.concatBytes=F,e.checkOpts=k,e.createHasher=I,e.createOptHasher=N,e.createXOFer=_,e.randomBytes=M;const t=Ts;function n(x){return x instanceof Uint8Array||ArrayBuffer.isView(x)&&x.constructor.name==="Uint8Array"}function r(x){if(!Number.isSafeInteger(x)||x<0)throw new Error("positive integer expected, got "+x)}function s(x,...C){if(!n(x))throw new Error("Uint8Array expected");if(C.length>0&&!C.includes(x.length))throw new Error("Uint8Array expected of length "+C+", got length="+x.length)}function i(x){if(typeof x!="function"||typeof x.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r(x.outputLen),r(x.blockLen)}function o(x,C=!0){if(x.destroyed)throw new Error("Hash instance has been destroyed");if(C&&x.finished)throw new Error("Hash#digest() has already been called")}function a(x,C){s(x);const H=C.outputLen;if(x.length<H)throw new Error("digestInto() expects output buffer of length at least "+H)}function c(x){return new Uint8Array(x.buffer,x.byteOffset,x.byteLength)}function u(x){return new Uint32Array(x.buffer,x.byteOffset,Math.floor(x.byteLength/4))}function f(...x){for(let C=0;C<x.length;C++)x[C].fill(0)}function d(x){return new DataView(x.buffer,x.byteOffset,x.byteLength)}function l(x,C){return x<<32-C|x>>>C}function h(x,C){return x<<C|x>>>32-C>>>0}e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function b(x){return x<<24&4278190080|x<<8&16711680|x>>>8&65280|x>>>24&255}e.swap8IfBE=e.isLE?x=>x:x=>b(x),e.byteSwapIfBE=e.swap8IfBE;function p(x){for(let C=0;C<x.length;C++)x[C]=b(x[C]);return x}e.swap32IfBE=e.isLE?x=>x:p;const m=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",w=Array.from({length:256},(x,C)=>C.toString(16).padStart(2,"0"));function P(x){if(s(x),m)return x.toHex();let C="";for(let H=0;H<x.length;H++)C+=w[x[H]];return C}const g={_0:48,_9:57,A:65,F:70,a:97,f:102};function y(x){if(x>=g._0&&x<=g._9)return x-g._0;if(x>=g.A&&x<=g.F)return x-(g.A-10);if(x>=g.a&&x<=g.f)return x-(g.a-10)}function E(x){if(typeof x!="string")throw new Error("hex string expected, got "+typeof x);if(m)return Uint8Array.fromHex(x);const C=x.length,H=C/2;if(C%2)throw new Error("hex string expected, got unpadded hex of length "+C);const V=new Uint8Array(H);for(let Y=0,J=0;Y<H;Y++,J+=2){const ne=y(x.charCodeAt(J)),ce=y(x.charCodeAt(J+1));if(ne===void 0||ce===void 0){const Ze=x[J]+x[J+1];throw new Error('hex string expected, got non-hex character "'+Ze+'" at index '+J)}V[Y]=ne*16+ce}return V}const B=async()=>{};e.nextTick=B;async function S(x,C,H){let V=Date.now();for(let Y=0;Y<x;Y++){H(Y);const J=Date.now()-V;J>=0&&J<C||(await(0,e.nextTick)(),V+=J)}}function A(x){if(typeof x!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(x))}function O(x){return new TextDecoder().decode(x)}function $(x){return typeof x=="string"&&(x=A(x)),s(x),x}function T(x){return typeof x=="string"&&(x=A(x)),s(x),x}function F(...x){let C=0;for(let V=0;V<x.length;V++){const Y=x[V];s(Y),C+=Y.length}const H=new Uint8Array(C);for(let V=0,Y=0;V<x.length;V++){const J=x[V];H.set(J,Y),Y+=J.length}return H}function k(x,C){if(C!==void 0&&{}.toString.call(C)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(x,C)}class D{}e.Hash=D;function I(x){const C=V=>x().update($(V)).digest(),H=x();return C.outputLen=H.outputLen,C.blockLen=H.blockLen,C.create=()=>x(),C}function N(x){const C=(V,Y)=>x(Y).update($(V)).digest(),H=x({});return C.outputLen=H.outputLen,C.blockLen=H.blockLen,C.create=V=>x(V),C}function _(x){const C=(V,Y)=>x(Y).update($(V)).digest(),H=x({});return C.outputLen=H.outputLen,C.blockLen=H.blockLen,C.create=V=>x(V),C}e.wrapConstructor=I,e.wrapConstructorWithOpts=N,e.wrapXOFConstructorWithOpts=_;function M(x=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(x));if(t.crypto&&typeof t.crypto.randomBytes=="function")return Uint8Array.from(t.crypto.randomBytes(x));throw new Error("crypto.getRandomValues must be defined")}})(zn);var lt={},ee={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.SHA512_IV=ge.SHA384_IV=ge.SHA224_IV=ge.SHA256_IV=ge.HashMD=void 0;ge.setBigUint64=_c;ge.Chi=ud;ge.Maj=fd;const Ke=zn;function _c(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function ud(e,t,n){return e&t^~e&n}function fd(e,t,n){return e&t^e&n^t&n}let dd=class extends Ke.Hash{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=(0,Ke.createView)(this.buffer)}update(t){(0,Ke.aexists)(this),t=(0,Ke.toBytes)(t),(0,Ke.abytes)(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,Ke.createView)(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Ke.aexists)(this),(0,Ke.aoutput)(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,(0,Ke.clean)(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;_c(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,Ke.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};ge.HashMD=dd;ge.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);ge.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);ge.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);ge.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var W={};Object.defineProperty(W,"__esModule",{value:!0});W.toBig=W.shrSL=W.shrSH=W.rotrSL=W.rotrSH=W.rotrBL=W.rotrBH=W.rotr32L=W.rotr32H=W.rotlSL=W.rotlSH=W.rotlBL=W.rotlBH=W.add5L=W.add5H=W.add4L=W.add4H=W.add3L=W.add3H=void 0;W.add=Jc;W.fromBig=go;W.split=Lc;const os=BigInt(2**32-1),vi=BigInt(32);function go(e,t=!1){return t?{h:Number(e&os),l:Number(e>>vi&os)}:{h:Number(e>>vi&os)|0,l:Number(e&os)|0}}function Lc(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=go(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const Hc=(e,t)=>BigInt(e>>>0)<<vi|BigInt(t>>>0);W.toBig=Hc;const zc=(e,t,n)=>e>>>n;W.shrSH=zc;const Uc=(e,t,n)=>e<<32-n|t>>>n;W.shrSL=Uc;const jc=(e,t,n)=>e>>>n|t<<32-n;W.rotrSH=jc;const Dc=(e,t,n)=>e<<32-n|t>>>n;W.rotrSL=Dc;const qc=(e,t,n)=>e<<64-n|t>>>n-32;W.rotrBH=qc;const Gc=(e,t,n)=>e>>>n-32|t<<64-n;W.rotrBL=Gc;const Vc=(e,t)=>t;W.rotr32H=Vc;const Wc=(e,t)=>e;W.rotr32L=Wc;const Qc=(e,t,n)=>e<<n|t>>>32-n;W.rotlSH=Qc;const Zc=(e,t,n)=>t<<n|e>>>32-n;W.rotlSL=Zc;const Kc=(e,t,n)=>t<<n-32|e>>>64-n;W.rotlBH=Kc;const Yc=(e,t,n)=>e<<n-32|t>>>64-n;W.rotlBL=Yc;function Jc(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const Xc=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);W.add3L=Xc;const eu=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;W.add3H=eu;const tu=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);W.add4L=tu;const nu=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0;W.add4H=nu;const ru=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0);W.add5L=ru;const su=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0;W.add5H=su;const ld={fromBig:go,split:Lc,toBig:Hc,shrSH:zc,shrSL:Uc,rotrSH:jc,rotrSL:Dc,rotrBH:qc,rotrBL:Gc,rotr32H:Vc,rotr32L:Wc,rotlSH:Qc,rotlSL:Zc,rotlBH:Kc,rotlBL:Yc,add:Jc,add3L:Xc,add3H:eu,add4L:tu,add4H:nu,add5H:su,add5L:ru};W.default=ld;Object.defineProperty(ee,"__esModule",{value:!0});ee.sha512_224=ee.sha512_256=ee.sha384=ee.sha512=ee.sha224=ee.sha256=ee.SHA512_256=ee.SHA512_224=ee.SHA384=ee.SHA512=ee.SHA224=ee.SHA256=void 0;const j=ge,Q=W,oe=zn,hd=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vt=new Uint32Array(64);let wo=class extends j.HashMD{constructor(t=32){super(64,t,8,!1),this.A=j.SHA256_IV[0]|0,this.B=j.SHA256_IV[1]|0,this.C=j.SHA256_IV[2]|0,this.D=j.SHA256_IV[3]|0,this.E=j.SHA256_IV[4]|0,this.F=j.SHA256_IV[5]|0,this.G=j.SHA256_IV[6]|0,this.H=j.SHA256_IV[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)vt[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=vt[d-15],h=vt[d-2],b=(0,oe.rotr)(l,7)^(0,oe.rotr)(l,18)^l>>>3,p=(0,oe.rotr)(h,17)^(0,oe.rotr)(h,19)^h>>>10;vt[d]=p+vt[d-7]+b+vt[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=(0,oe.rotr)(a,6)^(0,oe.rotr)(a,11)^(0,oe.rotr)(a,25),h=f+l+(0,j.Chi)(a,c,u)+hd[d]+vt[d]|0,p=((0,oe.rotr)(r,2)^(0,oe.rotr)(r,13)^(0,oe.rotr)(r,22))+(0,j.Maj)(r,s,i)|0;f=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){(0,oe.clean)(vt)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,oe.clean)(this.buffer)}};ee.SHA256=wo;class iu extends wo{constructor(){super(28),this.A=j.SHA224_IV[0]|0,this.B=j.SHA224_IV[1]|0,this.C=j.SHA224_IV[2]|0,this.D=j.SHA224_IV[3]|0,this.E=j.SHA224_IV[4]|0,this.F=j.SHA224_IV[5]|0,this.G=j.SHA224_IV[6]|0,this.H=j.SHA224_IV[7]|0}}ee.SHA224=iu;const ou=Q.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),pd=ou[0],bd=ou[1],Et=new Uint32Array(80),Pt=new Uint32Array(80);class jr extends j.HashMD{constructor(t=64){super(128,t,16,!1),this.Ah=j.SHA512_IV[0]|0,this.Al=j.SHA512_IV[1]|0,this.Bh=j.SHA512_IV[2]|0,this.Bl=j.SHA512_IV[3]|0,this.Ch=j.SHA512_IV[4]|0,this.Cl=j.SHA512_IV[5]|0,this.Dh=j.SHA512_IV[6]|0,this.Dl=j.SHA512_IV[7]|0,this.Eh=j.SHA512_IV[8]|0,this.El=j.SHA512_IV[9]|0,this.Fh=j.SHA512_IV[10]|0,this.Fl=j.SHA512_IV[11]|0,this.Gh=j.SHA512_IV[12]|0,this.Gl=j.SHA512_IV[13]|0,this.Hh=j.SHA512_IV[14]|0,this.Hl=j.SHA512_IV[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:d,Fl:l,Gh:h,Gl:b,Hh:p,Hl:m}=this;return[t,n,r,s,i,o,a,c,u,f,d,l,h,b,p,m]}set(t,n,r,s,i,o,a,c,u,f,d,l,h,b,p,m){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=d|0,this.Fl=l|0,this.Gh=h|0,this.Gl=b|0,this.Hh=p|0,this.Hl=m|0}process(t,n){for(let g=0;g<16;g++,n+=4)Et[g]=t.getUint32(n),Pt[g]=t.getUint32(n+=4);for(let g=16;g<80;g++){const y=Et[g-15]|0,E=Pt[g-15]|0,B=Q.rotrSH(y,E,1)^Q.rotrSH(y,E,8)^Q.shrSH(y,E,7),S=Q.rotrSL(y,E,1)^Q.rotrSL(y,E,8)^Q.shrSL(y,E,7),A=Et[g-2]|0,O=Pt[g-2]|0,$=Q.rotrSH(A,O,19)^Q.rotrBH(A,O,61)^Q.shrSH(A,O,6),T=Q.rotrSL(A,O,19)^Q.rotrBL(A,O,61)^Q.shrSL(A,O,6),F=Q.add4L(S,T,Pt[g-7],Pt[g-16]),k=Q.add4H(F,B,$,Et[g-7],Et[g-16]);Et[g]=k|0,Pt[g]=F|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:d,El:l,Fh:h,Fl:b,Gh:p,Gl:m,Hh:w,Hl:P}=this;for(let g=0;g<80;g++){const y=Q.rotrSH(d,l,14)^Q.rotrSH(d,l,18)^Q.rotrBH(d,l,41),E=Q.rotrSL(d,l,14)^Q.rotrSL(d,l,18)^Q.rotrBL(d,l,41),B=d&h^~d&p,S=l&b^~l&m,A=Q.add5L(P,E,S,bd[g],Pt[g]),O=Q.add5H(A,w,y,B,pd[g],Et[g]),$=A|0,T=Q.rotrSH(r,s,28)^Q.rotrBH(r,s,34)^Q.rotrBH(r,s,39),F=Q.rotrSL(r,s,28)^Q.rotrBL(r,s,34)^Q.rotrBL(r,s,39),k=r&i^r&a^i&a,D=s&o^s&c^o&c;w=p|0,P=m|0,p=h|0,m=b|0,h=d|0,b=l|0,{h:d,l}=Q.add(u|0,f|0,O|0,$|0),u=a|0,f=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=Q.add3L($,F,D);r=Q.add3H(I,O,T,k),s=I|0}({h:r,l:s}=Q.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Q.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Q.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=Q.add(this.Dh|0,this.Dl|0,u|0,f|0),{h:d,l}=Q.add(this.Eh|0,this.El|0,d|0,l|0),{h,l:b}=Q.add(this.Fh|0,this.Fl|0,h|0,b|0),{h:p,l:m}=Q.add(this.Gh|0,this.Gl|0,p|0,m|0),{h:w,l:P}=Q.add(this.Hh|0,this.Hl|0,w|0,P|0),this.set(r,s,i,o,a,c,u,f,d,l,h,b,p,m,w,P)}roundClean(){(0,oe.clean)(Et,Pt)}destroy(){(0,oe.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}ee.SHA512=jr;class au extends jr{constructor(){super(48),this.Ah=j.SHA384_IV[0]|0,this.Al=j.SHA384_IV[1]|0,this.Bh=j.SHA384_IV[2]|0,this.Bl=j.SHA384_IV[3]|0,this.Ch=j.SHA384_IV[4]|0,this.Cl=j.SHA384_IV[5]|0,this.Dh=j.SHA384_IV[6]|0,this.Dl=j.SHA384_IV[7]|0,this.Eh=j.SHA384_IV[8]|0,this.El=j.SHA384_IV[9]|0,this.Fh=j.SHA384_IV[10]|0,this.Fl=j.SHA384_IV[11]|0,this.Gh=j.SHA384_IV[12]|0,this.Gl=j.SHA384_IV[13]|0,this.Hh=j.SHA384_IV[14]|0,this.Hl=j.SHA384_IV[15]|0}}ee.SHA384=au;const he=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),pe=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class cu extends jr{constructor(){super(28),this.Ah=he[0]|0,this.Al=he[1]|0,this.Bh=he[2]|0,this.Bl=he[3]|0,this.Ch=he[4]|0,this.Cl=he[5]|0,this.Dh=he[6]|0,this.Dl=he[7]|0,this.Eh=he[8]|0,this.El=he[9]|0,this.Fh=he[10]|0,this.Fl=he[11]|0,this.Gh=he[12]|0,this.Gl=he[13]|0,this.Hh=he[14]|0,this.Hl=he[15]|0}}ee.SHA512_224=cu;class uu extends jr{constructor(){super(32),this.Ah=pe[0]|0,this.Al=pe[1]|0,this.Bh=pe[2]|0,this.Bl=pe[3]|0,this.Ch=pe[4]|0,this.Cl=pe[5]|0,this.Dh=pe[6]|0,this.Dl=pe[7]|0,this.Eh=pe[8]|0,this.El=pe[9]|0,this.Fh=pe[10]|0,this.Fl=pe[11]|0,this.Gh=pe[12]|0,this.Gl=pe[13]|0,this.Hh=pe[14]|0,this.Hl=pe[15]|0}}ee.SHA512_256=uu;ee.sha256=(0,oe.createHasher)(()=>new wo);ee.sha224=(0,oe.createHasher)(()=>new iu);ee.sha512=(0,oe.createHasher)(()=>new jr);ee.sha384=(0,oe.createHasher)(()=>new au);ee.sha512_256=(0,oe.createHasher)(()=>new uu);ee.sha512_224=(0,oe.createHasher)(()=>new cu);Object.defineProperty(lt,"__esModule",{value:!0});lt.sha224=lt.SHA224=fu=lt.sha256=lt.SHA256=void 0;const $s=ee;lt.SHA256=$s.SHA256;var fu=lt.sha256=$s.sha256;lt.SHA224=$s.SHA224;lt.sha224=$s.sha224;const as=BigInt(2**32-1),ma=BigInt(32);function yd(e,t=!1){return t?{h:Number(e&as),l:Number(e>>ma&as)}:{h:Number(e>>ma&as)|0,l:Number(e&as)|0}}function md(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=yd(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const gd=(e,t,n)=>e<<n|t>>>32-n,wd=(e,t,n)=>t<<n|e>>>32-n,xd=(e,t,n)=>t<<n-32|e>>>64-n,vd=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ed(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ps(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Un(e,...t){if(!Ed(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Pd(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ps(e.outputLen),ps(e.blockLen)}function jn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function du(e,t){Un(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ad(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Dn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Js(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ye(e,t){return e<<32-t|e>>>t}const Sd=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Id(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Bd(e){for(let t=0;t<e.length;t++)e[t]=Id(e[t]);return e}const ga=Sd?e=>e:Bd;function Td(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Cs(e){return typeof e=="string"&&(e=Td(e)),Un(e),e}class xo{}function lu(e){const t=r=>e().update(Cs(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const $d=BigInt(0),ur=BigInt(1),Cd=BigInt(2),Od=BigInt(7),Rd=BigInt(256),Fd=BigInt(113),hu=[],pu=[],bu=[];for(let e=0,t=ur,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],hu.push(2*(5*r+n)),pu.push((e+1)*(e+2)/2%64);let s=$d;for(let i=0;i<7;i++)t=(t<<ur^(t>>Od)*Fd)%Rd,t&Cd&&(s^=ur<<(ur<<BigInt(i))-ur);bu.push(s)}const yu=md(bu,!0),kd=yu[0],Nd=yu[1],wa=(e,t,n)=>n>32?xd(e,t,n):gd(e,t,n),xa=(e,t,n)=>n>32?vd(e,t,n):wd(e,t,n);function Md(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],d=wa(u,f,1)^n[a],l=xa(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=l}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=pu[o],c=wa(s,i,a),u=xa(s,i,a),f=hu[o];s=e[f],i=e[f+1],e[f]=c,e[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=kd[r],e[1]^=Nd[r]}Dn(n)}class vo extends xo{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,ps(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ad(this.state)}clone(){return this._cloneInto()}keccak(){ga(this.state32),Md(this.state32,this.rounds),ga(this.state32),this.posOut=0,this.pos=0}update(t){jn(this),t=Cs(t),Un(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){jn(this,!1),Un(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ps(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(du(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Dn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new vo(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const _d=(e,t,n)=>lu(()=>new vo(t,e,n)),mu=_d(1,136,256/8);function Ld(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function Hd(e,t,n){return e&t^~e&n}function zd(e,t,n){return e&t^e&n^t&n}class Ud extends xo{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Js(this.buffer)}update(t){jn(this),t=Cs(t),Un(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Js(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){jn(this),du(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Dn(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Ld(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Js(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const At=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jd=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),St=new Uint32Array(64);class Dd extends Ud{constructor(t=32){super(64,t,8,!1),this.A=At[0]|0,this.B=At[1]|0,this.C=At[2]|0,this.D=At[3]|0,this.E=At[4]|0,this.F=At[5]|0,this.G=At[6]|0,this.H=At[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)St[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=St[d-15],h=St[d-2],b=Ye(l,7)^Ye(l,18)^l>>>3,p=Ye(h,17)^Ye(h,19)^h>>>10;St[d]=p+St[d-7]+b+St[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=Ye(a,6)^Ye(a,11)^Ye(a,25),h=f+l+Hd(a,c,u)+jd[d]+St[d]|0,p=(Ye(r,2)^Ye(r,13)^Ye(r,22))+zd(r,s,i)|0;f=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){Dn(St)}destroy(){this.set(0,0,0,0,0,0,0,0),Dn(this.buffer)}}const qd=lu(()=>new Dd);class gu extends xo{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Pd(t);const r=Cs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Dn(i)}update(t){return jn(this),this.iHash.update(t),this}digestInto(t){jn(this),Un(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const wu=(e,t,n)=>new gu(e,t).update(n).digest();wu.create=(e,t)=>new gu(e,t);const Gd="1.2.3";let Se=class Ei extends Error{constructor(t,n={}){var o;const r=n.cause instanceof Ei?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Ei&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Gd}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function wt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const xu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,vu=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Eu=/^\(.+?\).*?$/,va=/^tuple(?<array>(\[(\d*)\])*)$/;function Pi(e){let t=e.type;if(va.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Pi(i),s<n-1&&(t+=", ")}const r=wt(va,e.type);return t+=`)${(r==null?void 0:r.array)||""}`,Pi({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function En(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Pi(s),r!==n-1&&(t+=", ")}return t}function bs(e){var t;return e.type==="function"?`function ${e.name}(${En(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${En(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${En(e.inputs)})`:e.type==="error"?`error ${e.name}(${En(e.inputs)})`:e.type==="constructor"?`constructor(${En(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Pu=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Vd(e){return Pu.test(e)}function Wd(e){return wt(Pu,e)}const Au=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Qd(e){return Au.test(e)}function Zd(e){return wt(Au,e)}const Su=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Kd(e){return Su.test(e)}function Yd(e){return wt(Su,e)}const Iu=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Os(e){return Iu.test(e)}function Jd(e){return wt(Iu,e)}const Bu=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Xd(e){return Bu.test(e)}function el(e){return wt(Bu,e)}const Tu=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function tl(e){return Tu.test(e)}function nl(e){return wt(Tu,e)}const rl=/^receive\(\) external payable$/;function sl(e){return rl.test(e)}const Ea=new Set(["memory","indexed","storage","calldata"]),il=new Set(["indexed"]),Ai=new Set(["calldata","memory","storage"]);class ol extends Se{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class al extends Se{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class cl extends Se{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class ul extends Se{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class fl extends Se{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class dl extends Se{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class ll extends Se{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class hl extends Se{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class pl extends Se{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Yn extends Se{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class bl extends Se{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class yl extends Se{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ml extends Se{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class gl extends Se{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function wl(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const Xs=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Si(e,t={}){if(Kd(e))return xl(e,t);if(Qd(e))return vl(e,t);if(Vd(e))return El(e,t);if(Xd(e))return Pl(e,t);if(tl(e))return Al(e);if(sl(e))return{type:"receive",stateMutability:"payable"};throw new bl({signature:e})}function xl(e,t={}){const n=Yd(e);if(!n)throw new Yn({signature:e,type:"function"});const r=Be(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(bt(r[a],{modifiers:Ai,structs:t,type:"function"}));const o=[];if(n.returns){const a=Be(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(bt(a[u],{modifiers:Ai,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function vl(e,t={}){const n=Zd(e);if(!n)throw new Yn({signature:e,type:"event"});const r=Be(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(bt(r[o],{modifiers:il,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function El(e,t={}){const n=Wd(e);if(!n)throw new Yn({signature:e,type:"error"});const r=Be(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(bt(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Pl(e,t={}){const n=el(e);if(!n)throw new Yn({signature:e,type:"constructor"});const r=Be(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(bt(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Al(e){const t=nl(e);if(!t)throw new Yn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Sl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Il=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Bl=/^u?int$/;function bt(e,t){var d,l;const n=wl(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Xs.has(n))return Xs.get(n);const r=Eu.test(e),s=wt(r?Il:Sl,e);if(!s)throw new fl({param:e});if(s.name&&$l(s.name))throw new dl({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Be(s.type),b=[],p=h.length;for(let m=0;m<p;m++)b.push(bt(h[m],{structs:a}));u={components:b}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Bl.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!$u(c))throw new cl({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new ll({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Ai.has(s.modifier)&&!Cl(c,!!s.array))throw new hl({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...i,...o,...u};return Xs.set(n,f),f}function Be(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?Be(a,[...t,n.trim()]):Be(a,t,`${n}${o}`,r);case"(":return Be(a,t,`${n}${o}`,r+1);case")":return Be(a,t,`${n}${o}`,r-1);default:return Be(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new gl({current:n,depth:r});return t.push(n.trim()),t}function $u(e){return e==="address"||e==="bool"||e==="function"||e==="string"||xu.test(e)||vu.test(e)}const Tl=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function $l(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||xu.test(e)||vu.test(e)||Tl.test(e)}function Cl(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Eo(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Os(a))continue;const c=Jd(a);if(!c)throw new Yn({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const p=bt(b,{type:"struct"});f.push(p)}if(!f.length)throw new yl({signature:a});t[c.name]=f}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=Cu(c,t)}return r}const Ol=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Cu(e=[],t={},n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(Eu.test(o.type))r.push(o);else{const c=wt(Ol,o.type);if(!(c!=null&&c.type))throw new pl({abiParameter:o});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new ml({type:f});r.push({...o,type:`tuple${u??""}`,components:Cu(t[f],t,new Set([...n,f]))})}else if($u(f))r.push(o);else throw new al({type:f})}}return r}function Ou(e){const t=Eo(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];Os(i)||n.push(Si(i,t))}return n}function Pa(e){let t;if(typeof e=="string")t=Si(e);else{const n=Eo(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!Os(i)){t=Si(i,n);break}}}if(!t)throw new ol({signature:e});return t}function Aa(e){const t=[];if(typeof e=="string"){const n=Be(e),r=n.length;for(let s=0;s<r;s++)t.push(bt(n[s],{modifiers:Ea}))}else{const n=Eo(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(Os(i))continue;const o=Be(i),a=o.length;for(let c=0;c<a;c++)t.push(bt(o[c],{modifiers:Ea,structs:n}))}}if(t.length===0)throw new ul({params:e});return t}function z(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}function je(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Gl(e.type);return`${e.name}(${Rs(e.inputs,{includeName:t})})`}function Rs(e,{includeName:t=!1}={}){return e?e.map(n=>Rl(n,{includeName:t})).join(t?", ":","):""}function Rl(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Rs(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function De(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function se(e){return De(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ru="2.43.5";let fr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Ru}`},R=class Ii extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof Ii?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Ii&&n.cause.docsPath||n.docsPath,i=(a=fr.getDocsUrl)==null?void 0:a.call(fr,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...fr.version?[`Version: ${fr.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Ru}walk(t){return Fu(this,t)}};function Fu(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Fu(e.cause,t):t?null:e}class Fl extends R{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Sa extends R{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ku extends R{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Rs(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Dr extends R{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class kl extends R{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Nl extends R{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${se(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Ml extends R{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class _l extends R{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Ia extends R{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Nu extends R{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Ll extends R{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Hl extends R{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Ba extends R{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class qn extends R{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Mu extends R{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class zl extends R{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Ul extends R{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${je(t.abiItem)}\`, and`,`\`${n.type}\` in \`${je(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let jl=class extends R{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class ys extends R{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Rs(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Po extends R{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${je(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Dl extends R{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class ql extends R{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let _u=class extends R{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Gl extends R{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Vl extends R{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Lu=class extends R{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Hu=class extends R{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Ta extends R{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Jn(e,{dir:t,size:n=32}={}){return typeof e=="string"?Nt(e,{dir:t,size:n}):Wl(e,{dir:t,size:n})}function Nt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Hu({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Wl(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Hu({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let zu=class extends R{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Ql=class extends R{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Zl extends R{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Kl=class extends R{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Mt(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Qe(e,{size:t}){if(se(e)>t)throw new Kl({givenSize:se(e),maxSize:t})}function Te(e,t={}){const{signed:n}=t;t.size&&Qe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Yl(e,t={}){let n=e;if(t.size&&(Qe(n,{size:t.size}),n=Mt(n)),Mt(n)==="0x00")return!1;if(Mt(n)==="0x01")return!0;throw new Zl(n)}function qe(e,t={}){return Number(Te(e,t))}const Jl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yt(e,t={}){return typeof e=="number"||typeof e=="bigint"?U(e,t):typeof e=="string"?Gn(e,t):typeof e=="boolean"?Uu(e,t):ae(e,t)}function Uu(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Qe(n,{size:t.size}),Jn(n,{size:t.size})):n}function ae(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Jl[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Qe(r,{size:t.size}),Jn(r,{dir:"right",size:t.size})):r}function U(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new zu({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Jn(a,{size:r}):a}const Xl=new TextEncoder;function Gn(e,t={}){const n=Xl.encode(e);return ae(n,t)}const eh=new TextEncoder;function Xn(e,t={}){return typeof e=="number"||typeof e=="bigint"?nh(e,t):typeof e=="boolean"?th(e,t):De(e)?rt(e,t):on(e,t)}function th(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Qe(n,{size:t.size}),Jn(n,{size:t.size})):n}const st={zero:48,nine:57,A:65,F:70,a:97,f:102};function $a(e){if(e>=st.zero&&e<=st.nine)return e-st.zero;if(e>=st.A&&e<=st.F)return e-(st.A-10);if(e>=st.a&&e<=st.f)return e-(st.a-10)}function rt(e,t={}){let n=e;t.size&&(Qe(n,{size:t.size}),n=Jn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=$a(r.charCodeAt(a++)),u=$a(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new R(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function nh(e,t){const n=U(e,t);return rt(n)}function on(e,t={}){const n=eh.encode(e);return typeof t.size=="number"?(Qe(n,{size:t.size}),Jn(n,{dir:"right",size:t.size})):n}function le(e,t){const n=t||"hex",r=mu(De(e,{strict:!1})?Xn(e):e);return n==="bytes"?r:yt(r)}const rh=e=>le(Xn(e));function sh(e){return rh(e)}function ih(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new R("Unable to normalize signature.");return s}const oh=e=>{const t=typeof e=="string"?e:bs(e);return ih(t)};function ju(e){return sh(oh(e))}const Fs=ju;let Lt=class extends R{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},er=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const ei=new er(8192);function qr(e,t){if(ei.has(`${e}.${t}`))return ei.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=le(on(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return ei.set(`${e}.${t}`,i),i}function Ao(e,t){if(!Le(e,{strict:!1}))throw new Lt({address:e});return qr(e,t)}const ah=/^0x[a-fA-F0-9]{40}$/,ti=new er(8192);function Le(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(ti.has(r))return ti.get(r);const s=ah.test(e)?e.toLowerCase()===e?!0:n?qr(e)===e:!0:!1;return ti.set(r,s),s}function $e(e){return typeof e[0]=="string"?tr(e):ch(e)}function ch(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function tr(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Vn(e,t,n,{strict:r}={}){return De(e,{strict:!1})?Bi(e,t,n,{strict:r}):Gu(e,t,n,{strict:r})}function Du(e,t){if(typeof t=="number"&&t>0&&t>se(e)-1)throw new Lu({offset:t,position:"start",size:se(e)})}function qu(e,t,n){if(typeof t=="number"&&typeof n=="number"&&se(e)!==n-t)throw new Lu({offset:n,position:"end",size:se(e)})}function Gu(e,t,n,{strict:r}={}){Du(e,t);const s=e.slice(t,n);return r&&qu(s,t,n),s}function Bi(e,t,n,{strict:r}={}){Du(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&qu(s,t,n),s}const uh=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Vu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function zt(e,t){if(e.length!==t.length)throw new Ml({expectedLength:e.length,givenLength:t.length});const n=fh({params:e,values:t}),r=Io(n);return r.length===0?"0x":r}function fh({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(So({param:e[r],value:t[r]}));return n}function So({param:e,value:t}){const n=Bo(e.type);if(n){const[r,s]=n;return lh(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return mh(t,{param:e});if(e.type==="address")return dh(t);if(e.type==="bool")return ph(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Vu.exec(e.type)??[];return bh(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return hh(t,{param:e});if(e.type==="string")return yh(t);throw new Dl(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Io(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=se(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(U(t+s,{size:32})),r.push(a),s+=se(a)):n.push(a)}return $e([...n,...r])}function dh(e){if(!Le(e))throw new Lt({address:e});return{dynamic:!1,encoded:Nt(e.toLowerCase())}}function lh(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new _u(e);if(!r&&e.length!==t)throw new kl({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=So({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Io(i);if(r){const a=U(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?$e([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:$e(i.map(({encoded:o})=>o))}}function hh(e,{param:t}){const[,n]=t.type.split("bytes"),r=se(e);if(!n){let s=e;return r%32!==0&&(s=Nt(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:$e([Nt(U(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Nl({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Nt(e,{dir:"right"})}}function ph(e){if(typeof e!="boolean")throw new R(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Nt(Uu(e))}}function bh(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new zu({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:U(e,{size:32,signed:t})}}function yh(e){const t=Gn(e),n=Math.ceil(se(t)/32),r=[];for(let s=0;s<n;s++)r.push(Nt(Vn(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:$e([Nt(U(se(t),{size:32})),...r])}}function mh(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=So({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Io(r):$e(r.map(({encoded:s})=>s))}}function Bo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Gr=e=>Vn(ju(e),0,4);function mn(e){const{abi:t,args:n=[],name:r}=e,s=De(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?Gr(a)===r:a.type==="event"?Fs(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Ti(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=Wu(a.inputs,o.inputs,n);if(u)throw new Ul({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function Ti(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Le(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>n==="object"&&Ti(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ti(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Wu(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Wu(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Le(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Le(n[r],{strict:!1}):!1)return o}}const Ca="/docs/contract/encodeEventTopics";function Vr(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=mn({abi:t,name:n});if(!u)throw new Ba(n,{docsPath:Ca});s=u}if(s.type!=="event")throw new Ba(void 0,{docsPath:Ca});const i=je(s),o=Fs(i);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((h,b)=>Oa({param:d,value:f[l][b]})):typeof f[l]<"u"&&f[l]!==null?Oa({param:d,value:f[l]}):null))??[])}return[o,...a]}function Oa({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return le(Xn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Vl(e.type);return zt([e],[t])}function ks(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&t===i&&(n[o]=c.request)})),i=>n[i]||e.request}async function Qu(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,u=ks(e,{method:"eth_newFilter"}),f=i?Vr({abi:r,args:s,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?U(o):o,toBlock:typeof c=="bigint"?U(c):c,topics:f}]});return{abi:r,args:s,eventName:i,id:d,request:u(d),strict:!!a,type:"event"}}function te(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Ra="/docs/contract/encodeFunctionData";function gh(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=mn({abi:t,args:n,name:r});if(!i)throw new qn(r,{docsPath:Ra});s=i}if(s.type!=="function")throw new qn(void 0,{docsPath:Ra});return{abi:[s],functionName:Gr(je(s))}}function Oe(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:gh(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?zt(s.inputs,t??[]):void 0;return tr([i,o??"0x"])}const wh={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Zu={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},xh={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Fa=class extends R{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Ku=class extends R{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},vh=class extends R{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Eh={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new vh({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ku({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Fa({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Fa({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function To(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Eh);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Ph(e,t={}){typeof t.size<"u"&&Qe(e,{size:t.size});const n=ae(e,t);return Te(n,t)}function Ah(e,t={}){let n=e;if(typeof t.size<"u"&&(Qe(n,{size:t.size}),n=Mt(n)),n.length>1||n[0]>1)throw new Ql(n);return!!n[0]}function ht(e,t={}){typeof t.size<"u"&&Qe(e,{size:t.size});const n=ae(e,t);return qe(n,t)}function Sh(e,t={}){let n=e;return typeof t.size<"u"&&(Qe(n,{size:t.size}),n=Mt(n,{dir:"right"})),new TextDecoder().decode(n)}function Wr(e,t){const n=typeof t=="string"?rt(t):t,r=To(n);if(se(n)===0&&e.length>0)throw new Dr;if(se(t)&&se(t)<32)throw new ku({data:typeof t=="string"?t:ae(t),params:e,size:se(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,u]=Sn(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function Sn(e,t,{staticPosition:n}){const r=Bo(t.type);if(r){const[s,i]=r;return Bh(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return Oh(e,t,{staticPosition:n});if(t.type==="address")return Ih(e);if(t.type==="bool")return Th(e);if(t.type.startsWith("bytes"))return $h(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Ch(e,t);if(t.type==="string")return Rh(e,{staticPosition:n});throw new ql(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ka=32,$i=32;function Ih(e){const t=e.readBytes(32);return[qr(ae(Gu(t,-20))),32]}function Bh(e,t,{length:n,staticPosition:r}){if(!n){const o=ht(e.readBytes($i)),a=r+o,c=a+ka;e.setPosition(a);const u=ht(e.readBytes(ka)),f=hr(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[b,p]=Sn(e,t,{staticPosition:c});d+=p,l.push(b)}return e.setPosition(r+32),[l,32]}if(hr(t)){const o=ht(e.readBytes($i)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Sn(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Sn(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function Th(e){return[Ah(e.readBytes(32),{size:32}),32]}function $h(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=ht(e.readBytes(32));e.setPosition(n+o);const a=ht(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ae(c),32]}return[ae(e.readBytes(Number.parseInt(s,10),32)),32]}function Ch(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Ph(s,{signed:n}):ht(s,{signed:n}),32]}function Oh(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(hr(t)){const o=ht(e.readBytes($i)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+i);const[f,d]=Sn(e,u,{staticPosition:a});i+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=Sn(e,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function Rh(e,{staticPosition:t}){const n=ht(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ht(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=Sh(Mt(i));return e.setPosition(t+32),[o,32]}function hr(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(hr);const n=Bo(e.type);return!!(n&&hr({...e,type:n[1]}))}function Yu(e){const{abi:t,data:n}=e,r=Vn(n,0,4);if(r==="0x")throw new Dr;const i=[...t||[],Zu,xh].find(o=>o.type==="error"&&r===Gr(je(o)));if(!i)throw new Nu(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Wr(i.inputs,Vn(n,4)):void 0,errorName:i.name}}const ie=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Ju({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?ie(t[i]):t[i]}`).join(", ")})`}const Fh={gwei:9,wei:18},kh={ether:-9,wei:9};function Xu(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function $o(e,t="wei"){return Xu(e,Fh[t])}function Ae(e,t="wei"){return Xu(e,kh[t])}class Nh extends R{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Mh extends R{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Na(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function _h(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Na(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Na(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Qr(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Lh extends R{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Qr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Hh extends R{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var b;const h=Qr({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${$o(l)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ae(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class e0 extends R{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class t0 extends R{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class n0 extends R{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class zh extends R{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Uh=e=>e,Zr=e=>e;class r0 extends R{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){var m;const b=n?te(n):void 0;let p=Qr({from:b==null?void 0:b.address,to:d,value:typeof l<"u"&&`${$o(l)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ae(u)} gwei`,nonce:f});h&&(p+=`
${_h(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class s0 extends R{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=mn({abi:n,args:r,name:o}),u=c?Ju({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?je(c,{includeName:!0}):void 0,d=Qr({address:s&&Uh(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class Ci extends R{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=Yu({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=o;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=wh[h]}else{const h=f?je(f,{includeName:!0}):void 0,b=f&&l?Ju({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){i=f}else s&&(c=s);let u;i instanceof Nu&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class jh extends R{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Dh extends R{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Ns extends R{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class an extends R{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Zr(o)}`,t&&`Request body: ${ie(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class Co extends R{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Zr(r)}`,`Request body: ${ie(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Ma extends R{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Zr(n)}`,`Request body: ${ie(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const qh=-1;class Ie extends R{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Co?t.code:n??qh}}class Re extends Ie{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class pr extends Ie{constructor(t){super(t,{code:pr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class br extends Ie{constructor(t){super(t,{code:br.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(br,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class yr extends Ie{constructor(t,{method:n}={}){super(t,{code:yr.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class mr extends Ie{constructor(t){super(t,{code:mr.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class dn extends Ie{constructor(t){super(t,{code:dn.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ht extends Ie{constructor(t){super(t,{code:Ht.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class gr extends Ie{constructor(t){super(t,{code:gr.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class wr extends Ie{constructor(t){super(t,{code:wr.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Wn extends Ie{constructor(t){super(t,{code:Wn.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Vt extends Ie{constructor(t,{method:n}={}){super(t,{code:Vt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Qn extends Ie{constructor(t){super(t,{code:Qn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class xr extends Ie{constructor(t){super(t,{code:xr.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class cn extends Re{constructor(t){super(t,{code:cn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class vr extends Re{constructor(t){super(t,{code:vr.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Er extends Re{constructor(t,{method:n}={}){super(t,{code:Er.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Er,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Pr extends Re{constructor(t){super(t,{code:Pr.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ar extends Re{constructor(t){super(t,{code:Ar.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Ar,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Sr extends Re{constructor(t){super(t,{code:Sr.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Sr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Zn extends Re{constructor(t){super(t,{code:Zn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Ir extends Re{constructor(t){super(t,{code:Ir.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Br extends Re{constructor(t){super(t,{code:Br.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Br,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Tr extends Re{constructor(t){super(t,{code:Tr.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Tr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class $r extends Re{constructor(t){super(t,{code:$r.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Cr extends Re{constructor(t){super(t,{code:Cr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Kn extends Re{constructor(t){super(t,{code:Kn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Gh extends Ie{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Vh=3;function ln(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof Ns?e:e instanceof R?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof Dr?new jh({functionName:i}):[Vh,dn.code].includes(c)&&(u||f||d||l)||c===Ht.code&&f==="execution reverted"&&u?new Ci({abi:t,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof Co?f:l??d}):e;return new s0(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function Wh(e){const t=le(`0x${e.substring(4)}`).substring(26);return qr(`0x${t}`)}async function Qh({hash:e,signature:t}){const n=De(e)?e:yt(e),{secp256k1:r}=await Mc(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>wy);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),b=_a(h);return new r.Signature(Te(u),Te(f)).addRecoveryBit(b)}const o=De(t)?t:yt(t);if(se(o)!==65)throw new Error("invalid signature length");const a=qe(`0x${o.slice(130)}`),c=_a(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function _a(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function i0({hash:e,signature:t}){return Wh(await Qh({hash:e,signature:t}))}function Zh(e,t="hex"){const n=o0(e),r=To(new Uint8Array(n.length));return n.encode(r),t==="hex"?ae(r.bytes):r.bytes}function o0(e){return Array.isArray(e)?Kh(e.map(t=>o0(t))):Yh(e)}function Kh(e){const t=e.reduce((s,i)=>s+i.length,0),n=a0(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function Yh(e){const t=typeof e=="string"?rt(e):e,n=a0(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function a0(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new R("Length is too large.")}function Jh(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=le(tr(["0x05",Zh([t?U(t):"0x",s,n?U(n):"0x"])]));return r==="bytes"?rt(i):i}async function Ms(e){const{authorization:t,signature:n}=e;return i0({hash:Jh(t),signature:n??t})}class Xh extends R{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var b;const h=Qr({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${$o(l)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ae(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Wt extends R{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Wt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class ms extends R{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ae(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(ms,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Oi extends R{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ae(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Oi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ri extends R{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Ri,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Fi extends R{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Fi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class ki extends R{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(ki,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ni extends R{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ni,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Mi extends R{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Mi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class _i extends R{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(_i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Li extends R{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Li,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class gs extends R{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ae(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ae(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(gs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Kr extends R{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function _s(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof R?e.walk(s=>(s==null?void 0:s.code)===Wt.code):e;return r instanceof R?new Wt({cause:e,message:r.details}):Wt.nodeMessage.test(n)?new Wt({cause:e,message:e.details}):ms.nodeMessage.test(n)?new ms({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Oi.nodeMessage.test(n)?new Oi({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ri.nodeMessage.test(n)?new Ri({cause:e,nonce:t==null?void 0:t.nonce}):Fi.nodeMessage.test(n)?new Fi({cause:e,nonce:t==null?void 0:t.nonce}):ki.nodeMessage.test(n)?new ki({cause:e,nonce:t==null?void 0:t.nonce}):Ni.nodeMessage.test(n)?new Ni({cause:e}):Mi.nodeMessage.test(n)?new Mi({cause:e,gas:t==null?void 0:t.gas}):_i.nodeMessage.test(n)?new _i({cause:e,gas:t==null?void 0:t.gas}):Li.nodeMessage.test(n)?new Li({cause:e}):gs.nodeMessage.test(n)?new gs({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Kr({cause:e})}function e1(e,{docsPath:t,...n}){const r=(()=>{const s=_s(e,n);return s instanceof Kr?e:s})();return new Xh(r,{docsPath:t,...n})}function nr(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}const t1={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Ut(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=n1(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>ae(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=U(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=U(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=U(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=U(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=U(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=U(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=t1[e.type]),typeof e.value<"u"&&(n.value=U(e.value)),n}function n1(e){return e.map(t=>({address:t.address,r:t.r?U(BigInt(t.r)):t.r,s:t.s?U(BigInt(t.s)):t.s,chainId:U(t.chainId),nonce:U(t.nonce),...typeof t.yParity<"u"?{yParity:U(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:U(t.v)}:{}}))}function La(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ta({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ta({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function r1(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=U(t)),n!==void 0&&(o.nonce=U(n)),r!==void 0&&(o.state=La(r)),s!==void 0){if(o.state)throw new Mh;o.stateDiff=La(s)}return o}function Oo(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Le(n,{strict:!1}))throw new Lt({address:n});if(t[n])throw new Nh({address:n});t[n]=r1(r)}return t}const s1=2n**256n-1n;function xt(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,i=t?te(t):void 0;if(i&&!Le(i.address))throw new Lt({address:i.address});if(s&&!Le(s))throw new Lt({address:s});if(n&&n>s1)throw new ms({maxFeePerGas:n});if(r&&n&&r>n)throw new gs({maxFeePerGas:n,maxPriorityFeePerGas:r})}class c0 extends R{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ro extends R{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class i1 extends R{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ae(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class u0 extends R{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const f0={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Fo(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?qe(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?qe(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?f0[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=o1(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function o1(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function d0(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Fo(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Ue(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const i=s??!1,o=n!==void 0?U(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new u0({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||d0)(a,"getBlock")}async function ko(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function a1(e,t){return l0(e,t)}async function l0(e,t){var i,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await z(e,Ue,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Te(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):z(e,Ue,"getBlock")({}),z(e,ko,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Ro;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function c1(e,t){return Hi(e,t)}async function Hi(e,t){var l,h;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var b,p;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(o<1)throw new c0;const c=10**(((l=o.toString().split(".")[1])==null?void 0:l.length)??0),u=b=>b*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await z(e,Ue,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:i});if(b!==null)return b}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Ro;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await l0(e,{block:f,chain:r,request:s}),p=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await z(e,ko,"getGasPrice")({}))}}async function No(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?U(r):n]},{dedupe:!!r});return qe(s)}function h0(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>rt(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>ae(i))}function p0(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>rt(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>rt(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>ae(o))}function u1(e,t){return fu(De(e,{strict:!1})?Xn(e):e)}function f1(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=u1(t);return s.set([n],0),r==="bytes"?s:ae(s)}function d1(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const i of t)s.push(f1({commitment:i,to:r,version:n}));return s}const Ha=6,b0=32,Mo=4096,y0=b0*Mo,za=y0*Ha-1-1*Mo*Ha;class l1 extends R{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class h1 extends R{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function p1(e){const t=typeof e.data=="string"?rt(e.data):e.data,n=se(t);if(!n)throw new h1;if(n>za)throw new l1({maxSize:za,size:n});const r=[];let s=!0,i=0;for(;s;){const o=To(new Uint8Array(y0));let a=0;for(;a<Mo;){const c=t.slice(i,i+(b0-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>ae(o.bytes))}function b1(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??p1({data:t}),i=e.commitments??h0({blobs:s,kzg:n,to:r}),o=e.proofs??p0({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function y1(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Lh({transaction:e})}function Ls(e,{docsPath:t,...n}){const r=(()=>{const s=_s(e,n);return s instanceof Kr?e:s})();return new Hh(r,{docsPath:t,...n})}async function jt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return qe(t)}async function _o(e,t){var A,O,$,T,F;const{account:n=e.account,accessList:r,authorizationList:s,chain:i=e.chain,blobVersionedHashes:o,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:b,nonceManager:p,to:m,type:w,value:P,...g}=t,y=await(async()=>{if(!n||!p||typeof b<"u")return b;const k=te(n),D=i?i.id:await z(e,jt,"getChainId")({});return await p.consume({address:k.address,chainId:D,client:e})})();xt(t);const E=(O=(A=i==null?void 0:i.formatters)==null?void 0:A.transactionRequest)==null?void 0:O.format,S=(E||Ut)({...nr(g,{format:E}),account:n?te(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:o,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:y,to:m,type:w,value:P},"fillTransaction");try{const k=await e.request({method:"eth_fillTransaction",params:[S]}),I=(((T=($=i==null?void 0:i.formatters)==null?void 0:$.transaction)==null?void 0:T.format)||Fo)(k.tx);delete I.blockHash,delete I.blockNumber,delete I.r,delete I.s,delete I.transactionIndex,delete I.v,delete I.yParity,I.data=I.input,I.gas&&(I.gas=t.gas??I.gas),I.gasPrice&&(I.gasPrice=t.gasPrice??I.gasPrice),I.maxFeePerBlobGas&&(I.maxFeePerBlobGas=t.maxFeePerBlobGas??I.maxFeePerBlobGas),I.maxFeePerGas&&(I.maxFeePerGas=t.maxFeePerGas??I.maxFeePerGas),I.maxPriorityFeePerGas&&(I.maxPriorityFeePerGas=t.maxPriorityFeePerGas??I.maxPriorityFeePerGas),I.nonce&&(I.nonce=t.nonce??I.nonce);const N=await(async()=>{var C,H;if(typeof((C=i==null?void 0:i.fees)==null?void 0:C.baseFeeMultiplier)=="function"){const V=await z(e,Ue,"getBlock")({});return i.fees.baseFeeMultiplier({block:V,client:e,request:t})}return((H=i==null?void 0:i.fees)==null?void 0:H.baseFeeMultiplier)??1.2})();if(N<1)throw new c0;const M=10**(((F=N.toString().split(".")[1])==null?void 0:F.length)??0),x=C=>C*BigInt(Math.ceil(N*M))/BigInt(M);return I.maxFeePerGas&&!t.maxFeePerGas&&(I.maxFeePerGas=x(I.maxFeePerGas)),I.gasPrice&&!t.gasPrice&&(I.gasPrice=x(I.gasPrice)),{raw:k.raw,transaction:{from:S.from,...I}}}catch(k){throw Ls(k,{...t,chain:e.chain})}}const Lo=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Ua=new Map,ni=new er(128);async function Yr(e,t){var y,E,B;let n=t;n.account??(n.account=e.account),n.parameters??(n.parameters=Lo);const{account:r,chain:s=e.chain,nonceManager:i,parameters:o}=n,a=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await z(e,jt,"getChainId")({}),c))}const f=r&&te(r);let d=n.nonce;if(o.includes("nonce")&&typeof d>"u"&&f&&i){const S=await u();d=await i.consume({address:f.address,chainId:S,client:e})}a!=null&&a.fn&&((y=a.runAt)!=null&&y.includes("beforeFillTransaction"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??(d=n.nonce));const h=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&n.kzg&&n.blobs||ni.get(e.uid)===!1||!["fees","gas"].some(A=>o.includes(A))?!1:!!(o.includes("chainId")&&typeof n.chainId!="number"||o.includes("nonce")&&typeof d!="number"||o.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof n.gas!="bigint"))?await z(e,_o,"fillTransaction")({...n,nonce:d}).then(S=>{const{chainId:A,from:O,gas:$,gasPrice:T,nonce:F,maxFeePerBlobGas:k,maxFeePerGas:D,maxPriorityFeePerGas:I,type:N,..._}=S.transaction;return ni.set(e.uid,!0),{...n,...O?{from:O}:{},...N?{type:N}:{},...typeof A<"u"?{chainId:A}:{},...typeof $<"u"?{gas:$}:{},...typeof T<"u"?{gasPrice:T}:{},...typeof F<"u"?{nonce:F}:{},...typeof k<"u"?{maxFeePerBlobGas:k}:{},...typeof D<"u"?{maxFeePerGas:D}:{},...typeof I<"u"?{maxPriorityFeePerGas:I}:{},..."nonceKey"in _&&typeof _.nonceKey<"u"?{nonceKey:_.nonceKey}:{}}}).catch(S=>{var $;const A=S;return A.name!=="TransactionExecutionError"||(($=A.walk)==null?void 0:$.call(A,T=>{const F=T;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"}))&&ni.set(e.uid,!1),n}):n;d??(d=h.nonce),n={...h,...f?{from:f==null?void 0:f.address}:{},...d?{nonce:d}:{}};const{blobs:b,gas:p,kzg:m,type:w}=n;a!=null&&a.fn&&((E=a.runAt)!=null&&E.includes("beforeFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let P;async function g(){return P||(P=await z(e,Ue,"getBlock")({blockTag:"latest"}),P)}if(o.includes("nonce")&&typeof d>"u"&&f&&!i&&(n.nonce=await z(e,No,"getTransactionCount")({address:f.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&b&&m){const S=h0({blobs:b,kzg:m});if(o.includes("blobVersionedHashes")){const A=d1({commitments:S,to:"hex"});n.blobVersionedHashes=A}if(o.includes("sidecars")){const A=p0({blobs:b,commitments:S,kzg:m}),O=b1({blobs:b,commitments:S,proofs:A,to:"hex"});n.sidecars=O}}if(o.includes("chainId")&&(n.chainId=await u()),(o.includes("fees")||o.includes("type"))&&typeof w>"u")try{n.type=y1(n)}catch{let S=Ua.get(e.uid);if(typeof S>"u"){const A=await g();S=typeof(A==null?void 0:A.baseFeePerGas)=="bigint",Ua.set(e.uid,S)}n.type=S?"eip1559":"legacy"}if(o.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const S=await g(),{maxFeePerGas:A,maxPriorityFeePerGas:O}=await Hi(e,{block:S,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<O)throw new i1({maxPriorityFeePerGas:O});n.maxPriorityFeePerGas=O,n.maxFeePerGas=A}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Ro;if(typeof n.gasPrice>"u"){const S=await g(),{gasPrice:A}=await Hi(e,{block:S,chain:s,request:n,type:"legacy"});n.gasPrice=A}}return o.includes("gas")&&typeof p>"u"&&(n.gas=await z(e,Ho,"estimateGas")({...n,account:f,prepare:(f==null?void 0:f.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((B=a.runAt)!=null&&B.includes("afterFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),xt(n),delete n.parameters,n}async function Ho(e,t){var o,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?te(n):void 0,i=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await Ms({authorization:t.authorizationList[0]}).catch(()=>{throw new R("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:f,authorizationList:d,blobs:l,blobVersionedHashes:h,blockNumber:b,blockTag:p,data:m,gas:w,gasPrice:P,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:E,nonce:B,value:S,stateOverride:A,...O}=r?await Yr(e,{...t,parameters:i,to:u}):t;if(w&&t.gas!==w)return w;const T=(typeof b=="bigint"?U(b):void 0)||p,F=Oo(A);xt(t);const k=(c=(a=(o=e.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,I=(k||Ut)({...nr(O,{format:k}),account:s,accessList:f,authorizationList:d,blobs:l,blobVersionedHashes:h,data:m,gasPrice:P,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:E,nonce:B,to:u,value:S},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:F?[I,T??e.experimental_blockTag??"latest",F]:T?[I,T]:[I]}))}catch(u){throw e1(u,{...t,account:s,chain:e.chain})}}async function m1(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=Oe({abi:n,args:s,functionName:i});try{return await z(e,Ho,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?te(a.account):void 0;throw ln(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f==null?void 0:f.address})}}function rr(e,t){if(!Le(e,{strict:!1}))throw new Lt({address:e});if(!Le(t,{strict:!1}))throw new Lt({address:t});return e.toLowerCase()===t.toLowerCase()}const ja="/docs/contract/decodeEventLog";function ws(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new Ll({docsPath:ja});const c=t.find(p=>p.type==="event"&&o===Fs(je(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Hl(o,{docsPath:ja});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(p=>!("name"in p&&p.name)),l=d?[]:{},h=f.map((p,m)=>[p,m]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const[m,w]=h[p],P=a[p];if(!P)throw new Po({abiItem:c,param:m});l[d?w:m.name||w]=g1({param:m,value:P})}const b=f.filter(p=>!("indexed"in p&&p.indexed));if(b.length>0){if(n&&n!=="0x")try{const p=Wr(b,n);if(p)if(d)for(let m=0;m<f.length;m++)l[m]=l[m]??p.shift();else for(let m=0;m<b.length;m++)l[b[m].name]=p[m]}catch(p){if(i)throw p instanceof ku||p instanceof Ku?new ys({abiItem:c,data:n,params:b,size:se(n)}):p}else if(i)throw new ys({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function g1({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Wr([e],t)||[])[0]}function zo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var f;const a=t.filter(d=>d.type==="event"&&o.topics[0]===Fs(d));if(a.length===0)return null;let c,u;for(const d of a)try{c=ws({...o,abi:[d],strict:!0}),u=d;break}catch{}if(!c&&!s){u=a[0];try{c=ws({...o,abi:[u],strict:!1})}catch{const d=(f=u.inputs)==null?void 0:f.some(l=>!("name"in l&&l.name));return{...o,args:d?[]:{},eventName:u.name}}}return!c||!u||i&&!i.includes(c.eventName)||!w1({args:c.args,inputs:u.inputs,matchArgs:n})?null:{...c,...o}}).filter(Boolean)}function w1(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?rr(o,a):i.type==="string"||i.type==="bytes"?le(Xn(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):!1}function mt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Uo(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,f=o??(i?[i]:void 0);let d=[];f&&(d=[f.flatMap(p=>Vr({abi:[p],eventName:p.name,args:o?void 0:a}))],i&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?U(r):r,toBlock:typeof s=="bigint"?U(s):s}]});const h=l.map(b=>mt(b));return f?zo({abi:f,args:a,logs:h,strict:u}):h}async function m0(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,f=o?mn({abi:n,name:o}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return z(e,Uo,"getLogs")({address:r,args:s,blockHash:i,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const ri="/docs/contract/decodeFunctionResult";function gn(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=mn({abi:t,args:n,name:r});if(!a)throw new qn(r,{docsPath:ri});i=a}if(i.type!=="function")throw new qn(void 0,{docsPath:ri});if(!i.outputs)throw new Mu(i.name,{docsPath:ri});const o=Wr(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jo=BigInt(0),zi=BigInt(1);function Jr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Do(e){if(!Jr(e))throw new Error("Uint8Array expected")}function Or(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function cs(e){const t=e.toString(16);return t.length&1?"0"+t:t}function g0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?jo:BigInt("0x"+e)}const w0=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",x1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Rr(e){if(Do(e),w0)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=x1[e[n]];return t}const it={_0:48,_9:57,A:65,F:70,a:97,f:102};function Da(e){if(e>=it._0&&e<=it._9)return e-it._0;if(e>=it.A&&e<=it.F)return e-(it.A-10);if(e>=it.a&&e<=it.f)return e-(it.a-10)}function xs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(w0)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Da(e.charCodeAt(i)),a=Da(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function un(e){return g0(Rr(e))}function x0(e){return Do(e),g0(Rr(Uint8Array.from(e).reverse()))}function Xr(e,t){return xs(e.toString(16).padStart(t*2,"0"))}function v0(e,t){return Xr(e,t).reverse()}function ke(e,t,n){let r;if(typeof t=="string")try{r=xs(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Jr(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function vs(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Do(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const si=e=>typeof e=="bigint"&&jo<=e;function qo(e,t,n){return si(e)&&si(t)&&si(n)&&t<=e&&e<n}function In(e,t,n,r){if(!qo(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function v1(e){let t;for(t=0;e>jo;e>>=zi,t+=1);return t}const Hs=e=>(zi<<BigInt(e))-zi,ii=e=>new Uint8Array(e),qa=e=>Uint8Array.from(e);function E1(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ii(e),s=ii(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=ii(0))=>{s=a(qa([0]),d),r=a(),d.length!==0&&(s=a(qa([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return vs(...l)};return(d,l)=>{o(),c(d);let h;for(;!(h=l(u()));)c();return o(),h}}const P1={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Jr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function zs(e,t,n={}){const r=(s,i,o)=>{const a=P1[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function Ga(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const A1="0.1.1";function S1(){return A1}class G extends Error{static setStaticOptions(t){G.prototype.docsOrigin=t.docsOrigin,G.prototype.showVersion=t.showVersion,G.prototype.version=t.version}constructor(t,n={}){const r=(()=>{var f;if(n.cause instanceof G){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(f=n.cause)!=null&&f.message?n.cause.message:n.details})(),s=n.cause instanceof G&&n.cause.docsPath||n.docsPath,i=n.docsOrigin??G.prototype.docsOrigin,o=`${i}${s??""}`,a=!!(n.version??G.prototype.showVersion),c=n.version??G.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=o,this.docsOrigin=i,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return E0(this,t)}}Object.defineProperty(G,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${S1()}`}});G.setStaticOptions(G.defaultStaticOptions);function E0(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?E0(e.cause,t):t?null:e}function es(e,t){if(Pn(e)>t)throw new j1({givenSize:Pn(e),maxSize:t})}const ot={zero:48,nine:57,A:65,F:70,a:97,f:102};function Va(e){if(e>=ot.zero&&e<=ot.nine)return e-ot.zero;if(e>=ot.A&&e<=ot.F)return e-(ot.A-10);if(e>=ot.a&&e<=ot.f)return e-(ot.a-10)}function I1(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new D1({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function P0(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Us(e,t){if(Ce(e)>t)throw new Z1({givenSize:Ce(e),maxSize:t})}function B1(e,t){if(typeof t=="number"&&t>0&&t>Ce(e)-1)throw new R0({offset:t,position:"start",size:Ce(e)})}function T1(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Ce(e)!==n-t)throw new R0({offset:n,position:"end",size:Ce(e)})}function A0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new K1({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const $1="#__bigint";function S0(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+$1:s,n)}const C1=new TextDecoder,O1=new TextEncoder;function R1(e){return e instanceof Uint8Array?e:typeof e=="string"?I0(e):F1(e)}function F1(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function I0(e,t={}){const{size:n}=t;let r=e;n&&(Us(e,n),r=pn(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=Va(s.charCodeAt(c++)),f=Va(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new G(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u<<4|f}return o}function k1(e,t={}){const{size:n}=t,r=O1.encode(e);return typeof n=="number"?(es(r,n),N1(r,n)):r}function N1(e,t){return I1(e,{dir:"right",size:t})}function Pn(e){return e.length}function M1(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function _1(e,t={}){const{size:n}=t;typeof n<"u"&&es(e,n);const r=Ve(e,t);return $0(r,t)}function L1(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(es(r,n),r=B0(r)),r.length>1||r[0]>1)throw new U1(r);return!!r[0]}function pt(e,t={}){const{size:n}=t;typeof n<"u"&&es(e,n);const r=Ve(e,t);return C0(r,t)}function H1(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(es(r,n),r=z1(r)),C1.decode(r)}function B0(e){return P0(e,{dir:"left"})}function z1(e){return P0(e,{dir:"right"})}class U1 extends G{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let j1=class extends G{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},D1=class extends G{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const q1=new TextEncoder,G1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function V1(e,t={}){const{strict:n=!1}=t;if(!e)throw new Wa(e);if(typeof e!="string")throw new Wa(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Qa(e);if(!e.startsWith("0x"))throw new Qa(e)}function Ge(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function W1(e){return e instanceof Uint8Array?Ve(e):Array.isArray(e)?Ve(new Uint8Array(e)):e}function T0(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Us(n,t.size),hn(n,t.size)):n}function Ve(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=G1[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Us(r,t.size),pn(r,t.size)):r}function me(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof e=="bigint"?"n":"";throw new O0({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?hn(c,r):c}function Go(e,t={}){return Ve(q1.encode(e),t)}function hn(e,t){return A0(e,{dir:"left",size:t})}function pn(e,t){return A0(e,{dir:"right",size:t})}function nt(e,t,n,r={}){const{strict:s}=r;B1(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&T1(i,t,n),i}function Ce(e){return Math.ceil((e.length-2)/2)}function $0(e,t={}){const{signed:n}=t;t.size&&Us(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function C0(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:$0(e,t))}function Q1(e,t={}){const{strict:n=!1}=t;try{return V1(e,{strict:n}),!0}catch{return!1}}class O0 extends G{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Wa extends G{constructor(t){super(`Value \`${typeof t=="object"?S0(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Qa extends G{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Z1 extends G{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class R0 extends G{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class K1 extends G{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Y1(e){return{address:e.address,amount:me(e.amount),index:me(e.index),validatorIndex:me(e.validatorIndex)}}function F0(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:me(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:me(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:me(e.gasLimit)},...typeof e.number=="bigint"&&{number:me(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:me(e.prevRandao)},...typeof e.time=="bigint"&&{time:me(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Y1)}}}const Es=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Ui=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],k0=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],N0=[...k0,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],J1=[...k0,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Za=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ka=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],M0=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Ya=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],X1="0x82ad56cb",_0="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",ep="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",tp="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Vo="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class ji extends R{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class np extends R{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class rp extends R{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class L0 extends R{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const oi="/docs/contract/encodeDeployData";function js(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Fl({docsPath:oi});if(!("inputs"in s))throw new Sa({docsPath:oi});if(!s.inputs||s.inputs.length===0)throw new Sa({docsPath:oi});const i=zt(s.inputs,n);return tr([r,i])}function sr({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new ji({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new ji({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function H0(e,{docsPath:t,...n}){const r=(()=>{const s=_s(e,n);return s instanceof Kr?e:s})();return new r0(r,{docsPath:t,...n})}function Wo(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const ai=new Map;function z0({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const f=c();o();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:b}=f[h];b==null||b([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:b}=f[h];b==null||b(l)}})},o=()=>ai.delete(t),a=()=>c().map(({args:f})=>f),c=()=>ai.get(t)||[],u=f=>ai.set(t,[...c(),f]);return{flush:o,async schedule(f){const{promise:d,resolve:l,reject:h}=Wo();return(n==null?void 0:n([...a(),f]))&&i(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(i,r),d)}}}async function ts(e,t){var k,D,I,N;const{account:n=e.account,authorizationList:r,batch:s=!!((k=e.batch)!=null&&k.multicall),blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:P,nonce:g,to:y,value:E,stateOverride:B,...S}=t,A=n?te(n):void 0;if(f&&(l||h))throw new R("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&y)throw new R("Cannot provide both `code` & `to` as parameters.");const O=f&&d,$=l&&h&&y&&d,T=O||$,F=O?U0({code:f,data:d}):$?op({data:d,factory:l,factoryData:h,to:y}):d;try{xt(t);const M=(typeof i=="bigint"?U(i):void 0)||o,x=u?F0(u):void 0,C=Oo(B),H=(N=(I=(D=e.chain)==null?void 0:D.formatters)==null?void 0:I.transactionRequest)==null?void 0:N.format,Y=(H||Ut)({...nr(S,{format:H}),accessList:a,account:A,authorizationList:r,blobs:c,data:F,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:P,nonce:g,to:T?void 0:y,value:E},"call");if(s&&sp({request:Y})&&!C&&!x)try{return await ip(e,{...Y,blockNumber:i,blockTag:o})}catch(ce){if(!(ce instanceof L0)&&!(ce instanceof ji))throw ce}const J=(()=>{const ce=[Y,M];return C&&x?[...ce,C,x]:C?[...ce,C]:x?[...ce,{},x]:ce})(),ne=await e.request({method:"eth_call",params:J});return ne==="0x"?{data:void 0}:{data:ne}}catch(_){const M=ap(_),{offchainLookup:x,offchainLookupSignature:C}=await Mc(async()=>{const{offchainLookup:H,offchainLookupSignature:V}=await Promise.resolve().then(()=>sb);return{offchainLookup:H,offchainLookupSignature:V}},void 0);if(e.ccipRead!==!1&&(M==null?void 0:M.slice(0,10))===C&&y)return{data:await x(e,{data:M,to:y})};throw T&&(M==null?void 0:M.slice(0,10))==="0x101bb98d"?new Dh({factory:l}):H0(_,{...t,account:A,chain:e.chain})}}function sp({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(X1)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function ip(e,t){var p;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return sr({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new L0})(),d=(typeof i=="bigint"?U(i):void 0)||o,{schedule:l}=z0({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(m){return m.reduce((P,{data:g})=>P+(g.length-2),0)>n*2},fn:async m=>{const w=m.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),P=Oe({abi:Es,args:[w],functionName:"aggregate3"}),g=await e.request({method:"eth_call",params:[{...u===null?{data:U0({code:Vo,data:P})}:{to:u,data:P}},d]});return gn({abi:Es,args:[w],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:h,success:b}]=await l({data:a,to:c});if(!b)throw new Ns({data:h});return h==="0x"?{data:void 0}:{data:h}}function U0(e){const{code:t,data:n}=e;return js({abi:Ou(["constructor(bytes, bytes)"]),bytecode:_0,args:[t,n]})}function op(e){const{data:t,factory:n,factoryData:r,to:s}=e;return js({abi:Ou(["constructor(address, bytes, address, bytes)"]),bytecode:ep,args:[s,t,n,r]})}function ap(e){var n;if(!(e instanceof R))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function We(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=Oe({abi:n,args:s,functionName:i});try{const{data:c}=await z(e,ts,"call")({...o,data:a,to:r});return gn({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw ln(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function cp(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?te(a.account):e.account,u=Oe({abi:n,args:s,functionName:o});try{const{data:f}=await z(e,ts,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=gn({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw ln(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const ci=new Map,Ja=new Map;let up=0;function gt(e,t,n){const r=++up,s=()=>ci.get(e)||[],i=()=>{const f=s();ci.set(e,f.filter(d=>d.id!==r))},o=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Ja.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}i()},a=s();if(ci.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const f in t)c[f]=(...d)=>{var h,b;const l=s();if(l.length!==0)for(const p of l)(b=(h=p.fns)[f])==null||b.call(h,...d)};const u=n(c);return typeof u=="function"&&Ja.set(e,u),o}async function Ps(e){return new Promise(t=>setTimeout(t,e))}function ir(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await Ps(c);const u=async()=>{s&&(await e({unpoll:i}),await Ps(r),u())};u()})(),i}const fp=new Map,dp=new Map;function lp(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,fp),r=t(e,dp);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function hp(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=lp(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const pp=e=>`blockNumber.${e}`;async function ns(e,{cacheTime:t=e.cacheTime}={}){const n=await hp(()=>e.request({method:"eth_blockNumber"}),{cacheKey:pp(e.uid),cacheTime:t});return BigInt(n)}async function Ds(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>mt(i));return!("abi"in t)||!t.abi?s:zo({abi:t.abi,logs:s,strict:n})}async function qs(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function bp(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const m=l??!1,w=ie(["watchContractEvent",r,s,i,e.uid,o,d,m,a]);return gt(w,{onLogs:u,onError:c},P=>{let g;a!==void 0&&(g=a-1n);let y,E=!1;const B=ir(async()=>{var S;if(!E){try{y=await z(e,Qu,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:m,fromBlock:a})}catch{}E=!0;return}try{let A;if(y)A=await z(e,Ds,"getFilterChanges")({filter:y});else{const O=await z(e,ns,"getBlockNumber")({});g&&g<O?A=await z(e,m0,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:g+1n,toBlock:O,strict:m}):A=[],g=O}if(A.length===0)return;if(i)P.onLogs(A);else for(const O of A)P.onLogs([O])}catch(A){y&&A instanceof Ht&&(E=!1),(S=P.onError)==null||S.call(P,A)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await z(e,qs,"uninstallFilter")({filter:y}),B()}})})():(()=>{const m=l??!1,w=ie(["watchContractEvent",r,s,i,e.uid,o,d,m]);let P=!0,g=()=>P=!1;return gt(w,{onLogs:u,onError:c},y=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),B=o?Vr({abi:n,eventName:o,args:s}):[],{unsubscribe:S}=await E.subscribe({params:["logs",{address:r,topics:B}],onData(A){var $;if(!P)return;const O=A.result;try{const{eventName:T,args:F}=ws({abi:n,data:O.data,topics:O.topics,strict:l}),k=mt(O,{args:F,eventName:T});y.onLogs([k])}catch(T){let F,k;if(T instanceof ys||T instanceof Po){if(l)return;F=T.abiItem.name,k=($=T.abiItem.inputs)==null?void 0:$.some(I=>!("name"in I&&I.name))}const D=mt(O,{args:k?[]:{},eventName:F});y.onLogs([D])}},onError(A){var O;(O=y.onError)==null||O.call(y,A)}});g=S,P||g()}catch(E){c==null||c(E)}})(),()=>g()))})()}class Dt extends R{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class fn extends R{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Qo({chain:e,currentChainId:t}){if(!e)throw new rp;if(t!==e.id)throw new np({chain:e,currentChainId:t})}async function Zo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const ui=new er(128);async function Gs(e,t){var P,g,y,E;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,type:b,value:p,...m}=t;if(typeof n>"u")throw new Dt({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?te(n):null;try{xt(t);const B=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Ms({authorization:i[0]}).catch(()=>{throw new R("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let S;r!==null&&(S=await z(e,jt,"getChainId")({}),Qo({currentChainId:S,chain:r}));const A=(y=(g=(P=e.chain)==null?void 0:P.formatters)==null?void 0:g.transactionRequest)==null?void 0:y.format,$=(A||Ut)({...nr(m,{format:A}),accessList:s,account:w,authorizationList:i,blobs:o,chainId:S,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,to:B,type:b,value:p},"sendTransaction"),T=ui.get(e.uid),F=T?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:F,params:[$]},{retryCount:0})}catch(k){if(T===!1)throw k;const D=k;if(D.name==="InvalidInputRpcError"||D.name==="InvalidParamsRpcError"||D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[$]},{retryCount:0}).then(I=>(ui.set(e.uid,!0),I)).catch(I=>{const N=I;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(ui.set(e.uid,!1),D):N});throw D}}if((w==null?void 0:w.type)==="local"){const S=await z(e,Yr,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,nonceManager:w.nonceManager,parameters:[...Lo,"sidecars"],type:b,value:p,...m,to:B}),A=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,O=await w.signTransaction(S,{serializer:A});return await z(e,Zo,"sendRawTransaction")({serializedTransaction:O})}throw(w==null?void 0:w.type)==="smart"?new fn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new fn({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(B){throw B instanceof fn?B:Ls(B,{...t,account:w,chain:t.chain||void 0})}}async function Fr(e,t){return Fr.internal(e,Gs,"sendTransaction",t)}(function(e){async function t(n,r,s,i){const{abi:o,account:a=n.account,address:c,args:u,dataSuffix:f,functionName:d,...l}=i;if(typeof a>"u")throw new Dt({docsPath:"/docs/contract/writeContract"});const h=a?te(a):null,b=Oe({abi:o,args:u,functionName:d});try{return await z(n,r,s)({data:`${b}${f?f.replace("0x",""):""}`,to:c,account:h,...l})}catch(p){throw ln(p,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:h==null?void 0:h.address})}}e.internal=t})(Fr||(Fr={}));class yp extends R{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function As(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await Ps(f),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}const j0={"0x0":"reverted","0x1":"success"};function D0(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>mt(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?qe(e.transactionIndex):null,status:e.status?j0[e.status]:null,type:e.type?f0[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const q0="0x5792579257925792579257925792579257925792579257925792579257925792",G0=U(0,{size:32});async function V0(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=t,f=n?te(n):null,d=t.calls.map(l=>{const h=l,b=h.abi?Oe({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&b?$e([b,h.dataSuffix]):b,to:h.to,value:h.value?U(h.value):void 0}});try{const l=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:U(s.id),from:f==null?void 0:f.address,id:c,version:u}]},{retryCount:0});return typeof l=="string"?{id:l}:l}catch(l){const h=l;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(P=>!P.optional)){const P="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Zn(new R(P,{details:P}))}if(a&&d.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Kn(new R(w,{details:w}))}const b=[];for(const w of d){const P=Gs(e,{account:f,chain:s,data:w.data,to:w.to,value:w.value?Te(w.value):void 0});b.push(P),o>0&&await new Promise(g=>setTimeout(g,o))}const p=await Promise.allSettled(b);if(p.every(w=>w.status==="rejected"))throw p[0].reason;const m=p.map(w=>w.status==="fulfilled"?w.value:G0);return{id:$e([...m,U(s.id,{size:32}),q0])}}throw Ls(l,{...t,account:f,chain:t.chain})}}async function W0(e,t){async function n(f){if(f.endsWith(q0.slice(2))){const l=Mt(Bi(f,-64,-32)),h=Bi(f,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(h.map(m=>G0.slice(2)!==m?e.request({method:"eth_getTransactionReceipt",params:[`0x${m}`]},{dedupe:!0}):void 0)),p=b.some(m=>m===null)?100:b.every(m=>(m==null?void 0:m.status)==="0x1")?200:b.every(m=>(m==null?void 0:m.status)==="0x0")?500:600;return{atomic:!1,chainId:qe(l),receipts:b.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?qe(s):void 0,receipts:(i==null?void 0:i.map(f=>({...f,blockNumber:Te(f.blockNumber),gasUsed:Te(f.gasUsed),status:j0[f.status]})))??[],statusCode:u,status:c,version:o}}async function Q0(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:i=4,retryDelay:o=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=ie(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=Wo();let h;const b=gt(u,{resolve:d,reject:l},p=>{const m=ir(async()=>{const w=P=>{clearTimeout(h),m(),P(),b()};try{const P=await As(async()=>{const g=await z(e,W0,"getCallsStatus")({id:n});if(c&&g.status==="failure")throw new yp(g);return g},{retryCount:i,delay:o});if(!s(P))return;w(()=>p.resolve(P))}catch(P){w(()=>p.reject(P))}},{interval:r,emitOnBegin:!0});return m});return h=a?setTimeout(()=>{b(),clearTimeout(h),l(new mp({id:n}))},a):void 0,await f}class mp extends R{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Di=256;let us=Di,fs;function Z0(e=11){if(!fs||us+e>Di*2){fs="",us=0;for(let t=0;t<Di;t++)fs+=(256+Math.random()*256|0).toString(16).substring(1)}return fs.substring(us,us+++e)}function K0(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?te(e.account):void 0,{config:h,request:b,value:p}=e.transport({account:l,chain:n,pollingInterval:f}),m={...h,...p},w={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:f,request:b,transport:m,type:o,uid:Z0(),...a?{experimental_blockTag:a}:{}};function P(g){return y=>{const E=y(g);for(const S in w)delete E[S];const B={...g,...E};return Object.assign(B,{extend:P(B)})}}return Object.assign(w,{extend:P(w)})}function Ko(e){var n,r,s,i,o,a;if(!(e instanceof R))return!1;const t=e.walk(c=>c instanceof Ci);return t instanceof Ci?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=t.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function gp(e){const{abi:t,data:n}=e,r=Vn(n,0,4),s=t.find(i=>i.type==="function"&&r===Gr(je(i)));if(!s)throw new zl(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Wr(s.inputs,Vn(n,4)):void 0}}const fi="/docs/contract/encodeErrorResult";function Xa(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=mn({abi:t,args:r,name:n});if(!c)throw new Ia(n,{docsPath:fi});s=c}if(s.type!=="error")throw new Ia(void 0,{docsPath:fi});const i=je(s),o=Gr(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new _l(s.name,{docsPath:fi});a=zt(s.inputs,r)}return tr([o,a])}const di="/docs/contract/encodeFunctionResult";function wp(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=mn({abi:t,name:n});if(!o)throw new qn(n,{docsPath:di});s=o}if(s.type!=="function")throw new qn(void 0,{docsPath:di});if(!s.outputs)throw new Mu(s.name,{docsPath:di});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new _u(r)})();return zt(s.outputs,i)}const rs="x-batch-gateway:true";async function Y0(e){const{data:t,ccipRequest:n}=e,{args:[r]}=gp({abi:Ui,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(rs)?await Y0({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=xp(c)}})),wp({abi:Ui,functionName:"query",result:[s,i]})}function xp(e){return e.name==="HttpRequestError"&&e.status?Xa({abi:Ui,errorName:"HttpError",args:[e.status,e.shortMessage]}):Xa({abi:[Zu],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function J0(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return De(t)?t:null}function qi(e){let t=new Uint8Array(32).fill(0);if(!e)return ae(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=J0(n[r]),i=s?Xn(s):le(on(n[r]),"bytes");t=le($e([t,i]),"bytes")}return ae(t)}function vp(e){return`[${e.slice(2)}]`}function Ep(e){const t=new Uint8Array(32).fill(0);return e?J0(e)||le(on(e)):ae(t)}function Yo(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(on(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=on(s[i]);o.byteLength>255&&(o=on(vp(Ep(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Pp(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sr({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(l=>i.endsWith(l)))return null;const d=s!=null?[qi(i),BigInt(s)]:[qi(i)];try{const l=Oe({abi:Ka,functionName:"addr",args:d}),h={address:u,abi:N0,functionName:"resolveWithGateways",args:[yt(Yo(i)),l,o??[rs]],blockNumber:n,blockTag:r},p=await z(e,We,"readContract")(h);if(p[0]==="0x")return null;const m=gn({abi:Ka,args:d,functionName:"addr",data:p[0]});return m==="0x"||Mt(m)==="0x00"?null:m}catch(l){if(a)throw l;if(Ko(l))return null;throw l}}class Ap extends R{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class dr extends R{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Jo extends R{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Sp extends R{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Ip=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Bp=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Tp=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,$p=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Cp(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function ec(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function X0({uri:e,gatewayUrls:t}){const n=Tp.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=ec(t==null?void 0:t.ipfs,"https://ipfs.io"),s=ec(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(Ip),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},f=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||Bp.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace($p,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Jo({uri:e})}function ef(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ap({data:e});return e.image||e.image_url||e.image_data}async function Op({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Xo({gatewayUrls:e,uri:ef(n)})}catch{throw new Jo({uri:t})}}async function Xo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=X0({uri:t,gatewayUrls:e});if(r||await Cp(n))return n;throw new Jo({uri:t})}function Rp(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new dr({reason:"Only EIP-155 supported"});if(!o)throw new dr({reason:"Chain ID not found"});if(!c)throw new dr({reason:"Contract address not found"});if(!s)throw new dr({reason:"Token ID not found"});if(!a)throw new dr({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Fp(e,{nft:t}){if(t.namespace==="erc721")return We(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return We(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Sp({namespace:t.namespace})}async function kp(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Np(e,{gatewayUrls:t,record:n}):Xo({uri:n,gatewayUrls:t})}async function Np(e,{gatewayUrls:t,record:n}){const r=Rp(n),s=await Fp(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=X0({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(u);return Xo({uri:ef(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Op({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function tf(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sr({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>i.endsWith(d)))return null;try{const d={address:u,abi:N0,args:[yt(Yo(i)),Oe({abi:Za,functionName:"text",args:[qi(i),s]}),o??[rs]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await z(e,We,"readContract")(d);if(h[0]==="0x")return null;const b=gn({abi:Za,functionName:"text",data:h[0]});return b===""?null:b}catch(d){if(a)throw d;if(Ko(d))return null;throw d}}async function Mp(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await z(e,tf,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await kp(e,{record:c,gatewayUrls:r})}catch{return null}}async function _p(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sr({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:J1,args:[n,i,o??[rs]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=z(e,We,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(Ko(f))return null;throw f}}async function Lp(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return sr({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await z(e,We,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[yt(Yo(s))],blockNumber:n,blockTag:r});return c}async function nf(e,t){var m,w,P;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...b}=t,p=n?te(n):void 0;try{xt(t);const y=(typeof r=="bigint"?U(r):void 0)||s,E=(P=(w=(m=e.chain)==null?void 0:m.formatters)==null?void 0:w.transactionRequest)==null?void 0:P.format,S=(E||Ut)({...nr(b,{format:E}),account:p,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),A=await e.request({method:"eth_createAccessList",params:[S,y]});return{accessList:A.accessList,gasUsed:BigInt(A.gasUsed)}}catch(g){throw H0(g,{...t,account:p,chain:e.chain})}}async function Hp(e){const t=ks(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function rf(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=ks(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>Vr({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?U(i):i,toBlock:typeof a=="bigint"?U(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function sf(e){const t=ks(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function zp(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?U(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function Up(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function jp(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?U(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),qe(i)}async function Gi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?U(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}class Dp extends R{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function qp(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,u,f,d]=await z(e,We,"readContract")({abi:Gp,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Dp({address:n}):o}}const Gp=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Vp(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Wp(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?U(n):void 0,o=await e.request({method:"eth_feeHistory",params:[U(t),i||r,s]},{dedupe:!!i});return Vp(o)}async function Qp(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>mt(i));return t.abi?zo({abi:t.abi,logs:s,strict:n}):s}async function Zp({address:e,authorization:t,signature:n}){return rr(Ao(e),await Ms({authorization:t,signature:n}))}const ds=new er(8192);function Kp(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(ds.get(n))return ds.get(n);const r=e().finally(()=>ds.delete(n));return ds.set(n,r),r}function Yp(e,t={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(u))throw new Vt(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new Vt(new Error("method not supported"),{method:u});const f=s?Gn(`${c}.${ie(n)}`):void 0;return Kp(()=>As(async()=>{try{return await e(n)}catch(l){const h=l;switch(h.code){case pr.code:throw new pr(h);case br.code:throw new br(h);case yr.code:throw new yr(h,{method:n.method});case mr.code:throw new mr(h);case dn.code:throw new dn(h);case Ht.code:throw new Ht(h);case gr.code:throw new gr(h);case wr.code:throw new wr(h);case Wn.code:throw new Wn(h);case Vt.code:throw new Vt(h,{method:n.method});case Qn.code:throw new Qn(h);case xr.code:throw new xr(h);case cn.code:throw new cn(h);case vr.code:throw new vr(h);case Er.code:throw new Er(h);case Pr.code:throw new Pr(h);case Ar.code:throw new Ar(h);case Sr.code:throw new Sr(h);case Zn.code:throw new Zn(h);case Ir.code:throw new Ir(h);case Br.code:throw new Br(h);case Tr.code:throw new Tr(h);case $r.code:throw new $r(h);case Cr.code:throw new Cr(h);case Kn.code:throw new Kn(h);case 5e3:throw new cn(h);default:throw l instanceof R?l:new Gh(h)}}},{delay:({count:l,error:h})=>{var b;if(h&&h instanceof an){const p=(b=h==null?void 0:h.headers)==null?void 0:b.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<l)*o},retryCount:a,shouldRetry:({error:l})=>Jp(l)}),{enabled:s,id:f})}}function Jp(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Qn.code||e.code===dn.code:e instanceof an&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class Xp extends R{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:i,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${Zr(c)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class eb extends R{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Zr(n)}`,`Response: ${ie(t)}`],name:"OffchainLookupResponseMalformedError"})}}class tb extends R{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const nb="0x556f1830",of={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function rb(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:i}=Yu({data:r,abi:[of]}),[o,a,c,u,f]=i,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:af;try{if(!rr(s,o))throw new tb({sender:o,to:s});const h=a.includes(rs)?await Y0({data:c,ccipRequest:l}):await l({data:c,sender:o,urls:a}),{data:b}=await ts(e,{blockNumber:t,blockTag:n,data:$e([u,zt([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return b}catch(h){throw new Xp({callbackSelector:u,cause:h,data:r,extraData:f,sender:o,urls:a})}}async function af({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let i=0;i<n.length;i++){const o=n[i],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:a});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new an({body:c,details:d!=null&&d.error?ie(d.error):f.statusText,headers:f.headers,status:f.status,url:o});continue}if(!De(d)){r=new eb({result:d,url:o});continue}return d}catch(f){r=new an({body:c,details:f.message,url:o})}}throw r}const sb=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:af,offchainLookup:rb,offchainLookupAbiItem:of,offchainLookupSignature:nb},Symbol.toStringTag,{value:"Module"}));function L6(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const i=typeof s=="function"?s(r):s,o={...r,...i};return Object.assign(o,{extend:n(o)})}}return Object.assign(t,{extend:n(t)})}function ib(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function ob(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const tc=ob();function ab(e,t={}){return{async request(n){var l;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:d}=c;try{const h=await ib(async({signal:p})=>{const m={...c,body:Array.isArray(r)?ie(r.map(y=>({jsonrpc:"2.0",id:y.id??tc.take(),...y}))):ie({jsonrpc:"2.0",id:r.id??tc.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:d||(a>0?p:null)},w=new Request(e,m),P=await(i==null?void 0:i(w,m))??{...m,url:e};return await s(P.url??e,P)},{errorInstance:new Ma({body:r,url:e}),timeout:a,signal:!0});o&&await o(h);let b;if((l=h.headers.get("Content-Type"))!=null&&l.startsWith("application/json"))b=await h.json();else{b=await h.text();try{b=JSON.parse(b||"{}")}catch(p){if(h.ok)throw p;b={error:b}}}if(!h.ok)throw new an({body:r,details:ie(b.error)||h.statusText,headers:h.headers,status:h.status,url:e});return b}catch(h){throw h instanceof an||h instanceof Ma?h:new an({body:r,cause:h,url:e})}}}}const cb=`Ethereum Signed Message:
`;function ub(e){const t=typeof e=="string"?Gn(e):typeof e.raw=="string"?e.raw:ae(e.raw),n=Gn(`${cb}${se(t)}`);return $e([n,t])}function cf(e,t){return le(ub(e),t)}class fb extends R{constructor({domain:t}){super(`Invalid domain "${ie(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class db extends R{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class lb extends R{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function hb(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(c,u)=>{const f={...u};for(const d of c){const{name:l,type:h}=d;h==="address"&&(f[l]=f[l].toLowerCase())}return f},o=s.EIP712Domain?t?i(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return ie({domain:o,message:a,primaryType:r,types:s})}function uf(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:u,type:f}=c,d=a[u],l=f.match(Vu);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,m,w]=l;U(d,{signed:m==="int",size:Number.parseInt(w,10)/8})}if(f==="address"&&typeof d=="string"&&!Le(d))throw new Lt({address:d});const h=f.match(uh);if(h){const[p,m]=h;if(m&&se(d)!==Number.parseInt(m,10))throw new jl({expectedSize:Number.parseInt(m,10),givenSize:se(d)})}const b=s[f];b&&(pb(f),i(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new fb({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new db({primaryType:r,types:s})}function ff({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function pb(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new lb({type:e})}function bb(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:ff({domain:t}),...e.types};uf({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(yb({domain:t,types:s})),r!=="EIP712Domain"&&i.push(df({data:n,primaryType:r,types:s})),le($e(i))}function yb({domain:e,types:t}){return df({data:e,primaryType:"EIP712Domain",types:t})}function df({data:e,primaryType:t,types:n}){const r=lf({data:e,primaryType:t,types:n});return le(r)}function lf({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[mb({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=pf({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return zt(r,s)}function mb({primaryType:e,types:t}){const n=yt(gb({primaryType:e,types:t}));return le(n)}function gb({primaryType:e,types:t}){let n="";const r=hf({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function hf({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])hf({primaryType:i.type,types:t},n);return n}function pf({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},le(lf({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},le(r)];if(n==="string")return[{type:"bytes32"},le(yt(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>pf({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},le(zt(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}class wb extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const xb={checksum:new wb(8192)},li=xb.checksum;function bf(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=mu(R1(e));return n==="Bytes"?r:Ve(r)}const vb=/^0x[a-fA-F0-9]{40}$/;function Vs(e,t={}){const{strict:n=!0}=t;if(!vb.test(e))throw new nc({address:e,cause:new Eb});if(n){if(e.toLowerCase()===e)return;if(yf(e)!==e)throw new nc({address:e,cause:new Pb})}}function yf(e){if(li.has(e))return li.get(e);Vs(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=bf(k1(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return li.set(e,s),s}function Vi(e,t={}){const{strict:n=!0}=t??{};try{return Vs(e,{strict:n}),!0}catch{return!1}}class nc extends G{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Eb extends G{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Pb extends G{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Ab=/^(.*)\[([0-9]*)\]$/,Sb=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,rc=2n**256n-1n;function Bn(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=na(t.type);if(i){const[o,a]=i;return Bb(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return Ob(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Ib(e,{checksum:r});if(t.type==="bool")return Tb(e);if(t.type.startsWith("bytes"))return $b(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Cb(e,t);if(t.type==="string")return Rb(e,{staticPosition:s});throw new sa(t.type)}const sc=32,Wi=32;function Ib(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?yf(i):i)(Ve(M1(r,-20))),32]}function Bb(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=pt(e.readBytes(Wi)),u=i+c,f=u+sc;e.setPosition(u);const d=pt(e.readBytes(sc)),l=kr(t);let h=0;const b=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:h));const[m,w]=Bn(e,t,{checksumAddress:r,staticPosition:f});h+=w,b.push(m)}return e.setPosition(i+32),[b,32]}if(kr(t)){const c=pt(e.readBytes(Wi)),u=i+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Bn(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(i+32),[f,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[u,f]=Bn(e,t,{checksumAddress:r,staticPosition:i+o});o+=f,a.push(u)}return[a,o]}function Tb(e){return[L1(e.readBytes(32),{size:32}),32]}function $b(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=pt(e.readBytes(32));e.setPosition(n+o);const a=pt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Ve(c),32]}return[Ve(e.readBytes(Number.parseInt(s,10),32)),32]}function Cb(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?_1(s,{signed:n}):pt(s,{signed:n}),32]}function Ob(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(kr(t)){const c=pt(e.readBytes(Wi)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=Bn(e,d,{checksumAddress:r,staticPosition:u});a+=h,o[i?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=Bn(e,u,{checksumAddress:r,staticPosition:s});o[i?c:u==null?void 0:u.name]=f,a+=d}return[o,a]}function Rb(e,{staticPosition:t}){const n=pt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=pt(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=H1(B0(i));return e.setPosition(t+32),[o,32]}function Fb({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(ea({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function ea({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=na(r.type);if(s){const[i,o]=s;return Nb(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return zb(n,{checksumAddress:e,parameter:r});if(r.type==="address")return kb(n,{checksum:e});if(r.type==="bool")return _b(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=mf.exec(r.type)??[];return Lb(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return Mb(n,{type:r.type});if(r.type==="string")return Hb(n);throw new sa(r.type)}function ta(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=Ce(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(me(t+s,{size:32})),r.push(a),s+=Ce(a)):n.push(a)}return Ge(...n,...r)}function kb(e,t){const{checksum:n=!1}=t;return Vs(e,{strict:n}),{dynamic:!1,encoded:hn(e.toLowerCase())}}function Nb(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new Zb(e);if(!i&&e.length!==r)throw new Qb({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=ea({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=ta(a);if(i){const u=me(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ge(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ge(...a.map(({encoded:c})=>c))}}function Mb(e,{type:t}){const[,n]=t.split("bytes"),r=Ce(e);if(!n){let s=e;return r%32!==0&&(s=pn(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ge(hn(me(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new wf({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:pn(e)}}function _b(e){if(typeof e!="boolean")throw new G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:hn(T0(e))}}function Lb(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new O0({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:me(e,{size:32,signed:t})}}function Hb(e){const t=Go(e),n=Math.ceil(Ce(t)/32),r=[];for(let s=0;s<n;s++)r.push(pn(nt(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ge(pn(me(Ce(t),{size:32})),...r)}}function zb(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,u=ea({checksumAddress:n,parameter:a,value:e[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?ta(i):Ge(...i.map(({encoded:o})=>o))}}function na(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function kr(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(kr);const n=na(e.type);return!!(n&&kr({...e,type:n[1]}))}const Ub={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new qb({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Db({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ic({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ic({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function jb(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ub);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class ic extends G{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Db extends G{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class qb extends G{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Gb(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?I0(t):t,o=jb(i);if(Pn(i)===0&&e.length>0)throw new Wb;if(Pn(i)&&Pn(i)<32)throw new Vb({data:typeof t=="string"?t:Ve(t),parameters:e,size:Pn(i)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(a);const[d,l]=Bn(o,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function ra(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new xf({expectedLength:e.length,givenLength:t.length});const s=Fb({checksumAddress:r,parameters:e,values:t}),i=ta(s);return i.length===0?"0x":i}function Qi(e,t){if(e.length!==t.length)throw new xf({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(Qi.encode(s,i))}return Ge(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Vs(c),hn(c.toLowerCase(),s?32:0)}if(n==="string")return Go(r);if(n==="bytes")return r;if(n==="bool")return hn(T0(r),s?32:1);const i=n.match(mf);if(i){const[c,u,f="256"]=i,d=Number.parseInt(f,10)/8;return me(r,{size:s?32:d,signed:u==="int"})}const o=n.match(Sb);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new wf({expectedSize:Number.parseInt(u,10),value:r});return pn(r,s?32:0)}const a=n.match(Ab);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":Ge(...f)}throw new sa(n)}e.encode=t})(Qi||(Qi={}));function gf(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Aa(e):e}class Vb extends G{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${En(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Wb extends G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Qb extends G{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class wf extends G{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ce(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class xf extends G{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Zb extends G{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class sa extends G{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pe=BigInt(0),we=BigInt(1),Qt=BigInt(2),Kb=BigInt(3),vf=BigInt(4),Ef=BigInt(5),Pf=BigInt(8);function Ee(e,t){const n=e%t;return n>=Pe?n:t+n}function Fe(e,t,n){let r=e;for(;t-- >Pe;)r*=r,r%=n;return r}function Zi(e,t){if(e===Pe)throw new Error("invert: expected non-zero number");if(t<=Pe)throw new Error("invert: expected positive modulus, got "+t);let n=Ee(e,t),r=t,s=Pe,i=we;for(;n!==Pe;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==we)throw new Error("invert: does not exist");return Ee(s,t)}function Af(e,t){const n=(e.ORDER+we)/vf,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Yb(e,t){const n=(e.ORDER-Ef)/Pf,r=e.mul(t,Qt),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,Qt),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Jb(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-we,n=0;for(;t%Qt===Pe;)t/=Qt,n++;let r=Qt;const s=ia(e);for(;oc(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Af;let i=s.pow(r,t);const o=(t+we)/Qt;return function(c,u){if(c.is0(u))return u;if(oc(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,i),l=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let b=1,p=c.sqr(l);for(;!c.eql(p,c.ONE);)if(b++,p=c.sqr(p),b===f)throw new Error("Cannot find square root");const m=we<<BigInt(f-b-1),w=c.pow(d,m);f=b,d=c.sqr(w),l=c.mul(l,d),h=c.mul(h,w)}return h}}function Xb(e){return e%vf===Kb?Af:e%Pf===Ef?Yb:Jb(e)}const ey=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ty(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ey.reduce((r,s)=>(r[s]="function",r),t);return zs(e,n)}function ny(e,t,n){if(n<Pe)throw new Error("invalid exponent, negatives unsupported");if(n===Pe)return e.ONE;if(n===we)return t;let r=e.ONE,s=t;for(;n>Pe;)n&we&&(r=e.mul(r,s)),s=e.sqr(s),n>>=we;return r}function Sf(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function oc(e,t){const n=(e.ORDER-we)/Qt,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function If(e,t){t!==void 0&&zn.anumber(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ia(e,t,n=!1,r={}){if(e<=Pe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=If(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:Hs(s),ZERO:Pe,ONE:we,create:c=>Ee(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Pe<=c&&c<e},is0:c=>c===Pe,isOdd:c=>(c&we)===we,neg:c=>Ee(-c,e),eql:(c,u)=>c===u,sqr:c=>Ee(c*c,e),add:(c,u)=>Ee(c+u,e),sub:(c,u)=>Ee(c-u,e),mul:(c,u)=>Ee(c*u,e),pow:(c,u)=>ny(a,c,u),div:(c,u)=>Ee(c*Zi(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Zi(c,e),sqrt:r.sqrt||(c=>(o||(o=Xb(e)),o(a,c))),toBytes:c=>n?v0(c,i):Xr(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?x0(c):un(c)},invertBatch:c=>Sf(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Bf(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Tf(e){const t=Bf(e);return t+Math.ceil(t/2)}function ry(e,t,n=!1){const r=e.length,s=Bf(t),i=Tf(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?x0(e):un(e),a=Ee(o,t-we)+we;return n?v0(a,s):Xr(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ac=BigInt(0),Ki=BigInt(1);function hi(e,t){const n=t.negate();return e?n:t}function $f(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function pi(e,t){$f(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Hs(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function cc(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=Ki);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function sy(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function iy(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const bi=new WeakMap,Cf=new WeakMap;function yi(e){return Cf.get(e)||1}function oy(e,t){return{constTimeNegate:hi,hasPrecomputes(n){return yi(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>ac;)r&Ki&&(s=s.add(i)),i=i.double(),r>>=Ki;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=pi(r,t),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let f=1;f<i;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=pi(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:b}=cc(s,c,a);s=u,d?o=o.add(hi(h,r[b])):i=i.add(hi(l,r[f]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=pi(n,t);for(let a=0;a<o.windows&&s!==ac;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=cc(s,a,o);if(s=c,!f){const l=r[u];i=i.add(d?l.negate():l)}}return i},getPrecomputes(n,r,s){let i=bi.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&bi.set(r,s(i))),i},wNAFCached(n,r,s){const i=yi(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=yi(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){$f(r,t),Cf.set(n,r),bi.delete(n)}}}function ay(e,t,n,r){sy(n,e),iy(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=v1(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Hs(c),f=new Array(Number(u)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let l=o;for(let h=d;h>=0;h-=c){f.fill(o);for(let p=0;p<i;p++){const m=r[p],w=Number(m>>BigInt(h)&u);f[w]=f[w].add(n[p])}let b=o;for(let p=f.length-1,m=o;p>0;p--)m=m.add(f[p]),b=b.add(m);if(l=l.add(b),h!==0)for(let p=0;p<c;p++)l=l.double()}return l}function Of(e){return ty(e.Fp),zs(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...If(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uc(e){e.lowS!==void 0&&Or("lowS",e.lowS),e.prehash!==void 0&&Or("prehash",e.prehash)}function cy(e){const t=Of(e);zs(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class uy extends Error{constructor(t=""){super(t)}}const ct={Err:uy,_tlv:{encode:(e,t)=>{const{Err:n}=ct;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=cs(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?cs(s.length/2|128):"";return cs(e)+i+s+t},decode(e,t){const{Err:n}=ct;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=ct;if(e<dt)throw new t("integer: negative integers are not allowed");let n=cs(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ct;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return un(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ct,s=ke("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ct,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function mi(e,t){return Rr(Xr(e,t))}const dt=BigInt(0),fe=BigInt(1);BigInt(2);const gi=BigInt(3),fy=BigInt(4);function dy(e){const t=cy(e),{Fp:n}=t,r=ia(t.n,t.nBitLength),s=t.toBytes||((g,y,E)=>{const B=y.toAffine();return vs(Uint8Array.from([4]),n.toBytes(B.x),n.toBytes(B.y))}),i=t.fromBytes||(g=>{const y=g.subarray(1),E=n.fromBytes(y.subarray(0,n.BYTES)),B=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:E,y:B}});function o(g){const{a:y,b:E}=t,B=n.sqr(g),S=n.mul(B,g);return n.add(n.add(S,n.mul(g,y)),E)}function a(g,y){const E=n.sqr(y),B=o(g);return n.eql(E,B)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,gi),fy),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(g){return qo(g,fe,t.n)}function d(g){const{allowedPrivateKeyLengths:y,nByteLength:E,wrapPrivateKey:B,n:S}=t;if(y&&typeof g!="bigint"){if(Jr(g)&&(g=Rr(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(E*2,"0")}let A;try{A=typeof g=="bigint"?g:un(ke("private key",g,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof g)}return B&&(A=Ee(A,S)),In("private key",A,fe,S),A}function l(g){if(!(g instanceof p))throw new Error("ProjectivePoint expected")}const h=Ga((g,y)=>{const{px:E,py:B,pz:S}=g;if(n.eql(S,n.ONE))return{x:E,y:B};const A=g.is0();y==null&&(y=A?n.ONE:n.inv(S));const O=n.mul(E,y),$=n.mul(B,y),T=n.mul(S,y);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:O,y:$}}),b=Ga(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:E}=g.toAffine();if(!n.isValid(y)||!n.isValid(E))throw new Error("bad point: x or y not FE");if(!a(y,E))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(y,E,B){if(y==null||!n.isValid(y))throw new Error("x required");if(E==null||!n.isValid(E)||n.is0(E))throw new Error("y required");if(B==null||!n.isValid(B))throw new Error("z required");this.px=y,this.py=E,this.pz=B,Object.freeze(this)}static fromAffine(y){const{x:E,y:B}=y||{};if(!y||!n.isValid(E)||!n.isValid(B))throw new Error("invalid affine point");if(y instanceof p)throw new Error("projective point not allowed");const S=A=>n.eql(A,n.ZERO);return S(E)&&S(B)?p.ZERO:new p(E,B,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const E=Sf(n,y.map(B=>B.pz));return y.map((B,S)=>B.toAffine(E[S])).map(p.fromAffine)}static fromHex(y){const E=p.fromAffine(i(ke("pointHex",y)));return E.assertValidity(),E}static fromPrivateKey(y){return p.BASE.multiply(d(y))}static msm(y,E){return ay(p,r,y,E)}_setWindowSize(y){P.setWindowSize(this,y)}assertValidity(){b(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:E,py:B,pz:S}=this,{px:A,py:O,pz:$}=y,T=n.eql(n.mul(E,$),n.mul(A,S)),F=n.eql(n.mul(B,$),n.mul(O,S));return T&&F}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:E}=t,B=n.mul(E,gi),{px:S,py:A,pz:O}=this;let $=n.ZERO,T=n.ZERO,F=n.ZERO,k=n.mul(S,S),D=n.mul(A,A),I=n.mul(O,O),N=n.mul(S,A);return N=n.add(N,N),F=n.mul(S,O),F=n.add(F,F),$=n.mul(y,F),T=n.mul(B,I),T=n.add($,T),$=n.sub(D,T),T=n.add(D,T),T=n.mul($,T),$=n.mul(N,$),F=n.mul(B,F),I=n.mul(y,I),N=n.sub(k,I),N=n.mul(y,N),N=n.add(N,F),F=n.add(k,k),k=n.add(F,k),k=n.add(k,I),k=n.mul(k,N),T=n.add(T,k),I=n.mul(A,O),I=n.add(I,I),k=n.mul(I,N),$=n.sub($,k),F=n.mul(I,D),F=n.add(F,F),F=n.add(F,F),new p($,T,F)}add(y){l(y);const{px:E,py:B,pz:S}=this,{px:A,py:O,pz:$}=y;let T=n.ZERO,F=n.ZERO,k=n.ZERO;const D=t.a,I=n.mul(t.b,gi);let N=n.mul(E,A),_=n.mul(B,O),M=n.mul(S,$),x=n.add(E,B),C=n.add(A,O);x=n.mul(x,C),C=n.add(N,_),x=n.sub(x,C),C=n.add(E,S);let H=n.add(A,$);return C=n.mul(C,H),H=n.add(N,M),C=n.sub(C,H),H=n.add(B,S),T=n.add(O,$),H=n.mul(H,T),T=n.add(_,M),H=n.sub(H,T),k=n.mul(D,C),T=n.mul(I,M),k=n.add(T,k),T=n.sub(_,k),k=n.add(_,k),F=n.mul(T,k),_=n.add(N,N),_=n.add(_,N),M=n.mul(D,M),C=n.mul(I,C),_=n.add(_,M),M=n.sub(N,M),M=n.mul(D,M),C=n.add(C,M),N=n.mul(_,C),F=n.add(F,N),N=n.mul(H,C),T=n.mul(x,T),T=n.sub(T,N),N=n.mul(x,_),k=n.mul(H,k),k=n.add(k,N),new p(T,F,k)}subtract(y){return this.add(y.negate())}is0(){return this.equals(p.ZERO)}wNAF(y){return P.wNAFCached(this,y,p.normalizeZ)}multiplyUnsafe(y){const{endo:E,n:B}=t;In("scalar",y,dt,B);const S=p.ZERO;if(y===dt)return S;if(this.is0()||y===fe)return this;if(!E||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,y,p.normalizeZ);let{k1neg:A,k1:O,k2neg:$,k2:T}=E.splitScalar(y),F=S,k=S,D=this;for(;O>dt||T>dt;)O&fe&&(F=F.add(D)),T&fe&&(k=k.add(D)),D=D.double(),O>>=fe,T>>=fe;return A&&(F=F.negate()),$&&(k=k.negate()),k=new p(n.mul(k.px,E.beta),k.py,k.pz),F.add(k)}multiply(y){const{endo:E,n:B}=t;In("scalar",y,fe,B);let S,A;if(E){const{k1neg:O,k1:$,k2neg:T,k2:F}=E.splitScalar(y);let{p:k,f:D}=this.wNAF($),{p:I,f:N}=this.wNAF(F);k=P.constTimeNegate(O,k),I=P.constTimeNegate(T,I),I=new p(n.mul(I.px,E.beta),I.py,I.pz),S=k.add(I),A=D.add(N)}else{const{p:O,f:$}=this.wNAF(y);S=O,A=$}return p.normalizeZ([S,A])[0]}multiplyAndAddUnsafe(y,E,B){const S=p.BASE,A=($,T)=>T===dt||T===fe||!$.equals(S)?$.multiplyUnsafe(T):$.multiply(T),O=A(this,E).add(A(y,B));return O.is0()?void 0:O}toAffine(y){return h(this,y)}isTorsionFree(){const{h:y,isTorsionFree:E}=t;if(y===fe)return!0;if(E)return E(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:E}=t;return y===fe?this:E?E(p,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Or("isCompressed",y),this.assertValidity(),s(p,this,y)}toHex(y=!0){return Or("isCompressed",y),Rr(this.toRawBytes(y))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:w}=t,P=oy(p,m?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:f}}function ly(e){const t=Of(e);return zs(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function hy(e){const t=ly(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(I){return Ee(I,r)}function u(I){return Zi(I,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=dy({...t,toBytes(I,N,_){const M=N.toAffine(),x=n.toBytes(M.x),C=vs;return Or("isCompressed",_),_?C(Uint8Array.from([N.hasEvenY()?2:3]),x):C(Uint8Array.from([4]),x,n.toBytes(M.y))},fromBytes(I){const N=I.length,_=I[0],M=I.subarray(1);if(N===o&&(_===2||_===3)){const x=un(M);if(!qo(x,fe,n.ORDER))throw new Error("Point is not on curve");const C=l(x);let H;try{H=n.sqrt(C)}catch(J){const ne=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+ne)}const V=(H&fe)===fe;return(_&1)===1!==V&&(H=n.neg(H)),{x,y:H}}else if(N===a&&_===4){const x=n.fromBytes(M.subarray(0,n.BYTES)),C=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x,y:C}}else{const x=o,C=a;throw new Error("invalid Point, expected length of "+x+", or uncompressed "+C+", got "+N)}}});function b(I){const N=r>>fe;return I>N}function p(I){return b(I)?c(-I):I}const m=(I,N,_)=>un(I.slice(N,_));class w{constructor(N,_,M){In("r",N,fe,r),In("s",_,fe,r),this.r=N,this.s=_,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(N){const _=s;return N=ke("compactSignature",N,_*2),new w(m(N,0,_),m(N,_,2*_))}static fromDER(N){const{r:_,s:M}=ct.toSig(ke("DER",N));return new w(_,M)}assertValidity(){}addRecoveryBit(N){return new w(this.r,this.s,N)}recoverPublicKey(N){const{r:_,s:M,recovery:x}=this,C=S(ke("msgHash",N));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const H=x===2||x===3?_+t.n:_;if(H>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=x&1?"03":"02",Y=f.fromHex(V+mi(H,n.BYTES)),J=u(H),ne=c(-C*J),ce=c(M*J),Ze=f.BASE.multiplyAndAddUnsafe(Y,ne,ce);if(!Ze)throw new Error("point at infinify");return Ze.assertValidity(),Ze}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return xs(this.toDERHex())}toDERHex(){return ct.hexFromSig(this)}toCompactRawBytes(){return xs(this.toCompactHex())}toCompactHex(){const N=s;return mi(this.r,N)+mi(this.s,N)}}const P={isValidPrivateKey(I){try{return d(I),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const I=Tf(t.n);return ry(t.randomBytes(I),t.n)},precompute(I=8,N=f.BASE){return N._setWindowSize(I),N.multiply(BigInt(3)),N}};function g(I,N=!0){return f.fromPrivateKey(I).toRawBytes(N)}function y(I){if(typeof I=="bigint")return!1;if(I instanceof f)return!0;const _=ke("key",I).length,M=n.BYTES,x=M+1,C=2*M+1;if(!(t.allowedPrivateKeyLengths||s===x))return _===x||_===C}function E(I,N,_=!0){if(y(I)===!0)throw new Error("first arg must be private key");if(y(N)===!1)throw new Error("second arg must be public key");return f.fromHex(N).multiply(d(I)).toRawBytes(_)}const B=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const N=un(I),_=I.length*8-i;return _>0?N>>BigInt(_):N},S=t.bits2int_modN||function(I){return c(B(I))},A=Hs(i);function O(I){return In("num < 2^"+i,I,dt,A),Xr(I,s)}function $(I,N,_=T){if(["recovered","canonical"].some(qt=>qt in _))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:x}=t;let{lowS:C,prehash:H,extraEntropy:V}=_;C==null&&(C=!0),I=ke("msgHash",I),uc(_),H&&(I=ke("prehashed msgHash",M(I)));const Y=S(I),J=d(N),ne=[O(J),O(Y)];if(V!=null&&V!==!1){const qt=V===!0?x(n.BYTES):V;ne.push(ke("extraEntropy",qt))}const ce=vs(...ne),Ze=Y;function Zs(qt){const wn=B(qt);if(!h(wn))return;const Ks=u(wn),or=f.BASE.multiply(wn).toAffine(),Gt=c(or.x);if(Gt===dt)return;const ar=c(Ks*c(Ze+Gt*J));if(ar===dt)return;let cr=(or.x===Gt?0:2)|Number(or.y&fe),xn=ar;return C&&b(ar)&&(xn=p(ar),cr^=1),new w(Gt,xn,cr)}return{seed:ce,k2sig:Zs}}const T={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};function k(I,N,_=T){const{seed:M,k2sig:x}=$(I,N,_),C=t;return E1(C.hash.outputLen,C.nByteLength,C.hmac)(M,x)}f.BASE._setWindowSize(8);function D(I,N,_,M=F){var cr;const x=I;N=ke("msgHash",N),_=ke("publicKey",_);const{lowS:C,prehash:H,format:V}=M;if(uc(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const Y=typeof x=="string"||Jr(x),J=!Y&&!V&&typeof x=="object"&&x!==null&&typeof x.r=="bigint"&&typeof x.s=="bigint";if(!Y&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ne,ce;try{if(J&&(ne=new w(x.r,x.s)),Y){try{V!=="compact"&&(ne=w.fromDER(x))}catch(xn){if(!(xn instanceof ct.Err))throw xn}!ne&&V!=="der"&&(ne=w.fromCompact(x))}ce=f.fromHex(_)}catch{return!1}if(!ne||C&&ne.hasHighS())return!1;H&&(N=t.hash(N));const{r:Ze,s:Zs}=ne,qt=S(N),wn=u(Zs),Ks=c(qt*wn),or=c(Ze*wn),Gt=(cr=f.BASE.multiplyAndAddUnsafe(ce,Ks,or))==null?void 0:cr.toAffine();return Gt?c(Gt.x)===Ze:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:E,sign:k,verify:D,ProjectivePoint:f,Signature:w,utils:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function py(e){return{hash:e,hmac:(t,...n)=>wu(e,t,zn.concatBytes(...n)),randomBytes:zn.randomBytes}}function by(e,t){const n=r=>hy({...e,...py(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),yy=BigInt(0),my=BigInt(1),Yi=BigInt(2),dc=(e,t)=>(e+t/Yi)/t;function gy(e){const t=Rf,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=Fe(f,n,t)*f%t,l=Fe(d,n,t)*f%t,h=Fe(l,Yi,t)*u%t,b=Fe(h,s,t)*h%t,p=Fe(b,i,t)*b%t,m=Fe(p,a,t)*p%t,w=Fe(m,c,t)*m%t,P=Fe(w,a,t)*p%t,g=Fe(P,n,t)*f%t,y=Fe(g,o,t)*b%t,E=Fe(y,r,t)*u%t,B=Fe(E,Yi,t);if(!Ji.eql(Ji.sqr(B),e))throw new Error("Cannot find square root");return B}const Ji=ia(Rf,void 0,void 0,{sqrt:gy}),Ff=by({a:yy,b:BigInt(7),Fp:Ji,n:fc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=fc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-my*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=dc(i*e,t),c=dc(-r*e,t);let u=Ee(e-a*n-c*s,t),f=Ee(-a*r-c*i,t);const d=u>o,l=f>o;if(d&&(u=t-u),l&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},qd),wy=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Ff},Symbol.toStringTag,{value:"Module"}));function kf(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new wi({signature:e});if(typeof e.s>"u")throw new wi({signature:e});if(n&&typeof e.yParity>"u")throw new wi({signature:e});if(e.r<0n||e.r>rc)throw new Iy({value:e.r});if(e.s<0n||e.s>rc)throw new By({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new aa({value:e.yParity})}function xy(e){return Nf(Ve(e))}function Nf(e){if(e.length!==130&&e.length!==132)throw new Sy({signature:e});const t=BigInt(nt(e,0,32)),n=BigInt(nt(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return oa(s)}catch{throw new aa({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function vy(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Ey(e)}function Ey(e){const t=typeof e=="string"?Nf(e):e instanceof Uint8Array?xy(e):typeof e.r=="string"?Ay(e):e.v?Py(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return kf(t),t}function Py(e){return{r:e.r,s:e.s,yParity:oa(e.v)}}function Ay(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=oa(n)),typeof r!="number")throw new aa({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function oa(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Ty({value:e})}class Sy extends G{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ce(W1(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class wi extends G{constructor({signature:t}){super(`Signature \`${S0(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Iy extends G{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class By extends G{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class aa extends G{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Ty extends G{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function $y(e,t={}){return typeof e.chainId=="string"?Cy(e):{...e,...t.signature}}function Cy(e){const{address:t,chainId:n,nonce:r}=e,s=vy(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Oy="0x8010801080108010801080108010801080108010801080108010801080108010",Ry=gf("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Mf(e){if(typeof e=="string"){if(nt(e,-32)!==Oy)throw new Ny(e)}else kf(e.authorization)}function Fy(e){Mf(e);const t=C0(nt(e,-64,-32)),n=nt(e,-t-64,-64),r=nt(e,0,-t-64),[s,i,o]=Gb(Ry,n);return{authorization:$y({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function ky(e){try{return Mf(e),!0}catch{return!1}}let Ny=class extends G{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class My extends R{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function z6(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new My({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),r.length>t){const[i,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function _y(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Ly(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?qe(e.nonce):void 0,storageProof:e.storageProof?_y(e.storageProof):void 0}}async function Hy(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?U(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return Ly(a)}async function zy(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?U(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function ca(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i,sender:o,nonce:a}){var l,h,b;const c=r||"latest",u=n!==void 0?U(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,U(i)]},{dedupe:!0}):typeof i=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,U(i)]},{dedupe:!!u}):o&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,U(a)]},{dedupe:!0})),!f)throw new e0({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:i});return(((b=(h=(l=e.chain)==null?void 0:l.formatters)==null?void 0:h.transaction)==null?void 0:b.format)||Fo)(f,"getTransaction")}async function Uy(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([z(e,ns,"getBlockNumber")({}),t?z(e,ca,"getTransaction")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function hs(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new t0({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||D0)(n,"getTransactionReceipt")}async function jy(e,t){var P;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((P=e.batch)==null?void 0:P.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return sr({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,p=0;for(let g=0;g<u.length;g++){const{abi:y,address:E,args:B,functionName:S}=u[g];try{const A=Oe({abi:y,args:B,functionName:S});p+=(A.length-2)/2,f>0&&p>f&&h[b].length>0&&(b++,p=(A.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:A,target:E}]}catch(A){const O=ln(A,{abi:y,address:E,args:B,docsPath:"/docs/contract/multicall",functionName:S,sender:n});if(!s)throw O;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:E}]}}const m=await Promise.allSettled(h.map(g=>z(e,We,"readContract")({...l===null?{code:Vo}:{address:l},abi:Es,account:n,args:[g],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),w=[];for(let g=0;g<m.length;g++){const y=m[g];if(y.status==="rejected"){if(!s)throw y.reason;for(let B=0;B<h[g].length;B++)w.push({status:"failure",error:y.reason,result:void 0});continue}const E=y.value;for(let B=0;B<E.length;B++){const{returnData:S,success:A}=E[B],{callData:O}=h[g][B],{abi:$,address:T,functionName:F,args:k}=u[w.length];try{if(O==="0x")throw new Dr;if(!A)throw new Ns({data:S});const D=gn({abi:$,args:k,data:S,functionName:F});w.push(s?{result:D,status:"success"}:D)}catch(D){const I=ln(D,{abi:$,address:T,args:k,docsPath:"/docs/contract/multicall",functionName:F});if(!s)throw I;w.push({error:I,result:void 0,status:"failure"})}}}if(w.length!==u.length)throw new R("multicall results mismatch");return w}async function Xi(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?F0(l.blockOverrides):void 0,b=l.calls.map(m=>{const w=m,P=w.account?te(w.account):void 0,g=w.abi?Oe(w):w.data,y={...w,account:P,data:w.dataSuffix?$e([g||"0x",w.dataSuffix]):g,from:w.from??(P==null?void 0:P.address)};return xt(y),Ut(y)}),p=l.stateOverrides?Oo(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:p})}const f=(typeof n=="bigint"?U(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},f]})).map((l,h)=>({...d0(l),calls:l.calls.map((b,p)=>{var $,T;const{abi:m,args:w,functionName:P,to:g}=s[h].calls[p],y=(($=b.error)==null?void 0:$.data)??b.returnData,E=BigInt(b.gasUsed),B=(T=b.logs)==null?void 0:T.map(F=>mt(F)),S=b.status==="0x1"?"success":"failure",A=m&&S==="success"&&y!=="0x"?gn({abi:m,data:y,functionName:P}):null,O=(()=>{var k;if(S==="success")return;let F;if(((k=b.error)==null?void 0:k.data)==="0x"?F=new Dr:b.error&&(F=new Ns(b.error)),!!F)return ln(F,{abi:m??[],address:g??"0x",args:w,functionName:P??"<unknown>"})})();return{data:y,gasUsed:E,logs:B,status:S,...S==="success"?{result:A}:{error:O}}})}))}catch(c){const u=c,f=_s(u,{});throw f instanceof Kr?u:f}}function eo(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new G("Unable to normalize signature.");return s}function to(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Vi(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>to(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>to(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function _f(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return _f(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Vi(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Vi(n[r],{strict:!1}):!1)return o}}function Lf(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Pa(e):e;return{...r,...n?{hash:An(r)}:{}}}function Ws(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=Q1(t,{strict:!1}),o=e.filter(u=>i?u.type==="function"||u.type==="error"?Hf(u)===nt(t,0,4):u.type==="event"?An(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new Ss({name:t});if(o.length===1)return{...o[0],...s?{hash:An(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:An(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?to(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=_f(u.inputs,a.inputs,r);if(d)throw new qy({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=o;return{...u,overloads:f}})();if(!c)throw new Ss({name:t});return{...c,...s?{hash:An(c)}:{}}}function Hf(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Ws(n,r)}return e[0]})();return nt(An(t),0,4)}function Dy(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Ws(r,s)}return e[0]})(),n=typeof t=="string"?t:bs(t);return eo(n)}function An(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Ws(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:bf(Go(Dy(t)))}class qy extends G{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${eo(bs(t.abiItem))}\`, and`,`\`${n.type}\` in \`${eo(bs(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Ss extends G{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Gy(...e){var i;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,a]=e;return[Wy(o),a]}return e})(),{bytecode:r,args:s}=n;return Ge(r,(i=t.inputs)!=null&&i.length&&(s!=null&&s.length)?ra(t.inputs,s):"0x")}function Vy(e){return Lf(e)}function Wy(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Ss({name:"constructor"});return t}function Qy(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[lc(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?lc([t,...r],t.name,{args:n}):t,i=Zy(s),o=n.length>0?ra(s.inputs,n):void 0;return o?Ge(i,o):i}function vn(e,t={}){return Lf(e,t)}function lc(e,t,n){const r=Ws(e,t,n);if(r.type!=="function")throw new Ss({name:t,type:"function"});return r}function Zy(e){return Hf(e)}const Ky="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Je="0x0000000000000000000000000000000000000000",Yy="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Jy(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,u=t.account?te(t.account):void 0;if(o&&!u)throw new R("`account` is required when `traceAssetChanges` is true");const f=u?Gy(Vy("constructor(bytes, bytes)"),{bytecode:_0,args:[Yy,Qy(vn("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(t.calls.map(async M=>{if(!M.data&&!M.abi)return;const{accessList:x}=await nf(e,{account:u.address,...M,data:M.abi?Oe(M):M.data});return x.map(({address:C,storageKeys:H})=>H.length>0?C:null)})).then(M=>M.flat().filter(Boolean)):[],l=await Xi(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:i},{calls:d.map((M,x)=>({abi:[vn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:M,from:Je,nonce:x})),stateOverrides:[{address:Je,nonce:0}]}]:[],{calls:[...s,{}].map(M=>({...M,from:u==null?void 0:u.address})),stateOverrides:i},...o?[{calls:[{data:f}]},{calls:d.map((M,x)=>({abi:[vn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:M,from:Je,nonce:x})),stateOverrides:[{address:Je,nonce:0}]},{calls:d.map((M,x)=>({to:M,abi:[vn("function decimals() returns (uint256)")],functionName:"decimals",from:Je,nonce:x})),stateOverrides:[{address:Je,nonce:0}]},{calls:d.map((M,x)=>({to:M,abi:[vn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Je,nonce:x})),stateOverrides:[{address:Je,nonce:0}]},{calls:d.map((M,x)=>({to:M,abi:[vn("function symbol() returns (string)")],functionName:"symbol",from:Je,nonce:x})),stateOverrides:[{address:Je,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?l[2]:l[0],[b,p,,m,w,P,g,y]=o?l:[],{calls:E,...B}=h,S=E.slice(0,-1)??[],A=(b==null?void 0:b.calls)??[],O=(p==null?void 0:p.calls)??[],$=[...A,...O].map(M=>M.status==="success"?Te(M.data):null),T=(m==null?void 0:m.calls)??[],F=(w==null?void 0:w.calls)??[],k=[...T,...F].map(M=>M.status==="success"?Te(M.data):null),D=((P==null?void 0:P.calls)??[]).map(M=>M.status==="success"?M.result:null),I=((y==null?void 0:y.calls)??[]).map(M=>M.status==="success"?M.result:null),N=((g==null?void 0:g.calls)??[]).map(M=>M.status==="success"?M.result:null),_=[];for(const[M,x]of k.entries()){const C=$[M];if(typeof x!="bigint"||typeof C!="bigint")continue;const H=D[M-1],V=I[M-1],Y=N[M-1],J=M===0?{address:Ky,decimals:18,symbol:"ETH"}:{address:d[M-1],decimals:Y||H?Number(H??1):void 0,symbol:V??void 0};_.some(ne=>ne.token.address===J.address)||_.push({token:J,value:{pre:C,post:x,diff:x-C}})}return{assetChanges:_,block:B,results:S}}const zf="0x6492649264926492649264926492649264926492649264926492649264926492";function Xy(e){if(nt(e,-32)!==zf)throw new nm(e)}function em(e){const{data:t,signature:n,to:r}=e;return Ge(ra(gf("address, bytes, bytes"),[r,t,n]),zf)}function tm(e){try{return Xy(e),!0}catch{return!1}}class nm extends G{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function rm({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Ff.Signature(Te(e),Te(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:rt(o)}async function Qs(e,t){var c,u,f,d;const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??((u=(c=r==null?void 0:r.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:o=t.multicallAddress??((d=(f=r==null?void 0:r.contracts)==null?void 0:f.multicall3)==null?void 0:d.address)}=t;if(r!=null&&r.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const l=t.signature;return De(l)?l:typeof l=="object"&&"r"in l&&"s"in l?rm(l):ae(l)})();try{return ky(a)?await sm(e,{...t,multicallAddress:o,signature:a}):await im(e,{...t,verifierAddress:i,signature:a})}catch(l){try{if(rr(Ao(n),await i0({hash:s,signature:a})))return!0}catch{}if(l instanceof bn)return!1;throw l}}async function sm(e,t){var m;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:f}=Fy(t.signature);if(await Gi(e,{address:n,blockNumber:r,blockTag:s})===tr(["0xef0100",a.address]))return await om(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:U(a.r,{size:32}),s:U(a.s,{size:32}),yParity:a.yParity};if(!await Zp({address:n,authorization:l}))throw new bn;const b=await z(e,We,"readContract")({...o?{address:o}:{code:Vo},authorizationList:[l],abi:Es,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Oe({abi:M0,functionName:"isValidSignature",args:[i,u]})}]]}),p=(m=b[b.length-1])==null?void 0:m.returnData;if(p!=null&&p.startsWith("0x1626ba7e"))return!0;throw new bn}async function im(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||tm(o)?o:em({data:s,signature:o,to:r}))(),f=a?{to:a,data:Oe({abi:Ya,functionName:"isValidSig",args:[n,i,u]}),...c}:{data:js({abi:Ya,args:[n,i,u],bytecode:tp}),...c},{data:d}=await z(e,ts,"call")(f).catch(l=>{throw l instanceof r0?new bn:l});if(Yl(d??"0x0"))return!0;throw new bn}async function om(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await z(e,We,"readContract")({address:n,abi:M0,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof s0?new bn:c})).startsWith("0x1626ba7e"))return!0;throw new bn}class bn extends Error{}async function am(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=cf(n);return z(e,Qs,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function cm(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...f}=t,d=bb({message:o,primaryType:a,types:c,domain:u});return z(e,Qs,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:i,...f})}function Uf(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=ie(["watchBlockNumber",e.uid,t,n,o]);return gt(d,{onBlockNumber:r,onError:s},l=>ir(async()=>{var h;try{const b=await z(e,ns,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let p=c+1n;p<b;p++)l.onBlockNumber(p,c),c=p}(c===void 0||b>c)&&(l.onBlockNumber(b,c),c=b)}catch(b){(h=l.onError)==null||h.call(l,b)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=ie(["watchBlockNumber",e.uid,t,n]);return gt(d,{onBlockNumber:r,onError:s},l=>{let h=!0,b=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:m}=await p.subscribe({params:["newHeads"],onData(w){var g;if(!h)return;const P=Te((g=w.result)==null?void 0:g.number);l.onBlockNumber(P,c),c=P},onError(w){var P;(P=l.onError)==null||P.call(l,w)}});b=m,h||b()}catch(p){s==null||s(p)}})(),()=>b()})})()}async function jf(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:E})=>~~(1<<E)*200,timeout:c=18e4}=t,u=ie(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var E;return t.pollingInterval?t.pollingInterval:(E=e.chain)!=null&&E.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,h,b=!1,p,m;const{promise:w,resolve:P,reject:g}=Wo(),y=c?setTimeout(()=>{m==null||m(),p==null||p(),g(new zh({hash:s}))},c):void 0;return p=gt(u,{onReplaced:i,resolve:P,reject:g},async E=>{if(h=await z(e,hs,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(y),E.resolve(h),p==null||p();return}m=z(e,Uf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(B){const S=O=>{clearTimeout(y),m==null||m(),O(),p==null||p()};let A=B;if(!b)try{if(h){if(r>1&&(!h.blockNumber||A-h.blockNumber+1n<r))return;S(()=>E.resolve(h));return}if(n&&!d&&(b=!0,await As(async()=>{d=await z(e,ca,"getTransaction")({hash:s}),d.blockNumber&&(A=d.blockNumber)},{delay:a,retryCount:o}),b=!1),h=await z(e,hs,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||A-h.blockNumber+1n<r))return;S(()=>E.resolve(h))}catch(O){if(O instanceof e0||O instanceof t0){if(!d){b=!1;return}try{l=d,b=!0;const $=await As(()=>z(e,Ue,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:k})=>k instanceof u0});b=!1;const T=$.transactions.find(({from:k,nonce:D})=>k===l.from&&D===l.nonce);if(!T||(h=await z(e,hs,"getTransactionReceipt")({hash:T.hash}),r>1&&(!h.blockNumber||A-h.blockNumber+1n<r)))return;let F="replaced";T.to===l.to&&T.value===l.value&&T.input===l.input?F="repriced":T.from===T.to&&T.value===0n&&(F="cancelled"),S(()=>{var k;(k=E.onReplaced)==null||k.call(E,{reason:F,replacedTransaction:l,transaction:T,transactionReceipt:h}),E.resolve(h)})}catch($){S(()=>E.reject($))}}else S(()=>E.reject(O))}}})}),w}function um(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let d;return u?(()=>{const b=ie(["watchBlocks",e.uid,t,n,r,f,c]);return gt(b,{onBlock:s,onError:i},p=>ir(async()=>{var m;try{const w=await z(e,Ue,"getBlock")({blockTag:t,includeTransactions:f});if(w.number!==null&&(d==null?void 0:d.number)!=null){if(w.number===d.number)return;if(w.number-d.number>1&&n)for(let P=(d==null?void 0:d.number)+1n;P<w.number;P++){const g=await z(e,Ue,"getBlock")({blockNumber:P,includeTransactions:f});p.onBlock(g,d),d=g}}((d==null?void 0:d.number)==null||t==="pending"&&(w==null?void 0:w.number)==null||w.number!==null&&w.number>d.number)&&(p.onBlock(w,d),d=w)}catch(w){(m=p.onError)==null||m.call(p,w)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,p=!0,m=()=>b=!1;return(async()=>{try{r&&z(e,Ue,"getBlock")({blockTag:t,includeTransactions:f}).then(g=>{b&&p&&(s(g,void 0),p=!1)}).catch(i);const w=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:P}=await w.subscribe({params:["newHeads"],async onData(g){var E;if(!b)return;const y=await z(e,Ue,"getBlock")({blockNumber:(E=g.result)==null?void 0:E.number,includeTransactions:f}).catch(()=>{});b&&(s(y,d),p=!1,d=y)},onError(g){i==null||i(g)}});m=P,b||m()}catch(w){i==null||i(w)}})(),()=>m()})()}function fm(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const m=ie(["watchEvent",t,n,r,e.uid,s,f,o]);return gt(m,{onLogs:c,onError:a},w=>{let P;o!==void 0&&(P=o-1n);let g,y=!1;const E=ir(async()=>{var B;if(!y){try{g=await z(e,rf,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}y=!0;return}try{let S;if(g)S=await z(e,Ds,"getFilterChanges")({filter:g});else{const A=await z(e,ns,"getBlockNumber")({});P&&P!==A?S=await z(e,Uo,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:P+1n,toBlock:A}):S=[],P=A}if(S.length===0)return;if(r)w.onLogs(S);else for(const A of S)w.onLogs([A])}catch(S){g&&S instanceof Ht&&(y=!1),(B=w.onError)==null||B.call(w,S)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await z(e,qs,"uninstallFilter")({filter:g}),E()}})})():(()=>{let m=!0,w=()=>m=!1;return(async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),g=i??(s?[s]:void 0);let y=[];g&&(y=[g.flatMap(S=>Vr({abi:[S],eventName:S.name,args:n}))],s&&(y=y[0]));const{unsubscribe:E}=await P.subscribe({params:["logs",{address:t,topics:y}],onData(B){var A;if(!m)return;const S=B.result;try{const{eventName:O,args:$}=ws({abi:g??[],data:S.data,topics:S.topics,strict:h}),T=mt(S,{args:$,eventName:O});c([T])}catch(O){let $,T;if(O instanceof ys||O instanceof Po){if(d)return;$=O.abiItem.name,T=(A=O.abiItem.inputs)==null?void 0:A.some(k=>!("name"in k&&k.name))}const F=mt(S,{args:T?[]:{},eventName:$});c([F])}},onError(B){a==null||a(B)}});w=E,m||w()}catch(P){a==null||a(P)}})(),()=>w()})()}function dm(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=ie(["watchPendingTransactions",e.uid,t,i]);return gt(u,{onTransactions:r,onError:n},f=>{let d;const l=ir(async()=>{var h;try{if(!d)try{d=await z(e,sf,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const b=await z(e,Ds,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)f.onTransactions(b);else for(const p of b)f.onTransactions([p])}catch(b){(h=f.onError)==null||h.call(f,b)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await z(e,qs,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function lm(e){var d,l,h;const{scheme:t,statement:n,...r}=((d=e.match(hm))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=((l=e.match(pm))==null?void 0:l.groups)??{},f=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const hm=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,pm=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function bm(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Le(r.address,{strict:!1})||t&&!rr(r.address,t))return!1}catch{return!1}return!0}async function ym(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=t,f=lm(s);if(!f.address||!bm({address:n,domain:r,message:f,nonce:i,scheme:o,time:c}))return!1;const l=cf(s);return Qs(e,{address:f.address,hash:l,signature:a,...u})}async function ua(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,U(r)]:[t]},{retryCount:0}),o=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||D0)(s);if(o.status==="reverted"&&n)throw new n0({receipt:o});return o}function mm(e){return{call:t=>ts(e,t),createAccessList:t=>nf(e,t),createBlockFilter:()=>Hp(e),createContractEventFilter:t=>Qu(e,t),createEventFilter:t=>rf(e,t),createPendingTransactionFilter:()=>sf(e),estimateContractGas:t=>m1(e,t),estimateGas:t=>Ho(e,t),getBalance:t=>zp(e,t),getBlobBaseFee:()=>Up(e),getBlock:t=>Ue(e,t),getBlockNumber:t=>ns(e,t),getBlockTransactionCount:t=>jp(e,t),getBytecode:t=>Gi(e,t),getChainId:()=>jt(e),getCode:t=>Gi(e,t),getContractEvents:t=>m0(e,t),getEip712Domain:t=>qp(e,t),getEnsAddress:t=>Pp(e,t),getEnsAvatar:t=>Mp(e,t),getEnsName:t=>_p(e,t),getEnsResolver:t=>Lp(e,t),getEnsText:t=>tf(e,t),getFeeHistory:t=>Wp(e,t),estimateFeesPerGas:t=>c1(e,t),getFilterChanges:t=>Ds(e,t),getFilterLogs:t=>Qp(e,t),getGasPrice:()=>ko(e),getLogs:t=>Uo(e,t),getProof:t=>Hy(e,t),estimateMaxPriorityFeePerGas:t=>a1(e,t),fillTransaction:t=>_o(e,t),getStorageAt:t=>zy(e,t),getTransaction:t=>ca(e,t),getTransactionConfirmations:t=>Uy(e,t),getTransactionCount:t=>No(e,t),getTransactionReceipt:t=>hs(e,t),multicall:t=>jy(e,t),prepareTransactionRequest:t=>Yr(e,t),readContract:t=>We(e,t),sendRawTransaction:t=>Zo(e,t),sendRawTransactionSync:t=>ua(e,t),simulate:t=>Xi(e,t),simulateBlocks:t=>Xi(e,t),simulateCalls:t=>Jy(e,t),simulateContract:t=>cp(e,t),verifyHash:t=>Qs(e,t),verifyMessage:t=>am(e,t),verifySiweMessage:t=>ym(e,t),verifyTypedData:t=>cm(e,t),uninstallFilter:t=>qs(e,t),waitForTransactionReceipt:t=>jf(e,t),watchBlocks:t=>um(e,t),watchBlockNumber:t=>Uf(e,t),watchContractEvent:t=>bp(e,t),watchEvent:t=>fm(e,t),watchPendingTransactions:t=>dm(e,t)}}function U6(e){const{key:t="public",name:n="Public Client"}=e;return K0({...e,key:t,name:n,type:"publicClient"}).extend(mm)}async function gm(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:U(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function wm(e,t){const{abi:n,args:r,bytecode:s,...i}=t,o=js({abi:n,args:r,bytecode:s});return Gs(e,{...i,...i.authorizationList?{to:null}:{},data:o})}async function xm(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>qr(r))}async function vm(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?te(n):void 0,i=r?[s==null?void 0:s.address,[U(r)]]:[s==null?void 0:s.address],o=await e.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,u]of Object.entries(o)){a[Number(c)]={};for(let[f,d]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=d}return typeof r=="number"?a[r]:a}async function Em(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Df(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Dt({docsPath:"/docs/eip7702/prepareAuthorization"});const i=te(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:te(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await z(e,jt,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await z(e,No,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&rr(o.address,i.address))&&(a.nonce+=1)),a}async function Pm(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Ao(n))}async function Am(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Sm(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await V0(e,t);return await Q0(e,{...t,id:s.id,timeout:r})}const xi=new er(128);async function qf(e,t){var E,B,S,A;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,pollingInterval:b,throwOnReceiptRevert:p,type:m,value:w,...P}=t,g=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Dt({docsPath:"/docs/actions/wallet/sendTransactionSync"});const y=n?te(n):null;try{xt(t);const O=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Ms({authorization:i[0]}).catch(()=>{throw new R("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let $;r!==null&&($=await z(e,jt,"getChainId")({}),Qo({currentChainId:$,chain:r}));const T=(S=(B=(E=e.chain)==null?void 0:E.formatters)==null?void 0:B.transactionRequest)==null?void 0:S.format,k=(T||Ut)({...nr(P,{format:T}),accessList:s,account:y,authorizationList:i,blobs:o,chainId:$,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,to:O,type:m,value:w},"sendTransaction"),D=xi.get(e.uid),I=D?"wallet_sendTransaction":"eth_sendTransaction",N=await(async()=>{try{return await e.request({method:I,params:[k]},{retryCount:0})}catch(M){if(D===!1)throw M;const x=M;if(x.name==="InvalidInputRpcError"||x.name==="InvalidParamsRpcError"||x.name==="MethodNotFoundRpcError"||x.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(C=>(xi.set(e.uid,!0),C)).catch(C=>{const H=C;throw H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError"?(xi.set(e.uid,!1),x):H});throw x}})(),_=await z(e,jf,"waitForTransactionReceipt")({checkReplacement:!1,hash:N,pollingInterval:b,timeout:g});if(p&&_.status==="reverted")throw new n0({receipt:_});return _}if((y==null?void 0:y.type)==="local"){const $=await z(e,Yr,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,nonceManager:y.nonceManager,parameters:[...Lo,"sidecars"],type:m,value:w,...P,to:O}),T=(A=r==null?void 0:r.serializers)==null?void 0:A.transaction,F=await y.signTransaction($,{serializer:T});return await z(e,ua,"sendRawTransactionSync")({serializedTransaction:F,throwOnReceiptRevert:p})}throw(y==null?void 0:y.type)==="smart"?new fn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new fn({docsPath:"/docs/actions/wallet/sendTransactionSync",type:y==null?void 0:y.type})}catch(O){throw O instanceof fn?O:Ls(O,{...t,account:y,chain:t.chain||void 0})}}async function Im(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function Bm(e,t){const{account:n=e.account}=t;if(!n)throw new Dt({docsPath:"/docs/eip7702/signAuthorization"});const r=te(n);if(!r.signAuthorization)throw new fn({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Df(e,t);return r.signAuthorization(s)}async function Tm(e,{account:t=e.account,message:n}){if(!t)throw new Dt({docsPath:"/docs/actions/wallet/signMessage"});const r=te(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Gn(n):n.raw instanceof Uint8Array?yt(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function $m(e,t){var u,f,d,l;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Dt({docsPath:"/docs/actions/wallet/signTransaction"});const i=te(n);xt({account:i,...t});const o=await z(e,jt,"getChainId")({});r!==null&&Qo({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((f=a==null?void 0:a.transactionRequest)==null?void 0:f.format)||Ut;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(l=(d=e.chain)==null?void 0:d.serializers)==null?void 0:l.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:i},"signTransaction"),chainId:U(o),from:i.address}]},{retryCount:0})}async function Cm(e,t){const{account:n=e.account,domain:r,message:s,primaryType:i}=t;if(!n)throw new Dt({docsPath:"/docs/actions/wallet/signTypedData"});const o=te(n),a={EIP712Domain:ff({domain:r}),...t.types};if(uf({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=hb({domain:r,message:s,primaryType:i,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Om(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:U(t)}]},{retryCount:0})}async function Rm(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function Fm(e,t){return Fr.internal(e,qf,"sendTransactionSync",t)}function km(e){return{addChain:t=>gm(e,t),deployContract:t=>wm(e,t),fillTransaction:t=>_o(e,t),getAddresses:()=>xm(e),getCallsStatus:t=>W0(e,t),getCapabilities:t=>vm(e,t),getChainId:()=>jt(e),getPermissions:()=>Em(e),prepareAuthorization:t=>Df(e,t),prepareTransactionRequest:t=>Yr(e,t),requestAddresses:()=>Pm(e),requestPermissions:t=>Am(e,t),sendCalls:t=>V0(e,t),sendCallsSync:t=>Sm(e,t),sendRawTransaction:t=>Zo(e,t),sendRawTransactionSync:t=>ua(e,t),sendTransaction:t=>Gs(e,t),sendTransactionSync:t=>qf(e,t),showCallsStatus:t=>Im(e,t),signAuthorization:t=>Bm(e,t),signMessage:t=>Tm(e,t),signTransaction:t=>$m(e,t),signTypedData:t=>Cm(e,t),switchChain:t=>Om(e,t),waitForCallsStatus:t=>Q0(e,t),watchAsset:t=>Rm(e,t),writeContract:t=>Fr(e,t),writeContractSync:t=>Fm(e,t)}}function j6(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return K0({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(km)}function fa({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=Z0();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Yp(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}function D6(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>fa({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}function q6(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=Nm,retryCount:o,retryDelay:a}=t;return({chain:c,pollingInterval:u=4e3,timeout:f,...d})=>{let l=e,h=()=>{};const b=fa({key:n,name:r,async request({method:p,params:m}){let w;const P=async(g=0)=>{const y=l[g]({...d,chain:c,retryCount:0,timeout:f});try{const E=await y.request({method:p,params:m});return h({method:p,params:m,response:E,transport:y,status:"success"}),E}catch(E){if(h({error:E,method:p,params:m,transport:y,status:"error"}),i(E)||g===l.length-1||(w??(w=l.slice(g+1).some(B=>{const{include:S,exclude:A}=B({chain:c}).config.methods||{};return S?S.includes(p):A?!A.includes(p):!0})),!w))throw E;return P(g+1)}};return P()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:l.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};Mm({chain:c,interval:p.interval??u,onTransports:m=>l=m,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:l,weights:p.weights})}return b}}function Nm(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Wn.code||e.code===cn.code||Wt.nodeMessage.test(e.message)||e.code===5e3))}function Mm({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],d=async()=>{const l=await Promise.all(o.map(async p=>{const m=p({chain:e,retryCount:0,timeout:i}),w=Date.now();let P,g;try{await(r?r({transport:m}):m.request({method:"net_listening"})),g=1}catch{g=0}finally{P=Date.now()}return{latency:P-w,success:g}}));f.push(l),f.length>s&&f.shift();const h=Math.max(...f.map(p=>Math.max(...p.map(({latency:m})=>m)))),b=o.map((p,m)=>{const w=f.map(B=>B[m].latency),g=1-w.reduce((B,S)=>B+S,0)/w.length/h,y=f.map(B=>B[m].success),E=y.reduce((B,S)=>B+S,0)/y.length;return E===0?[0,m]:[u*g+c*E,m]}).sort((p,m)=>m[0]-p[0]);n(b.map(([,p])=>o[p])),await Ps(t),d()};d()}class _m extends R{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function G6(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:b})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},w=t.retryCount??h,P=b??t.timeout??1e4,g=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!g)throw new _m;const y=ab(g,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:P});return fa({key:i,methods:o,name:a,async request({method:E,params:B}){const S={method:E,params:B},{schedule:A}=z0({id:g,wait:m,shouldSplitBatch(F){return F.length>p},fn:F=>y.request({body:F}),sort:(F,k)=>F.id-k.id}),O=async F=>n?A(F):[await y.request({body:F})],[{error:$,result:T}]=await O(S);if(d)return{error:$,result:T};if($)throw new Co({body:S,error:$,url:g});return T},retryCount:w,retryDelay:f,timeout:P,type:"http"},{fetchOptions:s,url:g})}}var ss=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lm={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Bt,mo,Ac,Hm=(Ac=class{constructor(){q(this,Bt,Lm);q(this,mo,!1)}setTimeoutProvider(e){L(this,Bt,e)}setTimeout(e,t){return v(this,Bt).setTimeout(e,t)}clearTimeout(e){v(this,Bt).clearTimeout(e)}setInterval(e,t){return v(this,Bt).setInterval(e,t)}clearInterval(e){v(this,Bt).clearInterval(e)}},Bt=new WeakMap,mo=new WeakMap,Ac),Zt=new Hm;function zm(e){setTimeout(e,0)}var yn=typeof window>"u"||"Deno"in globalThis;function ve(){}function Um(e,t){return typeof e=="function"?e(t):e}function no(e){return typeof e=="number"&&e>=0&&e!==1/0}function Gf(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _t(e,t){return typeof e=="function"?e(t):e}function Me(e,t){return typeof e=="function"?e(t):e}function hc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==da(o,t.options))return!1}else if(!Mr(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function pc(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Nr(t.options.mutationKey)!==Nr(i))return!1}else if(!Mr(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function da(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nr)(e)}function Nr(e){return JSON.stringify(e,(t,n)=>so(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Mr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Mr(e[n],t[n])):!1}var jm=Object.prototype.hasOwnProperty;function Vf(e,t){if(e===t)return e;const n=bc(e)&&bc(t);if(!n&&!(so(e)&&so(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u],d=e[f],l=t[f];if(d===l){a[f]=d,(n?u<s:jm.call(e,f))&&c++;continue}if(d===null||l===null||typeof d!="object"||typeof l!="object"){a[f]=l;continue}const h=Vf(d,l);a[f]=h,h===d&&c++}return s===o&&c===s?e:a}function ro(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function bc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function so(e){if(!yc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!yc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dm(e){return new Promise(t=>{Zt.setTimeout(t,e)})}function io(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Vf(e,t):t}function qm(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Gm(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var la=Symbol();function Wf(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===la?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Qf(e,t){return typeof e=="function"?e(...t):!!e}function Vm(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var Kt,Tt,Tn,Sc,Wm=(Sc=class extends ss{constructor(){super();q(this,Kt);q(this,Tt);q(this,Tn);L(this,Tn,t=>{if(!yn&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){v(this,Tt)||this.setEventListener(v(this,Tn))}onUnsubscribe(){var t;this.hasListeners()||((t=v(this,Tt))==null||t.call(this),L(this,Tt,void 0))}setEventListener(t){var n;L(this,Tn,t),(n=v(this,Tt))==null||n.call(this),L(this,Tt,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){v(this,Kt)!==t&&(L(this,Kt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof v(this,Kt)=="boolean"?v(this,Kt):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Kt=new WeakMap,Tt=new WeakMap,Tn=new WeakMap,Sc),ha=new Wm;function oo(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Qm=zm;function Zm(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=Qm;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var de=Zm(),$n,$t,Cn,Ic,Km=(Ic=class extends ss{constructor(){super();q(this,$n,!0);q(this,$t);q(this,Cn);L(this,Cn,t=>{if(!yn&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){v(this,$t)||this.setEventListener(v(this,Cn))}onUnsubscribe(){var t;this.hasListeners()||((t=v(this,$t))==null||t.call(this),L(this,$t,void 0))}setEventListener(t){var n;L(this,Cn,t),(n=v(this,$t))==null||n.call(this),L(this,$t,t(this.setOnline.bind(this)))}setOnline(t){v(this,$n)!==t&&(L(this,$n,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return v(this,$n)}},$n=new WeakMap,$t=new WeakMap,Cn=new WeakMap,Ic),Is=new Km;function Ym(e){return Math.min(1e3*2**e,3e4)}function Zf(e){return(e??"online")==="online"?Is.isOnline():!0}var ao=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Kf(e){let t=!1,n=0,r;const s=oo(),i=()=>s.status!=="pending",o=p=>{var m;if(!i()){const w=new ao(p);l(w),(m=e.onCancel)==null||m.call(e,w)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>ha.isFocused()&&(e.networkMode==="always"||Is.isOnline())&&e.canRun(),f=()=>Zf(e.networkMode)&&e.canRun(),d=p=>{i()||(r==null||r(),s.resolve(p))},l=p=>{i()||(r==null||r(),s.reject(p))},h=()=>new Promise(p=>{var m;r=w=>{(i()||u())&&p(w)},(m=e.onPause)==null||m.call(e)}).then(()=>{var p;r=void 0,i()||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(i())return;let p;const m=n===0?e.initialPromise:void 0;try{p=m??e.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(d).catch(w=>{var B;if(i())return;const P=e.retry??(yn?0:3),g=e.retryDelay??Ym,y=typeof g=="function"?g(n,w):g,E=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,w);if(t||!E){l(w);return}n++,(B=e.onFail)==null||B.call(e,n,w),Dm(y).then(()=>u()?void 0:h()).then(()=>{t?l(w):b()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():h().then(b),s)}}var Yt,Bc,Yf=(Bc=class{constructor(){q(this,Yt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),no(this.gcTime)&&L(this,Yt,Zt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yn?1/0:5*60*1e3))}clearGcTimeout(){v(this,Yt)&&(Zt.clearTimeout(v(this,Yt)),L(this,Yt,void 0))}},Yt=new WeakMap,Bc),Jt,On,Ne,Xt,ue,_r,en,He,at,Tc,Jm=(Tc=class extends Yf{constructor(t){super();q(this,He);q(this,Jt);q(this,On);q(this,Ne);q(this,Xt);q(this,ue);q(this,_r);q(this,en);L(this,en,!1),L(this,_r,t.defaultOptions),this.setOptions(t.options),this.observers=[],L(this,Xt,t.client),L(this,Ne,v(this,Xt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,L(this,Jt,gc(this.options)),this.state=t.state??v(this,Jt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=v(this,ue))==null?void 0:t.promise}setOptions(t){if(this.options={...v(this,_r),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=gc(this.options);n.data!==void 0&&(this.setState(mc(n.data,n.dataUpdatedAt)),L(this,Jt,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&v(this,Ne).remove(this)}setData(t,n){const r=io(this.state.data,t,this.options);return Z(this,He,at).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Z(this,He,at).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=v(this,ue))==null?void 0:r.promise;return(s=v(this,ue))==null||s.cancel(t),n?n.then(ve).catch(ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(v(this,Jt))}isActive(){return this.observers.some(t=>Me(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===la||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_t(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Gf(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=v(this,ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=v(this,ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),v(this,Ne).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(v(this,ue)&&(v(this,en)?v(this,ue).cancel({revert:!0}):v(this,ue).cancelRetry()),this.scheduleGc()),v(this,Ne).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Z(this,He,at).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,f,d,l,h,b,p,m,w,P,g;if(this.state.fetchStatus!=="idle"&&((c=v(this,ue))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(v(this,ue))return v(this,ue).continueRetry(),v(this,ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(E=>E.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,s=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(L(this,en,!0),r.signal)})},i=()=>{const y=Wf(this.options,n),B=(()=>{const S={client:v(this,Xt),queryKey:this.queryKey,meta:this.meta};return s(S),S})();return L(this,en,!1),this.options.persister?this.options.persister(y,B,this):y(B)},a=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:v(this,Xt),state:this.state,fetchFn:i};return s(y),y})();(u=this.options.behavior)==null||u.onFetch(a,this),L(this,On,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Z(this,He,at).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),L(this,ue,Kf({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:y=>{y instanceof ao&&y.revert&&this.setState({...v(this,On),fetchStatus:"idle"}),r.abort()},onFail:(y,E)=>{Z(this,He,at).call(this,{type:"failed",failureCount:y,error:E})},onPause:()=>{Z(this,He,at).call(this,{type:"pause"})},onContinue:()=>{Z(this,He,at).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const y=await v(this,ue).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(h=(l=v(this,Ne).config).onSuccess)==null||h.call(l,y,this),(p=(b=v(this,Ne).config).onSettled)==null||p.call(b,y,this.state.error,this),y}catch(y){if(y instanceof ao){if(y.silent)return v(this,ue).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw Z(this,He,at).call(this,{type:"error",error:y}),(w=(m=v(this,Ne).config).onError)==null||w.call(m,y,this),(g=(P=v(this,Ne).config).onSettled)==null||g.call(P,this.state.data,y,this),y}finally{this.scheduleGc()}}},Jt=new WeakMap,On=new WeakMap,Ne=new WeakMap,Xt=new WeakMap,ue=new WeakMap,_r=new WeakMap,en=new WeakMap,He=new WeakSet,at=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Jf(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...mc(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return L(this,On,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),de.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),v(this,Ne).notify({query:this,type:"updated",action:t})})},Tc);function Jf(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zf(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mc(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gc(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xe,K,Lr,be,tn,Rn,ut,Ct,Hr,Fn,kn,nn,rn,Ot,Nn,X,lr,co,uo,fo,lo,ho,po,bo,Xf,$c,Xm=($c=class extends ss{constructor(t,n){super();q(this,X);q(this,xe);q(this,K);q(this,Lr);q(this,be);q(this,tn);q(this,Rn);q(this,ut);q(this,Ct);q(this,Hr);q(this,Fn);q(this,kn);q(this,nn);q(this,rn);q(this,Ot);q(this,Nn,new Set);this.options=n,L(this,xe,t),L(this,Ct,null),L(this,ut,oo()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(v(this,K).addObserver(this),wc(v(this,K),this.options)?Z(this,X,lr).call(this):this.updateResult(),Z(this,X,lo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yo(v(this,K),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yo(v(this,K),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Z(this,X,ho).call(this),Z(this,X,po).call(this),v(this,K).removeObserver(this)}setOptions(t){const n=this.options,r=v(this,K);if(this.options=v(this,xe).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Me(this.options.enabled,v(this,K))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Z(this,X,bo).call(this),v(this,K).setOptions(this.options),n._defaulted&&!ro(this.options,n)&&v(this,xe).getQueryCache().notify({type:"observerOptionsUpdated",query:v(this,K),observer:this});const s=this.hasListeners();s&&xc(v(this,K),r,this.options,n)&&Z(this,X,lr).call(this),this.updateResult(),s&&(v(this,K)!==r||Me(this.options.enabled,v(this,K))!==Me(n.enabled,v(this,K))||_t(this.options.staleTime,v(this,K))!==_t(n.staleTime,v(this,K)))&&Z(this,X,co).call(this);const i=Z(this,X,uo).call(this);s&&(v(this,K)!==r||Me(this.options.enabled,v(this,K))!==Me(n.enabled,v(this,K))||i!==v(this,Ot))&&Z(this,X,fo).call(this,i)}getOptimisticResult(t){const n=v(this,xe).getQueryCache().build(v(this,xe),t),r=this.createResult(n,t);return t6(this,r)&&(L(this,be,r),L(this,Rn,this.options),L(this,tn,v(this,K).state)),r}getCurrentResult(){return v(this,be)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&v(this,ut).status==="pending"&&v(this,ut).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){v(this,Nn).add(t)}getCurrentQuery(){return v(this,K)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=v(this,xe).defaultQueryOptions(t),r=v(this,xe).getQueryCache().build(v(this,xe),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Z(this,X,lr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),v(this,be)))}createResult(t,n){var O;const r=v(this,K),s=this.options,i=v(this,be),o=v(this,tn),a=v(this,Rn),u=t!==r?t.state:v(this,Lr),{state:f}=t;let d={...f},l=!1,h;if(n._optimisticResults){const $=this.hasListeners(),T=!$&&wc(t,n),F=$&&xc(t,r,n,s);(T||F)&&(d={...d,...Jf(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:b,errorUpdatedAt:p,status:m}=d;h=d.data;let w=!1;if(n.placeholderData!==void 0&&h===void 0&&m==="pending"){let $;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?($=i.data,w=!0):$=typeof n.placeholderData=="function"?n.placeholderData((O=v(this,kn))==null?void 0:O.state.data,v(this,kn)):n.placeholderData,$!==void 0&&(m="success",h=io(i==null?void 0:i.data,$,n),l=!0)}if(n.select&&h!==void 0&&!w)if(i&&h===(o==null?void 0:o.data)&&n.select===v(this,Hr))h=v(this,Fn);else try{L(this,Hr,n.select),h=n.select(h),h=io(i==null?void 0:i.data,h,n),L(this,Fn,h),L(this,Ct,null)}catch($){L(this,Ct,$)}v(this,Ct)&&(b=v(this,Ct),h=v(this,Fn),p=Date.now(),m="error");const P=d.fetchStatus==="fetching",g=m==="pending",y=m==="error",E=g&&P,B=h!==void 0,A={status:m,fetchStatus:d.fetchStatus,isPending:g,isSuccess:m==="success",isError:y,isInitialLoading:E,isLoading:E,data:h,dataUpdatedAt:d.dataUpdatedAt,error:b,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:P,isRefetching:P&&!g,isLoadingError:y&&!B,isPaused:d.fetchStatus==="paused",isPlaceholderData:l,isRefetchError:y&&B,isStale:pa(t,n),refetch:this.refetch,promise:v(this,ut),isEnabled:Me(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=k=>{A.status==="error"?k.reject(A.error):A.data!==void 0&&k.resolve(A.data)},T=()=>{const k=L(this,ut,A.promise=oo());$(k)},F=v(this,ut);switch(F.status){case"pending":t.queryHash===r.queryHash&&$(F);break;case"fulfilled":(A.status==="error"||A.data!==F.value)&&T();break;case"rejected":(A.status!=="error"||A.error!==F.reason)&&T();break}}return A}updateResult(){const t=v(this,be),n=this.createResult(v(this,K),this.options);if(L(this,tn,v(this,K).state),L(this,Rn,this.options),v(this,tn).data!==void 0&&L(this,kn,v(this,K)),ro(n,t))return;L(this,be,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!v(this,Nn).size)return!0;const o=new Set(i??v(this,Nn));return this.options.throwOnError&&o.add("error"),Object.keys(v(this,be)).some(a=>{const c=a;return v(this,be)[c]!==t[c]&&o.has(c)})};Z(this,X,Xf).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Z(this,X,lo).call(this)}},xe=new WeakMap,K=new WeakMap,Lr=new WeakMap,be=new WeakMap,tn=new WeakMap,Rn=new WeakMap,ut=new WeakMap,Ct=new WeakMap,Hr=new WeakMap,Fn=new WeakMap,kn=new WeakMap,nn=new WeakMap,rn=new WeakMap,Ot=new WeakMap,Nn=new WeakMap,X=new WeakSet,lr=function(t){Z(this,X,bo).call(this);let n=v(this,K).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ve)),n},co=function(){Z(this,X,ho).call(this);const t=_t(this.options.staleTime,v(this,K));if(yn||v(this,be).isStale||!no(t))return;const r=Gf(v(this,be).dataUpdatedAt,t)+1;L(this,nn,Zt.setTimeout(()=>{v(this,be).isStale||this.updateResult()},r))},uo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(v(this,K)):this.options.refetchInterval)??!1},fo=function(t){Z(this,X,po).call(this),L(this,Ot,t),!(yn||Me(this.options.enabled,v(this,K))===!1||!no(v(this,Ot))||v(this,Ot)===0)&&L(this,rn,Zt.setInterval(()=>{(this.options.refetchIntervalInBackground||ha.isFocused())&&Z(this,X,lr).call(this)},v(this,Ot)))},lo=function(){Z(this,X,co).call(this),Z(this,X,fo).call(this,Z(this,X,uo).call(this))},ho=function(){v(this,nn)&&(Zt.clearTimeout(v(this,nn)),L(this,nn,void 0))},po=function(){v(this,rn)&&(Zt.clearInterval(v(this,rn)),L(this,rn,void 0))},bo=function(){const t=v(this,xe).getQueryCache().build(v(this,xe),this.options);if(t===v(this,K))return;const n=v(this,K);L(this,K,t),L(this,Lr,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Xf=function(t){de.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(v(this,be))}),v(this,xe).getQueryCache().notify({query:v(this,K),type:"observerResultsUpdated"})})},$c);function e6(e,t){return Me(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wc(e,t){return e6(e,t)||e.state.data!==void 0&&yo(e,t,t.refetchOnMount)}function yo(e,t,n){if(Me(t.enabled,e)!==!1&&_t(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&pa(e,t)}return!1}function xc(e,t,n,r){return(e!==t||Me(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&pa(e,n)}function pa(e,t){return Me(t.enabled,e)!==!1&&e.isStaleByTime(_t(t.staleTime,e))}function t6(e,t){return!ro(e.getCurrentResult(),t)}function vc(e){return{onFetch:(t,n)=>{var f,d,l,h,b;const r=t.options,s=(l=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:l.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const m=g=>{Vm(g,()=>t.signal,()=>p=!0)},w=Wf(t.options,t.fetchOptions),P=async(g,y,E)=>{if(p)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const S=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:y,direction:E?"backward":"forward",meta:t.options.meta};return m(T),T})(),A=await w(S),{maxPages:O}=t.options,$=E?Gm:qm;return{pages:$(g.pages,A,O),pageParams:$(g.pageParams,y,O)}};if(s&&i.length){const g=s==="backward",y=g?n6:Ec,E={pages:i,pageParams:o},B=y(r,E);a=await P(E,B,g)}else{const g=e??i.length;do{const y=c===0?o[0]??r.initialPageParam:Ec(r,a);if(c>0&&y==null)break;a=await P(a,y),c++}while(c<g)}return a};t.options.persister?t.fetchFn=()=>{var p,m;return(m=(p=t.options).persister)==null?void 0:m.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Ec(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function n6(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var zr,Xe,ye,sn,et,It,Cc,r6=(Cc=class extends Yf{constructor(t){super();q(this,et);q(this,zr);q(this,Xe);q(this,ye);q(this,sn);L(this,zr,t.client),this.mutationId=t.mutationId,L(this,ye,t.mutationCache),L(this,Xe,[]),this.state=t.state||s6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){v(this,Xe).includes(t)||(v(this,Xe).push(t),this.clearGcTimeout(),v(this,ye).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){L(this,Xe,v(this,Xe).filter(n=>n!==t)),this.scheduleGc(),v(this,ye).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){v(this,Xe).length||(this.state.status==="pending"?this.scheduleGc():v(this,ye).remove(this))}continue(){var t;return((t=v(this,sn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,f,d,l,h,b,p,m,w,P,g,y,E,B,S,A,O;const n=()=>{Z(this,et,It).call(this,{type:"continue"})},r={client:v(this,zr),meta:this.options.meta,mutationKey:this.options.mutationKey};L(this,sn,Kf({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:($,T)=>{Z(this,et,It).call(this,{type:"failed",failureCount:$,error:T})},onPause:()=>{Z(this,et,It).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>v(this,ye).canRun(this)}));const s=this.state.status==="pending",i=!v(this,sn).canStart();try{if(s)n();else{Z(this,et,It).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=v(this,ye).config).onMutate)==null?void 0:a.call(o,t,this,r));const T=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));T!==this.state.context&&Z(this,et,It).call(this,{type:"pending",context:T,variables:t,isPaused:i})}const $=await v(this,sn).start();return await((d=(f=v(this,ye).config).onSuccess)==null?void 0:d.call(f,$,t,this.state.context,this,r)),await((h=(l=this.options).onSuccess)==null?void 0:h.call(l,$,t,this.state.context,r)),await((p=(b=v(this,ye).config).onSettled)==null?void 0:p.call(b,$,null,this.state.variables,this.state.context,this,r)),await((w=(m=this.options).onSettled)==null?void 0:w.call(m,$,null,t,this.state.context,r)),Z(this,et,It).call(this,{type:"success",data:$}),$}catch($){try{await((g=(P=v(this,ye).config).onError)==null?void 0:g.call(P,$,t,this.state.context,this,r))}catch(T){Promise.reject(T)}try{await((E=(y=this.options).onError)==null?void 0:E.call(y,$,t,this.state.context,r))}catch(T){Promise.reject(T)}try{await((S=(B=v(this,ye).config).onSettled)==null?void 0:S.call(B,void 0,$,this.state.variables,this.state.context,this,r))}catch(T){Promise.reject(T)}try{await((O=(A=this.options).onSettled)==null?void 0:O.call(A,void 0,$,t,this.state.context,r))}catch(T){Promise.reject(T)}throw Z(this,et,It).call(this,{type:"error",error:$}),$}finally{v(this,ye).runNext(this)}}},zr=new WeakMap,Xe=new WeakMap,ye=new WeakMap,sn=new WeakMap,et=new WeakSet,It=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),de.batch(()=>{v(this,Xe).forEach(r=>{r.onMutationUpdate(t)}),v(this,ye).notify({mutation:this,type:"updated",action:t})})},Cc);function s6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ft,ze,Ur,Oc,i6=(Oc=class extends ss{constructor(t={}){super();q(this,ft);q(this,ze);q(this,Ur);this.config=t,L(this,ft,new Set),L(this,ze,new Map),L(this,Ur,0)}build(t,n,r){const s=new r6({client:t,mutationCache:this,mutationId:++is(this,Ur)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){v(this,ft).add(t);const n=ls(t);if(typeof n=="string"){const r=v(this,ze).get(n);r?r.push(t):v(this,ze).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(v(this,ft).delete(t)){const n=ls(t);if(typeof n=="string"){const r=v(this,ze).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&v(this,ze).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ls(t);if(typeof n=="string"){const r=v(this,ze).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=ls(t);if(typeof n=="string"){const s=(r=v(this,ze).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){de.batch(()=>{v(this,ft).forEach(t=>{this.notify({type:"removed",mutation:t})}),v(this,ft).clear(),v(this,ze).clear()})}getAll(){return Array.from(v(this,ft))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>pc(n,r))}findAll(t={}){return this.getAll().filter(n=>pc(t,n))}notify(t){de.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return de.batch(()=>Promise.all(t.map(n=>n.continue().catch(ve))))}},ft=new WeakMap,ze=new WeakMap,Ur=new WeakMap,Oc);function ls(e){var t;return(t=e.options.scope)==null?void 0:t.id}var tt,Rc,o6=(Rc=class extends ss{constructor(t={}){super();q(this,tt);this.config=t,L(this,tt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??da(s,n);let o=this.get(i);return o||(o=new Jm({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){v(this,tt).has(t.queryHash)||(v(this,tt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=v(this,tt).get(t.queryHash);n&&(t.destroy(),n===t&&v(this,tt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){de.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return v(this,tt).get(t)}getAll(){return[...v(this,tt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>hc(t,r)):n}notify(t){de.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){de.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){de.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tt=new WeakMap,Rc),re,Rt,Ft,Mn,_n,kt,Ln,Hn,Fc,V6=(Fc=class{constructor(e={}){q(this,re);q(this,Rt);q(this,Ft);q(this,Mn);q(this,_n);q(this,kt);q(this,Ln);q(this,Hn);L(this,re,e.queryCache||new o6),L(this,Rt,e.mutationCache||new i6),L(this,Ft,e.defaultOptions||{}),L(this,Mn,new Map),L(this,_n,new Map),L(this,kt,0)}mount(){is(this,kt)._++,v(this,kt)===1&&(L(this,Ln,ha.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,re).onFocus())})),L(this,Hn,Is.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,re).onOnline())})))}unmount(){var e,t;is(this,kt)._--,v(this,kt)===0&&((e=v(this,Ln))==null||e.call(this),L(this,Ln,void 0),(t=v(this,Hn))==null||t.call(this),L(this,Hn,void 0))}isFetching(e){return v(this,re).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return v(this,Rt).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,re).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=v(this,re).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_t(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return v(this,re).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=v(this,re).get(r.queryHash),i=s==null?void 0:s.state.data,o=Um(t,i);if(o!==void 0)return v(this,re).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return de.batch(()=>v(this,re).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,re).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=v(this,re);de.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=v(this,re);return de.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=de.batch(()=>v(this,re).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ve).catch(ve)}invalidateQueries(e,t={}){return de.batch(()=>(v(this,re).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=de.batch(()=>v(this,re).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ve)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ve)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=v(this,re).build(this,t);return n.isStaleByTime(_t(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ve).catch(ve)}fetchInfiniteQuery(e){return e.behavior=vc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ve).catch(ve)}ensureInfiniteQueryData(e){return e.behavior=vc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Is.isOnline()?v(this,Rt).resumePausedMutations():Promise.resolve()}getQueryCache(){return v(this,re)}getMutationCache(){return v(this,Rt)}getDefaultOptions(){return v(this,Ft)}setDefaultOptions(e){L(this,Ft,e)}setQueryDefaults(e,t){v(this,Mn).set(Nr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...v(this,Mn).values()],n={};return t.forEach(r=>{Mr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){v(this,_n).set(Nr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...v(this,_n).values()],n={};return t.forEach(r=>{Mr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...v(this,Ft).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=da(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===la&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...v(this,Ft).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){v(this,re).clear(),v(this,Rt).clear()}},re=new WeakMap,Rt=new WeakMap,Ft=new WeakMap,Mn=new WeakMap,_n=new WeakMap,kt=new WeakMap,Ln=new WeakMap,Hn=new WeakMap,Fc),ed=_e.createContext(void 0),a6=e=>{const t=_e.useContext(ed);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},W6=({client:e,children:t})=>(_e.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),od.jsx(ed.Provider,{value:e,children:t})),td=_e.createContext(!1),c6=()=>_e.useContext(td);td.Provider;function u6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var f6=_e.createContext(u6()),d6=()=>_e.useContext(f6),l6=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Qf(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},h6=e=>{_e.useEffect(()=>{e.clearReset()},[e])},p6=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Qf(n,[e.error,r])),b6=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},y6=(e,t)=>e.isLoading&&e.isFetching&&!t,m6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Pc=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function g6(e,t,n){var l,h,b,p;const r=c6(),s=d6(),i=a6(),o=i.defaultQueryOptions(e);(h=(l=i.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||h.call(l,o);const a=i.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",b6(o),l6(o,s,a),h6(s);const c=!i.getQueryCache().get(o.queryHash),[u]=_e.useState(()=>new t(i,o)),f=u.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(_e.useSyncExternalStore(_e.useCallback(m=>{const w=d?u.subscribe(de.batchCalls(m)):ve;return u.updateResult(),w},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),_e.useEffect(()=>{u.setOptions(o)},[o,u]),m6(o,f))throw Pc(o,u,s);if(p6({result:f,errorResetBoundary:s,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw f.error;if((p=(b=i.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||p.call(b,o,f),o.experimental_prefetchInRender&&!yn&&y6(f,r)){const m=c?Pc(o,u,s):a==null?void 0:a.promise;m==null||m.catch(ve).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?f:u.trackResult(f)}function Q6(e,t){return g6(e,Xm)}var nd={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,l){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,d||c,l),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],h]:c._events[b].push(h):(c._events[b]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,h=d.length,b=new Array(h);l<h;l++)b[l]=d[l].fn;return b},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,l,h,b){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],w=arguments.length,P,g;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),w){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,d),!0;case 4:return m.fn.call(m.context,f,d,l),!0;case 5:return m.fn.call(m.context,f,d,l,h),!0;case 6:return m.fn.call(m.context,f,d,l,h,b),!0}for(g=1,P=new Array(w-1);g<w;g++)P[g-1]=arguments[g];m.fn.apply(m.context,P)}else{var y=m.length,E;for(g=0;g<y;g++)switch(m[g].once&&this.removeListener(u,m[g].fn,void 0,!0),w){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,f);break;case 3:m[g].fn.call(m[g].context,f,d);break;case 4:m[g].fn.call(m[g].context,f,d,l);break;default:if(!P)for(E=1,P=new Array(w-1);E<w;E++)P[E-1]=arguments[E];m[g].fn.apply(m[g].context,P)}}return!0},a.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,l){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return o(this,h),this;var b=this._events[h];if(b.fn)b.fn===f&&(!l||b.once)&&(!d||b.context===d)&&o(this,h);else{for(var p=0,m=[],w=b.length;p<w;p++)(b[p].fn!==f||l&&!b[p].once||d&&b[p].context!==d)&&m.push(b[p]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(nd);var w6=nd.exports;const Z6=rd(w6);export{Z6 as E,W6 as Q,Mc as _,q6 as a,V6 as b,Q6 as c,L6 as d,j6 as e,Xu as f,Ao as g,G6 as h,D6 as i,od as j,mu as k,U6 as l,z6 as m,wu as n,qd as o,Jn as p,lt as s,yt as t,zn as u};
