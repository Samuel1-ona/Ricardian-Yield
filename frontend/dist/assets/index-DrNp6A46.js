const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/connect-modal.entry-bx0NUK08.js","assets/web3-vendor-Ds0lPK1P.js","assets/react-vendor-CIGKTyFs.js","assets/charts-vendor-D_nd7r1X.js","assets/ui-vendor-BDTlLGxs.js","assets/secp256k1-D_X4hvUI.js","assets/basic-C7vD_6cd.js","assets/index-BloCfOIB.js","assets/w3m-modal-vZEwDOmQ.js","assets/Home-C_C3enUu.js","assets/Card-DWvOJBa6.js","assets/Dashboard-BD25qsQk.js","assets/useMounted-Ci4OUALD.js","assets/useStacksRead-BF2QryqZ.js","assets/Property-Ba2794AQ.js","assets/useStacksWriteWallet-DpzWZPfV.js","assets/Rent-CS4bW0zX.js","assets/Expenses-Diq-O4qx.js","assets/Yield-O9-wI7hf.js","assets/Stacking-UmupdIop.js","assets/Analytics-q6bHYwkk.js","assets/CapEx-BT3mOJSk.js","assets/DAO-BAL8JIC8.js"])))=>i.map(i=>d[i]);
import{j as Y,_ as Hn,u as U0,s as hN,k as LU,f as kU,a as eS,h as Vh,t as tS,Q as PU,b as jU}from"./web3-vendor-Ds0lPK1P.js";import{r as Bt,a as zU,g as rh,c as vn,b as pN,d as yv,L as Vl,e as HU,f as Ms,B as FU}from"./react-vendor-CIGKTyFs.js";import{c as qU}from"./charts-vendor-D_nd7r1X.js";import{F as VU}from"./ui-vendor-BDTlLGxs.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var gN={exports:{}},$0={},mN={exports:{}},yN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,O){var T=E.length;E.push(O);e:for(;0<T;){var M=T-1>>>1,R=E[M];if(0<s(R,O))E[M]=O,E[T]=R,T=M;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var O=E[0],T=E.pop();if(T!==O){E[0]=T;e:for(var M=0,R=E.length,z=R>>>1;M<z;){var Z=2*(M+1)-1,W=E[Z],V=Z+1,te=E[V];if(0>s(W,T))V<R&&0>s(te,W)?(E[M]=te,E[V]=T,M=V):(E[M]=W,E[Z]=T,M=Z);else if(V<R&&0>s(te,T))E[M]=te,E[V]=T,M=V;else break e}}return O}function s(E,O){var T=E.sortIndex-O.sortIndex;return T!==0?T:E.id-O.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],l=[],u=1,f=null,d=3,h=!1,p=!1,g=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function v(E){for(var O=n(l);O!==null;){if(O.callback===null)r(l);else if(O.startTime<=E)r(l),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(l)}}function _(E){if(g=!1,v(E),!p)if(n(c)!==null)p=!0,B||(B=!0,$());else{var O=n(l);O!==null&&S(_,O.startTime-E)}}var B=!1,U=-1,D=5,x=-1;function A(){return b?!0:!(e.unstable_now()-x<D)}function I(){if(b=!1,B){var E=e.unstable_now();x=E;var O=!0;try{e:{p=!1,g&&(g=!1,m(U),U=-1),h=!0;var T=d;try{t:{for(v(E),f=n(c);f!==null&&!(f.expirationTime>E&&A());){var M=f.callback;if(typeof M=="function"){f.callback=null,d=f.priorityLevel;var R=M(f.expirationTime<=E);if(E=e.unstable_now(),typeof R=="function"){f.callback=R,v(E),O=!0;break t}f===n(c)&&r(c),v(E)}else r(c);f=n(c)}if(f!==null)O=!0;else{var z=n(l);z!==null&&S(_,z.startTime-E),O=!1}}break e}finally{f=null,d=T,h=!1}O=void 0}}finally{O?$():B=!1}}}var $;if(typeof w=="function")$=function(){w(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,P=L.port2;L.port1.onmessage=I,$=function(){P.postMessage(null)}}else $=function(){y(I,0)};function S(E,O){U=y(function(){E(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(E){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var T=d;d=O;try{return E()}finally{d=T}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var T=d;d=E;try{return O()}finally{d=T}},e.unstable_scheduleCallback=function(E,O,T){var M=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?M+T:M):T=M,E){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=T+R,E={id:u++,callback:O,priorityLevel:E,startTime:T,expirationTime:R,sortIndex:-1},T>M?(E.sortIndex=T,t(l,E),n(c)===null&&E===n(l)&&(g?(m(U),U=-1):g=!0,S(_,T-M))):(E.sortIndex=R,t(c,E),p||h||(p=!0,B||(B=!0,$()))),E},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(E){var O=d;return function(){var T=d;d=O;try{return E.apply(this,arguments)}finally{d=T}}}})(yN);mN.exports=yN;var KU=mN.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var en=KU,wN=Bt,WU=zU;function j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function EN(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nS(e){if(sh(e)!==e)throw Error(j(188))}function GU(e){var t=e.alternate;if(!t){if(t=sh(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nS(s),e;if(i===r)return nS(s),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function SN(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=SN(e),t!==null)return t;e=e.sibling}return null}var Ct=Object.assign,YU=Symbol.for("react.element"),Kh=Symbol.for("react.transitional.element"),Uf=Symbol.for("react.portal"),Nl=Symbol.for("react.fragment"),AN=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),CN=Symbol.for("react.consumer"),Ri=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),kw=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),Pw=Symbol.for("react.activity"),ZU=Symbol.for("react.memo_cache_sentinel"),rS=Symbol.iterator;function nf(e){return e===null||typeof e!="object"?null:(e=rS&&e[rS]||e["@@iterator"],typeof e=="function"?e:null)}var XU=Symbol.for("react.client.reference");function jw(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===XU?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nl:return"Fragment";case Bw:return"Profiler";case AN:return"StrictMode";case Lw:return"Suspense";case kw:return"SuspenseList";case Pw:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Uf:return"Portal";case Ri:return e.displayName||"Context";case CN:return(e._context.displayName||"Context")+".Consumer";case wv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bv:return t=e.displayName||null,t!==null?t:jw(e.type)||"Memo";case Aa:t=e._payload,e=e._init;try{return jw(e(t))}catch{}}return null}var $f=Array.isArray,we=wN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ze=WU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ec={pending:!1,data:null,method:null,action:null},zw=[],Il=-1;function ci(e){return{current:e}}function un(e){0>Il||(e.current=zw[Il],zw[Il]=null,Il--)}function yt(e,t){Il++,zw[Il]=e.current,e.current=t}var ei=ci(null),vd=ci(null),Ka=ci(null),Cg=ci(null);function xg(e,t){switch(yt(Ka,t),yt(vd,e),yt(ei,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lA(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lA(t),e=qT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}un(ei),yt(ei,e)}function iu(){un(ei),un(vd),un(Ka)}function Hw(e){e.memoizedState!==null&&yt(Cg,e);var t=ei.current,n=qT(t,e.type);t!==n&&(yt(vd,e),yt(ei,n))}function _g(e){vd.current===e&&(un(ei),un(vd)),Cg.current===e&&(un(Cg),Dd._currentValue=ec)}var jm,sS;function Mo(e){if(jm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jm=t&&t[1]||"",sS=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jm+e+sS}var zm=!1;function Hm(e,t){if(!e||zm)return"";zm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var d=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){d=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){d=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&d&&typeof h.stack=="string")return[h.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var c=a.split(`
`),l=o.split(`
`);for(s=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;if(r===c.length||s===l.length)for(r=c.length-1,s=l.length-1;1<=r&&0<=s&&c[r]!==l[s];)s--;for(;1<=r&&0<=s;r--,s--)if(c[r]!==l[s]){if(r!==1||s!==1)do if(r--,s--,0>s||c[r]!==l[s]){var u=`
`+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=r&&0<=s);break}}}finally{zm=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Mo(n):""}function QU(e,t){switch(e.tag){case 26:case 27:case 5:return Mo(e.type);case 16:return Mo("Lazy");case 13:return e.child!==t&&t!==null?Mo("Suspense Fallback"):Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 15:return Hm(e.type,!1);case 11:return Hm(e.type.render,!1);case 1:return Hm(e.type,!0);case 31:return Mo("Activity");default:return""}}function iS(e){try{var t="",n=null;do t+=QU(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Fw=Object.prototype.hasOwnProperty,vv=en.unstable_scheduleCallback,Fm=en.unstable_cancelCallback,JU=en.unstable_shouldYield,e$=en.unstable_requestPaint,Ur=en.unstable_now,t$=en.unstable_getCurrentPriorityLevel,xN=en.unstable_ImmediatePriority,_N=en.unstable_UserBlockingPriority,Ng=en.unstable_NormalPriority,n$=en.unstable_LowPriority,NN=en.unstable_IdlePriority,r$=en.log,s$=en.unstable_setDisableYieldValue,ih=null,$r=null;function Ba(e){if(typeof r$=="function"&&s$(e),$r&&typeof $r.setStrictMode=="function")try{$r.setStrictMode(ih,e)}catch{}}var Mr=Math.clz32?Math.clz32:o$,i$=Math.log,a$=Math.LN2;function o$(e){return e>>>=0,e===0?32:31-(i$(e)/a$|0)|0}var Wh=256,Gh=262144,Yh=4194304;function Ro(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function M0(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~i,r!==0?s=Ro(r):(a&=o,a!==0?s=Ro(a):n||(n=o&~e,n!==0&&(s=Ro(n))))):(o=r&~i,o!==0?s=Ro(o):a!==0?s=Ro(a):n||(n=r&~e,n!==0&&(s=Ro(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function ah(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function c$(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IN(){var e=Yh;return Yh<<=1,!(Yh&62914560)&&(Yh=4194304),e}function qm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oh(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function l$(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-Mr(n),f=1<<u;o[u]=0,c[u]=-1;var d=l[u];if(d!==null)for(l[u]=null,u=0;u<d.length;u++){var h=d[u];h!==null&&(h.lane&=-536870913)}n&=~f}r!==0&&TN(e,r,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(a&~t))}function TN(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Mr(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ON(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function DN(e,t){var n=t&-t;return n=n&42?1:Ev(n),n&(e.suspendedLanes|t)?0:n}function Ev(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function UN(){var e=Ze.p;return e!==0?e:(e=window.event,e===void 0?32:t4(e.type))}function aS(e,t){var n=Ze.p;try{return Ze.p=e,t()}finally{Ze.p=n}}var go=Math.random().toString(36).slice(2),Sn="__reactFiber$"+go,dr="__reactProps$"+go,Ou="__reactContainer$"+go,qw="__reactEvents$"+go,u$="__reactListeners$"+go,f$="__reactHandles$"+go,oS="__reactResources$"+go,ch="__reactMarker$"+go;function Av(e){delete e[Sn],delete e[dr],delete e[qw],delete e[u$],delete e[f$]}function Tl(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ou]||n[Sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pA(e);e!==null;){if(n=e[Sn])return n;e=pA(e)}return t}e=n,n=e.parentNode}return null}function Du(e){if(e=e[Sn]||e[Ou]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(j(33))}function Kl(e){var t=e[oS];return t||(t=e[oS]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function an(e){e[ch]=!0}var $N=new Set,MN={};function Nc(e,t){au(e,t),au(e+"Capture",t)}function au(e,t){for(MN[e]=t,e=0;e<t.length;e++)$N.add(t[e])}var d$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cS={},lS={};function h$(e){return Fw.call(lS,e)?!0:Fw.call(cS,e)?!1:d$.test(e)?lS[e]=!0:(cS[e]=!0,!1)}function Wp(e,t,n){if(h$(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Zh(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function gi(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Xr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p$(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vw(e){if(!e._valueTracker){var t=RN(e)?"checked":"value";e._valueTracker=p$(e,t,""+e[t])}}function BN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=RN(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ig(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var g$=/[\n"\\]/g;function ts(e){return e.replace(g$,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Kw(e,t,n,r,s,i,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xr(t)):e.value!==""+Xr(t)&&(e.value=""+Xr(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Ww(e,a,Xr(t)):n!=null?Ww(e,a,Xr(n)):r!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Xr(o):e.removeAttribute("name")}function LN(e,t,n,r,s,i,a,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Vw(e);return}n=n!=null?""+Xr(n):"",t=t!=null?""+Xr(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Vw(e)}function Ww(e,t,n){t==="number"&&Ig(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Wl(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kN(e,t,n){if(t!=null&&(t=""+Xr(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Xr(n):""}function PN(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(j(92));if($f(r)){if(1<r.length)throw Error(j(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Xr(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Vw(e)}function ou(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var m$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uS(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||m$.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jN(e,t,n){if(t!=null&&typeof t!="object")throw Error(j(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&uS(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&uS(e,i,t[i])}function Cv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gp(e){return w$.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bi(){}var Gw=null;function xv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ol=null,Gl=null;function fS(e){var t=Du(e);if(t&&(e=t.stateNode)){var n=e[dr]||null;e:switch(e=t.stateNode,t.type){case"input":if(Kw(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ts(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[dr]||null;if(!s)throw Error(j(90));Kw(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&BN(r)}break e;case"textarea":kN(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Wl(e,!!n.multiple,t,!1)}}}var Vm=!1;function zN(e,t,n){if(Vm)return e(t,n);Vm=!0;try{var r=e(t);return r}finally{if(Vm=!1,(Ol!==null||Gl!==null)&&(K0(),Ol&&(t=Ol,e=Gl,Gl=Ol=null,fS(t),e)))for(t=0;t<e.length;t++)fS(e[t])}}function Ed(e,t){var n=e.stateNode;if(n===null)return null;var r=n[dr]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yw=!1;if(Vi)try{var rf={};Object.defineProperty(rf,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{Yw=!1}var La=null,_v=null,Yp=null;function HN(){if(Yp)return Yp;var e,t=_v,n=t.length,r,s="value"in La?La.value:La.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Yp=s.slice(e,1<r?1-r:void 0)}function Zp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xh(){return!0}function dS(){return!1}function hr(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xh:dS,this.isPropagationStopped=dS,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xh)},persist:function(){},isPersistent:Xh}),t}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R0=hr(Ic),lh=Ct({},Ic,{view:0,detail:0}),b$=hr(lh),Km,Wm,sf,B0=Ct({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sf&&(sf&&e.type==="mousemove"?(Km=e.screenX-sf.screenX,Wm=e.screenY-sf.screenY):Wm=Km=0,sf=e),Km)},movementY:function(e){return"movementY"in e?e.movementY:Wm}}),hS=hr(B0),v$=Ct({},B0,{dataTransfer:0}),E$=hr(v$),S$=Ct({},lh,{relatedTarget:0}),Gm=hr(S$),A$=Ct({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),C$=hr(A$),x$=Ct({},Ic,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_$=hr(x$),N$=Ct({},Ic,{data:0}),pS=hr(N$),I$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=O$[e])?!!t[e]:!1}function Nv(){return D$}var U$=Ct({},lh,{key:function(e){if(e.key){var t=I$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(e){return e.type==="keypress"?Zp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$$=hr(U$),M$=Ct({},B0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gS=hr(M$),R$=Ct({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),B$=hr(R$),L$=Ct({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),k$=hr(L$),P$=Ct({},B0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j$=hr(P$),z$=Ct({},Ic,{newState:0,oldState:0}),H$=hr(z$),F$=[9,13,27,32],Iv=Vi&&"CompositionEvent"in window,qf=null;Vi&&"documentMode"in document&&(qf=document.documentMode);var q$=Vi&&"TextEvent"in window&&!qf,FN=Vi&&(!Iv||qf&&8<qf&&11>=qf),mS=" ",yS=!1;function qN(e,t){switch(e){case"keyup":return F$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dl=!1;function V$(e,t){switch(e){case"compositionend":return VN(t);case"keypress":return t.which!==32?null:(yS=!0,mS);case"textInput":return e=t.data,e===mS&&yS?null:e;default:return null}}function K$(e,t){if(Dl)return e==="compositionend"||!Iv&&qN(e,t)?(e=HN(),Yp=_v=La=null,Dl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FN&&t.locale!=="ko"?null:t.data;default:return null}}var W$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W$[e.type]:t==="textarea"}function KN(e,t,n,r){Ol?Gl?Gl.push(r):Gl=[r]:Ol=r,t=Kg(t,"onChange"),0<t.length&&(n=new R0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vf=null,Sd=null;function G$(e){zT(e,0)}function L0(e){var t=Mf(e);if(BN(t))return e}function bS(e,t){if(e==="change")return t}var WN=!1;if(Vi){var Ym;if(Vi){var Zm="oninput"in document;if(!Zm){var vS=document.createElement("div");vS.setAttribute("oninput","return;"),Zm=typeof vS.oninput=="function"}Ym=Zm}else Ym=!1;WN=Ym&&(!document.documentMode||9<document.documentMode)}function ES(){Vf&&(Vf.detachEvent("onpropertychange",GN),Sd=Vf=null)}function GN(e){if(e.propertyName==="value"&&L0(Sd)){var t=[];KN(t,Sd,e,xv(e)),zN(G$,t)}}function Y$(e,t,n){e==="focusin"?(ES(),Vf=t,Sd=n,Vf.attachEvent("onpropertychange",GN)):e==="focusout"&&ES()}function Z$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return L0(Sd)}function X$(e,t){if(e==="click")return L0(t)}function Q$(e,t){if(e==="input"||e==="change")return L0(t)}function J$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:J$;function Ad(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fw.call(t,s)||!Lr(e[s],t[s]))return!1}return!0}function SS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function AS(e,t){var n=SS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SS(n)}}function YN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?YN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZN(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ig(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ig(e.document)}return t}function Tv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var eM=Vi&&"documentMode"in document&&11>=document.documentMode,Ul=null,Zw=null,Kf=null,Xw=!1;function CS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xw||Ul==null||Ul!==Ig(r)||(r=Ul,"selectionStart"in r&&Tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kf&&Ad(Kf,r)||(Kf=r,r=Kg(Zw,"onSelect"),0<r.length&&(t=new R0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ul)))}function xo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $l={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},Xm={},XN={};Vi&&(XN=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function Tc(e){if(Xm[e])return Xm[e];if(!$l[e])return e;var t=$l[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in XN)return Xm[e]=t[n];return e}var QN=Tc("animationend"),JN=Tc("animationiteration"),eI=Tc("animationstart"),tM=Tc("transitionrun"),nM=Tc("transitionstart"),rM=Tc("transitioncancel"),tI=Tc("transitionend"),nI=new Map,Qw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qw.push("scrollEnd");function Us(e,t){nI.set(e,t),Nc(t,[e])}var Tg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gr=[],Ml=0,Ov=0;function k0(){for(var e=Ml,t=Ov=Ml=0;t<e;){var n=Gr[t];Gr[t++]=null;var r=Gr[t];Gr[t++]=null;var s=Gr[t];Gr[t++]=null;var i=Gr[t];if(Gr[t++]=null,r!==null&&s!==null){var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}i!==0&&rI(n,s,i)}}function P0(e,t,n,r){Gr[Ml++]=e,Gr[Ml++]=t,Gr[Ml++]=n,Gr[Ml++]=r,Ov|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Dv(e,t,n,r){return P0(e,t,n,r),Og(e)}function Oc(e,t){return P0(e,null,null,t),Og(e)}function rI(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-Mr(n),e=i.hiddenUpdates,r=e[s],r===null?e[s]=[t]:r.push(t),t.lane=n|536870912),i):null}function Og(e){if(50<td)throw td=0,bb=null,Error(j(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Rl={};function sM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(e,t,n,r){return new sM(e,t,n,r)}function Uv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,t){var n=e.alternate;return n===null?(n=Nr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function sI(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xp(e,t,n,r,s,i){var a=0;if(r=e,typeof e=="function")Uv(e)&&(a=1);else if(typeof e=="string")a=lR(e,n,ei.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Pw:return e=Nr(31,n,t,s),e.elementType=Pw,e.lanes=i,e;case Nl:return tc(n.children,s,i,t);case AN:a=8,s|=24;break;case Bw:return e=Nr(12,n,t,s|2),e.elementType=Bw,e.lanes=i,e;case Lw:return e=Nr(13,n,t,s),e.elementType=Lw,e.lanes=i,e;case kw:return e=Nr(19,n,t,s),e.elementType=kw,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ri:a=10;break e;case CN:a=9;break e;case wv:a=11;break e;case bv:a=14;break e;case Aa:a=16,r=null;break e}a=29,n=Error(j(130,e===null?"null":typeof e,"")),r=null}return t=Nr(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function tc(e,t,n,r){return e=Nr(7,e,r,t),e.lanes=n,e}function Qm(e,t,n){return e=Nr(6,e,null,t),e.lanes=n,e}function iI(e){var t=Nr(18,null,null,0);return t.stateNode=e,t}function Jm(e,t,n){return t=Nr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xS=new WeakMap;function ns(e,t){if(typeof e=="object"&&e!==null){var n=xS.get(e);return n!==void 0?n:(t={value:e,source:t,stack:iS(t)},xS.set(e,t),t)}return{value:e,source:t,stack:iS(t)}}var Bl=[],Ll=0,Dg=null,Cd=0,Qr=[],Jr=0,oo=null,Gs=1,Ys="";function Ui(e,t){Bl[Ll++]=Cd,Bl[Ll++]=Dg,Dg=e,Cd=t}function aI(e,t,n){Qr[Jr++]=Gs,Qr[Jr++]=Ys,Qr[Jr++]=oo,oo=e;var r=Gs;e=Ys;var s=32-Mr(r)-1;r&=~(1<<s),n+=1;var i=32-Mr(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Gs=1<<32-Mr(t)+s|n<<s|r,Ys=i+e}else Gs=1<<i|n<<s|r,Ys=e}function $v(e){e.return!==null&&(Ui(e,1),aI(e,1,0))}function Mv(e){for(;e===Dg;)Dg=Bl[--Ll],Bl[Ll]=null,Cd=Bl[--Ll],Bl[Ll]=null;for(;e===oo;)oo=Qr[--Jr],Qr[Jr]=null,Ys=Qr[--Jr],Qr[Jr]=null,Gs=Qr[--Jr],Qr[Jr]=null}function oI(e,t){Qr[Jr++]=Gs,Qr[Jr++]=Ys,Qr[Jr++]=oo,Gs=t.id,Ys=t.overflow,oo=e}var An=null,At=null,Be=!1,Wa=null,rs=!1,Jw=Error(j(519));function co(e){var t=Error(j(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xd(ns(t,e)),Jw}function _S(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Sn]=e,t[dr]=r,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<Td.length;n++)Te(Td[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),LN(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),PN(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||FT(t.textContent,n)?(r.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),r.onScroll!=null&&Te("scroll",t),r.onScrollEnd!=null&&Te("scrollend",t),r.onClick!=null&&(t.onclick=Bi),t=!0):t=!1,t||co(e,!0)}function NS(e){for(An=e.return;An;)switch(An.tag){case 5:case 31:case 13:rs=!1;return;case 27:case 3:rs=!0;return;default:An=An.return}}function Yc(e){if(e!==An)return!1;if(!Be)return NS(e),Be=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Cb(e.type,e.memoizedProps)),n=!n),n&&At&&co(e),NS(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));At=hA(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));At=hA(e)}else t===27?(t=At,mo(e.type)?(e=Ib,Ib=null,At=e):At=t):At=An?os(e.stateNode.nextSibling):null;return!0}function lc(){At=An=null,Be=!1}function ey(){var e=Wa;return e!==null&&(ar===null?ar=e:ar.push.apply(ar,e),Wa=null),e}function xd(e){Wa===null?Wa=[e]:Wa.push(e)}var eb=ci(null),Dc=null,Li=null;function Ta(e,t,n){yt(eb,t._currentValue),t._currentValue=n}function ji(e){e._currentValue=eb.current,un(eb)}function tb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nb(e,t,n,r){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var a=s.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=s;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),tb(i.return,n,e),r||(a=null);break e}i=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(j(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),tb(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Uu(e,t,n,r){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(j(387));if(a=a.memoizedProps,a!==null){var o=s.type;Lr(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===Cg.current){if(a=s.alternate,a===null)throw Error(j(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Dd):e=[Dd])}s=s.return}e!==null&&nb(t,e,n,r),t.flags|=262144}function Ug(e){for(e=e.firstContext;e!==null;){if(!Lr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function uc(e){Dc=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xn(e){return cI(Dc,e)}function Qh(e,t){return Dc===null&&uc(e),cI(e,t)}function cI(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Li===null){if(e===null)throw Error(j(308));Li=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Li=Li.next=t;return n}var iM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},aM=en.unstable_scheduleCallback,oM=en.unstable_NormalPriority,qt={$$typeof:Ri,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rv(){return{controller:new iM,data:new Map,refCount:0}}function uh(e){e.refCount--,e.refCount===0&&aM(oM,function(){e.controller.abort()})}var Wf=null,rb=0,cu=0,Yl=null;function cM(e,t){if(Wf===null){var n=Wf=[];rb=0,cu=aE(),Yl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return rb++,t.then(IS,IS),t}function IS(){if(--rb===0&&Wf!==null){Yl!==null&&(Yl.status="fulfilled");var e=Wf;Wf=null,cu=0,Yl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lM(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var TS=we.S;we.S=function(e,t){ST=Ur(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cM(e,t),TS!==null&&TS(e,t)};var nc=ci(null);function Bv(){var e=nc.current;return e!==null?e:ht.pooledCache}function Qp(e,t){t===null?yt(nc,nc.current):yt(nc,t.pool)}function lI(){var e=Bv();return e===null?null:{parent:qt._currentValue,pool:e}}var $u=Error(j(460)),Lv=Error(j(474)),j0=Error(j(542)),$g={then:function(){}};function OS(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uI(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Bi,Bi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,US(e),e;default:if(typeof t.status=="string")t.then(Bi,Bi);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(j(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=r}},function(r){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,US(e),e}throw rc=t,$u}}function Bo(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(rc=n,$u):n}}var rc=null;function DS(){if(rc===null)throw Error(j(459));var e=rc;return rc=null,e}function US(e){if(e===$u||e===j0)throw Error(j(483))}var Zl=null,_d=0;function Jh(e){var t=_d;return _d+=1,Zl===null&&(Zl=[]),uI(Zl,e,t)}function af(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ep(e,t){throw t.$$typeof===YU?Error(j(525)):(e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fI(e){function t(y,m){if(e){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y){for(var m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(y,m){return y=Pi(y,m),y.index=0,y.sibling=null,y}function i(y,m,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=67108866,m):w):(y.flags|=67108866,m)):(y.flags|=1048576,m)}function a(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function o(y,m,w,v){return m===null||m.tag!==6?(m=Qm(w,y.mode,v),m.return=y,m):(m=s(m,w),m.return=y,m)}function c(y,m,w,v){var _=w.type;return _===Nl?u(y,m,w.props.children,v,w.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Aa&&Bo(_)===m.type)?(m=s(m,w.props),af(m,w),m.return=y,m):(m=Xp(w.type,w.key,w.props,null,y.mode,v),af(m,w),m.return=y,m)}function l(y,m,w,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Jm(w,y.mode,v),m.return=y,m):(m=s(m,w.children||[]),m.return=y,m)}function u(y,m,w,v,_){return m===null||m.tag!==7?(m=tc(w,y.mode,v,_),m.return=y,m):(m=s(m,w),m.return=y,m)}function f(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Qm(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Kh:return w=Xp(m.type,m.key,m.props,null,y.mode,w),af(w,m),w.return=y,w;case Uf:return m=Jm(m,y.mode,w),m.return=y,m;case Aa:return m=Bo(m),f(y,m,w)}if($f(m)||nf(m))return m=tc(m,y.mode,w,null),m.return=y,m;if(typeof m.then=="function")return f(y,Jh(m),w);if(m.$$typeof===Ri)return f(y,Qh(y,m),w);ep(y,m)}return null}function d(y,m,w,v){var _=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return _!==null?null:o(y,m,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kh:return w.key===_?c(y,m,w,v):null;case Uf:return w.key===_?l(y,m,w,v):null;case Aa:return w=Bo(w),d(y,m,w,v)}if($f(w)||nf(w))return _!==null?null:u(y,m,w,v,null);if(typeof w.then=="function")return d(y,m,Jh(w),v);if(w.$$typeof===Ri)return d(y,m,Qh(y,w),v);ep(y,w)}return null}function h(y,m,w,v,_){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return y=y.get(w)||null,o(m,y,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kh:return y=y.get(v.key===null?w:v.key)||null,c(m,y,v,_);case Uf:return y=y.get(v.key===null?w:v.key)||null,l(m,y,v,_);case Aa:return v=Bo(v),h(y,m,w,v,_)}if($f(v)||nf(v))return y=y.get(w)||null,u(m,y,v,_,null);if(typeof v.then=="function")return h(y,m,w,Jh(v),_);if(v.$$typeof===Ri)return h(y,m,w,Qh(m,v),_);ep(m,v)}return null}function p(y,m,w,v){for(var _=null,B=null,U=m,D=m=0,x=null;U!==null&&D<w.length;D++){U.index>D?(x=U,U=null):x=U.sibling;var A=d(y,U,w[D],v);if(A===null){U===null&&(U=x);break}e&&U&&A.alternate===null&&t(y,U),m=i(A,m,D),B===null?_=A:B.sibling=A,B=A,U=x}if(D===w.length)return n(y,U),Be&&Ui(y,D),_;if(U===null){for(;D<w.length;D++)U=f(y,w[D],v),U!==null&&(m=i(U,m,D),B===null?_=U:B.sibling=U,B=U);return Be&&Ui(y,D),_}for(U=r(U);D<w.length;D++)x=h(U,y,D,w[D],v),x!==null&&(e&&x.alternate!==null&&U.delete(x.key===null?D:x.key),m=i(x,m,D),B===null?_=x:B.sibling=x,B=x);return e&&U.forEach(function(I){return t(y,I)}),Be&&Ui(y,D),_}function g(y,m,w,v){if(w==null)throw Error(j(151));for(var _=null,B=null,U=m,D=m=0,x=null,A=w.next();U!==null&&!A.done;D++,A=w.next()){U.index>D?(x=U,U=null):x=U.sibling;var I=d(y,U,A.value,v);if(I===null){U===null&&(U=x);break}e&&U&&I.alternate===null&&t(y,U),m=i(I,m,D),B===null?_=I:B.sibling=I,B=I,U=x}if(A.done)return n(y,U),Be&&Ui(y,D),_;if(U===null){for(;!A.done;D++,A=w.next())A=f(y,A.value,v),A!==null&&(m=i(A,m,D),B===null?_=A:B.sibling=A,B=A);return Be&&Ui(y,D),_}for(U=r(U);!A.done;D++,A=w.next())A=h(U,y,D,A.value,v),A!==null&&(e&&A.alternate!==null&&U.delete(A.key===null?D:A.key),m=i(A,m,D),B===null?_=A:B.sibling=A,B=A);return e&&U.forEach(function($){return t(y,$)}),Be&&Ui(y,D),_}function b(y,m,w,v){if(typeof w=="object"&&w!==null&&w.type===Nl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kh:e:{for(var _=w.key;m!==null;){if(m.key===_){if(_=w.type,_===Nl){if(m.tag===7){n(y,m.sibling),v=s(m,w.props.children),v.return=y,y=v;break e}}else if(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Aa&&Bo(_)===m.type){n(y,m.sibling),v=s(m,w.props),af(v,w),v.return=y,y=v;break e}n(y,m);break}else t(y,m);m=m.sibling}w.type===Nl?(v=tc(w.props.children,y.mode,v,w.key),v.return=y,y=v):(v=Xp(w.type,w.key,w.props,null,y.mode,v),af(v,w),v.return=y,y=v)}return a(y);case Uf:e:{for(_=w.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),v=s(m,w.children||[]),v.return=y,y=v;break e}else{n(y,m);break}else t(y,m);m=m.sibling}v=Jm(w,y.mode,v),v.return=y,y=v}return a(y);case Aa:return w=Bo(w),b(y,m,w,v)}if($f(w))return p(y,m,w,v);if(nf(w)){if(_=nf(w),typeof _!="function")throw Error(j(150));return w=_.call(w),g(y,m,w,v)}if(typeof w.then=="function")return b(y,m,Jh(w),v);if(w.$$typeof===Ri)return b(y,m,Qh(y,w),v);ep(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),v=s(m,w),v.return=y,y=v):(n(y,m),v=Qm(w,y.mode,v),v.return=y,y=v),a(y)):n(y,m)}return function(y,m,w,v){try{_d=0;var _=b(y,m,w,v);return Zl=null,_}catch(U){if(U===$u||U===j0)throw U;var B=Nr(29,U,null,y.mode);return B.lanes=v,B.return=y,B}finally{}}}var fc=fI(!0),dI=fI(!1),Ca=!1;function kv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Og(e),rI(e,null,n),t}return P0(e,r,t,n),Og(e)}function Gf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ON(e,n)}}function ty(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ib=!1;function Yf(){if(ib){var e=Yl;if(e!==null)throw e}}function Zf(e,t,n,r){ib=!1;var s=e.updateQueue;Ca=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,l=c.next;c.next=null,a===null?i=l:a.next=l,a=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,u=l=c=null,o=i;do{var d=o.lane&-536870913,h=d!==o.lane;if(h?(Ue&d)===d:(r&d)===d){d!==0&&d===cu&&(ib=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;d=t;var b=n;switch(g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(b,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(b,f,d):p,d==null)break e;f=Ct({},f,d);break e;case 2:Ca=!0}}d=o.callback,d!==null&&(e.flags|=64,h&&(e.flags|=8192),h=s.callbacks,h===null?s.callbacks=[d]:h.push(d))}else h={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,i===null&&(s.shared.lanes=0),uo|=a,e.lanes=a,e.memoizedState=f}}function hI(e,t){if(typeof e!="function")throw Error(j(191,e));e.call(t)}function pI(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)hI(n[e],t)}var lu=ci(null),Mg=ci(0);function $S(e,t){e=Yi,yt(Mg,e),yt(lu,t),Yi=e|t.baseLanes}function ab(){yt(Mg,Yi),yt(lu,lu.current)}function Pv(){Yi=Mg.current,un(lu),un(Mg)}var kr=ci(null),as=null;function Oa(e){var t=e.alternate;yt(Lt,Lt.current&1),yt(kr,e),as===null&&(t===null||lu.current!==null||t.memoizedState!==null)&&(as=e)}function ob(e){yt(Lt,Lt.current),yt(kr,e),as===null&&(as=e)}function gI(e){e.tag===22?(yt(Lt,Lt.current),yt(kr,e),as===null&&(as=e)):Da()}function Da(){yt(Lt,Lt.current),yt(kr,kr.current)}function xr(e){un(kr),as===e&&(as=null),un(Lt)}var Lt=ci(0);function Rg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||_b(n)||Nb(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ki=0,Ae=null,ot=null,Ht=null,Bg=!1,Xl=!1,dc=!1,Lg=0,Nd=0,Ql=null,uM=0;function Dt(){throw Error(j(321))}function jv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function zv(e,t,n,r,s,i){return Ki=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,we.H=e===null||e.memoizedState===null?KI:Qv,dc=!1,i=n(r,s),dc=!1,Xl&&(i=yI(t,n,r,s)),mI(e),i}function mI(e){we.H=Id;var t=ot!==null&&ot.next!==null;if(Ki=0,Ht=ot=Ae=null,Bg=!1,Nd=0,Ql=null,t)throw Error(j(300));e===null||Kt||(e=e.dependencies,e!==null&&Ug(e)&&(Kt=!0))}function yI(e,t,n,r){Ae=e;var s=0;do{if(Xl&&(Ql=null),Nd=0,Xl=!1,25<=s)throw Error(j(301));if(s+=1,Ht=ot=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}we.H=WI,i=t(n,r)}while(Xl);return i}function fM(){var e=we.H,t=e.useState()[0];return t=typeof t.then=="function"?fh(t):t,e=e.useState()[0],(ot!==null?ot.memoizedState:null)!==e&&(Ae.flags|=1024),t}function Hv(){var e=Lg!==0;return Lg=0,e}function Fv(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function qv(e){if(Bg){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bg=!1}Ki=0,Ht=ot=Ae=null,Xl=!1,Nd=Lg=0,Ql=null}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ae.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function kt(){if(ot===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=Ht===null?Ae.memoizedState:Ht.next;if(t!==null)Ht=t,ot=e;else{if(e===null)throw Ae.alternate===null?Error(j(467)):Error(j(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ht===null?Ae.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function z0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fh(e){var t=Nd;return Nd+=1,Ql===null&&(Ql=[]),e=uI(Ql,e,t),t=Ae,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,we.H=t===null||t.memoizedState===null?KI:Qv),e}function H0(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fh(e);if(e.$$typeof===Ri)return xn(e)}throw Error(j(438,String(e)))}function Vv(e){var t=null,n=Ae.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Ae.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=z0(),Ae.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ZU;return t.index++,n}function Wi(e,t){return typeof t=="function"?t(e):t}function Jp(e){var t=kt();return Kv(t,ot,e)}function Kv(e,t,n){var r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var o=a=null,c=null,l=t,u=!1;do{var f=l.lane&-536870913;if(f!==l.lane?(Ue&f)===f:(Ki&f)===f){var d=l.revertLane;if(d===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),f===cu&&(u=!0);else if((Ki&d)===d){l=l.next,d===cu&&(u=!0);continue}else f={lane:0,revertLane:l.revertLane,gesture:null,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null},c===null?(o=c=f,a=i):c=c.next=f,Ae.lanes|=d,uo|=d;f=l.action,dc&&n(i,f),i=l.hasEagerState?l.eagerState:n(i,f)}else d={lane:f,revertLane:l.revertLane,gesture:l.gesture,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null},c===null?(o=c=d,a=i):c=c.next=d,Ae.lanes|=f,uo|=f;l=l.next}while(l!==null&&l!==t);if(c===null?a=i:c.next=o,!Lr(i,e.memoizedState)&&(Kt=!0,u&&(n=Yl,n!==null)))throw n;e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}return s===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ny(e){var t=kt(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Lr(i,t.memoizedState)||(Kt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wI(e,t,n){var r=Ae,s=kt(),i=Be;if(i){if(n===void 0)throw Error(j(407));n=n()}else n=t();var a=!Lr((ot||s).memoizedState,n);if(a&&(s.memoizedState=n,Kt=!0),s=s.queue,Wv(EI.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,uu(9,{destroy:void 0},vI.bind(null,r,s,n,t),null),ht===null)throw Error(j(349));i||Ki&127||bI(r,t,n)}return n}function bI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t=z0(),Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vI(e,t,n,r){t.value=n,t.getSnapshot=r,SI(t)&&AI(e)}function EI(e,t,n){return n(function(){SI(t)&&AI(e)})}function SI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lr(e,n)}catch{return!0}}function AI(e){var t=Oc(e,2);t!==null&&ur(t,e,2)}function cb(e){var t=Pn();if(typeof e=="function"){var n=e;if(e=n(),dc){Ba(!0);try{n()}finally{Ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t}function CI(e,t,n,r){return e.baseState=n,Kv(e,ot,typeof r=="function"?r:Wi)}function dM(e,t,n,r,s){if(q0(e))throw Error(j(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};we.T!==null?n(!0):i.isTransition=!1,r(i),n=t.pending,n===null?(i.next=t.pending=i,xI(t,i)):(i.next=n.next,t.pending=n.next=i)}}function xI(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=we.T,a={};we.T=a;try{var o=n(s,r),c=we.S;c!==null&&c(a,o),MS(e,t,o)}catch(l){lb(e,t,l)}finally{i!==null&&a.types!==null&&(i.types=a.types),we.T=i}}else try{i=n(s,r),MS(e,t,i)}catch(l){lb(e,t,l)}}function MS(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){RS(e,t,r)},function(r){return lb(e,t,r)}):RS(e,t,n)}function RS(e,t,n){t.status="fulfilled",t.value=n,_I(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,xI(e,n)))}function lb(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,_I(t),t=t.next;while(t!==r)}e.action=null}function _I(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function NI(e,t){return t}function BS(e,t){if(Be){var n=ht.formState;if(n!==null){e:{var r=Ae;if(Be){if(At){t:{for(var s=At,i=rs;s.nodeType!==8;){if(!i){s=null;break t}if(s=os(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){At=os(s.nextSibling),r=s.data==="F!";break e}}co(r)}r=!1}r&&(t=n[0])}}return n=Pn(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NI,lastRenderedState:t},n.queue=r,n=FI.bind(null,Ae,r),r.dispatch=n,r=cb(!1),i=Xv.bind(null,Ae,!1,r.queue),r=Pn(),s={state:t,dispatch:null,action:e,pending:null},r.queue=s,n=dM.bind(null,Ae,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function LS(e){var t=kt();return II(t,ot,e)}function II(e,t,n){if(t=Kv(e,t,NI)[0],e=Jp(Wi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=fh(t)}catch(a){throw a===$u?j0:a}else r=t;t=kt();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(Ae.flags|=2048,uu(9,{destroy:void 0},hM.bind(null,s,n),null)),[r,i,e]}function hM(e,t){e.action=t}function kS(e){var t=kt(),n=ot;if(n!==null)return II(t,n,e);kt(),t=t.memoizedState,n=kt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function uu(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=z0(),Ae.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function TI(){return kt().memoizedState}function eg(e,t,n,r){var s=Pn();Ae.flags|=e,s.memoizedState=uu(1|t,{destroy:void 0},n,r===void 0?null:r)}function F0(e,t,n,r){var s=kt();r=r===void 0?null:r;var i=s.memoizedState.inst;ot!==null&&r!==null&&jv(r,ot.memoizedState.deps)?s.memoizedState=uu(t,i,n,r):(Ae.flags|=e,s.memoizedState=uu(1|t,i,n,r))}function PS(e,t){eg(8390656,8,e,t)}function Wv(e,t){F0(2048,8,e,t)}function pM(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=z0(),Ae.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function OI(e){var t=kt().memoizedState;return pM({ref:t,nextImpl:e}),function(){if(Ye&2)throw Error(j(440));return t.impl.apply(void 0,arguments)}}function DI(e,t){return F0(4,2,e,t)}function UI(e,t){return F0(4,4,e,t)}function $I(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MI(e,t,n){n=n!=null?n.concat([e]):null,F0(4,4,$I.bind(null,t,e),n)}function Gv(){}function RI(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&jv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function BI(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&jv(t,r[1]))return r[0];if(r=e(),dc){Ba(!0);try{e()}finally{Ba(!1)}}return n.memoizedState=[r,t],r}function Yv(e,t,n){return n===void 0||Ki&1073741824&&!(Ue&261930)?e.memoizedState=t:(e.memoizedState=n,e=CT(),Ae.lanes|=e,uo|=e,n)}function LI(e,t,n,r){return Lr(n,t)?n:lu.current!==null?(e=Yv(e,n,r),Lr(e,t)||(Kt=!0),e):!(Ki&42)||Ki&1073741824&&!(Ue&261930)?(Kt=!0,e.memoizedState=n):(e=CT(),Ae.lanes|=e,uo|=e,t)}function kI(e,t,n,r,s){var i=Ze.p;Ze.p=i!==0&&8>i?i:8;var a=we.T,o={};we.T=o,Xv(e,!1,t,n);try{var c=s(),l=we.S;if(l!==null&&l(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=lM(c,r);Xf(e,t,u,Rr(e))}else Xf(e,t,r,Rr(e))}catch(f){Xf(e,t,{then:function(){},status:"rejected",reason:f},Rr())}finally{Ze.p=i,a!==null&&o.types!==null&&(a.types=o.types),we.T=a}}function gM(){}function ub(e,t,n,r){if(e.tag!==5)throw Error(j(476));var s=PI(e).queue;kI(e,s,t,ec,n===null?gM:function(){return jI(e),n(r)})}function PI(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ec,baseState:ec,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ec},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jI(e){var t=PI(e);t.next===null&&(t=e.alternate.memoizedState),Xf(e,t.next.queue,{},Rr())}function Zv(){return xn(Dd)}function zI(){return kt().memoizedState}function HI(){return kt().memoizedState}function mM(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rr();e=Ga(n);var r=Ya(t,e,n);r!==null&&(ur(r,t,n),Gf(r,t,n)),t={cache:Rv()},e.payload=t;return}t=t.return}}function yM(e,t,n){var r=Rr();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},q0(e)?qI(t,n):(n=Dv(e,t,n,r),n!==null&&(ur(n,e,r),VI(n,t,r)))}function FI(e,t,n){var r=Rr();Xf(e,t,n,r)}function Xf(e,t,n,r){var s={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(q0(e))qI(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Lr(o,a))return P0(e,t,s,0),ht===null&&k0(),!1}catch{}finally{}if(n=Dv(e,t,s,r),n!==null)return ur(n,e,r),VI(n,t,r),!0}return!1}function Xv(e,t,n,r){if(r={lane:2,revertLane:aE(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},q0(e)){if(t)throw Error(j(479))}else t=Dv(e,n,r,2),t!==null&&ur(t,e,2)}function q0(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function qI(e,t){Xl=Bg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VI(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ON(e,n)}}var Id={readContext:xn,use:H0,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Id.useEffectEvent=Dt;var KI={readContext:xn,use:H0,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:PS,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,eg(4194308,4,$I.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eg(4194308,4,e,t)},useInsertionEffect:function(e,t){eg(4,2,e,t)},useMemo:function(e,t){var n=Pn();t=t===void 0?null:t;var r=e();if(dc){Ba(!0);try{e()}finally{Ba(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Pn();if(n!==void 0){var s=n(t);if(dc){Ba(!0);try{n(t)}finally{Ba(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=yM.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:function(e){e=cb(e);var t=e.queue,n=FI.bind(null,Ae,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Gv,useDeferredValue:function(e,t){var n=Pn();return Yv(n,e,t)},useTransition:function(){var e=cb(!1);return e=kI.bind(null,Ae,e.queue,!0,!1),Pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ae,s=Pn();if(Be){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),ht===null)throw Error(j(349));Ue&127||bI(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,PS(EI.bind(null,r,i,e),[e]),r.flags|=2048,uu(9,{destroy:void 0},vI.bind(null,r,i,n,t),null),n},useId:function(){var e=Pn(),t=ht.identifierPrefix;if(Be){var n=Ys,r=Gs;n=(r&~(1<<32-Mr(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Lg++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=uM++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Zv,useFormState:BS,useActionState:BS,useOptimistic:function(e){var t=Pn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Xv.bind(null,Ae,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vv,useCacheRefresh:function(){return Pn().memoizedState=mM.bind(null,Ae)},useEffectEvent:function(e){var t=Pn(),n={impl:e};return t.memoizedState=n,function(){if(Ye&2)throw Error(j(440));return n.impl.apply(void 0,arguments)}}},Qv={readContext:xn,use:H0,useCallback:RI,useContext:xn,useEffect:Wv,useImperativeHandle:MI,useInsertionEffect:DI,useLayoutEffect:UI,useMemo:BI,useReducer:Jp,useRef:TI,useState:function(){return Jp(Wi)},useDebugValue:Gv,useDeferredValue:function(e,t){var n=kt();return LI(n,ot.memoizedState,e,t)},useTransition:function(){var e=Jp(Wi)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:fh(e),t]},useSyncExternalStore:wI,useId:zI,useHostTransitionStatus:Zv,useFormState:LS,useActionState:LS,useOptimistic:function(e,t){var n=kt();return CI(n,ot,e,t)},useMemoCache:Vv,useCacheRefresh:HI};Qv.useEffectEvent=OI;var WI={readContext:xn,use:H0,useCallback:RI,useContext:xn,useEffect:Wv,useImperativeHandle:MI,useInsertionEffect:DI,useLayoutEffect:UI,useMemo:BI,useReducer:ny,useRef:TI,useState:function(){return ny(Wi)},useDebugValue:Gv,useDeferredValue:function(e,t){var n=kt();return ot===null?Yv(n,e,t):LI(n,ot.memoizedState,e,t)},useTransition:function(){var e=ny(Wi)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:fh(e),t]},useSyncExternalStore:wI,useId:zI,useHostTransitionStatus:Zv,useFormState:kS,useActionState:kS,useOptimistic:function(e,t){var n=kt();return ot!==null?CI(n,ot,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vv,useCacheRefresh:HI};WI.useEffectEvent=OI;function ry(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fb={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rr(),s=Ga(r);s.payload=t,n!=null&&(s.callback=n),t=Ya(e,s,r),t!==null&&(ur(t,e,r),Gf(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rr(),s=Ga(r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ya(e,s,r),t!==null&&(ur(t,e,r),Gf(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rr(),r=Ga(n);r.tag=2,t!=null&&(r.callback=t),t=Ya(e,r,n),t!==null&&(ur(t,e,n),Gf(t,e,n))}};function jS(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ad(n,r)||!Ad(s,i):!0}function zS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fb.enqueueReplaceState(t,t.state,null)}function hc(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ct({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function GI(e){Tg(e)}function YI(e){console.error(e)}function ZI(e){Tg(e)}function kg(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function HS(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function db(e,t,n){return n=Ga(n),n.tag=3,n.payload={element:null},n.callback=function(){kg(e,t)},n}function XI(e){return e=Ga(e),e.tag=3,e}function QI(e,t,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){HS(t,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){HS(t,n,r),typeof s!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function wM(e,t,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Uu(t,n,s,!0),n=kr.current,n!==null){switch(n.tag){case 31:case 13:return as===null?Fg():n.alternate===null&&Ut===0&&(Ut=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===$g?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),py(e,r,s)),!1;case 22:return n.flags|=65536,r===$g?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),py(e,r,s)),!1}throw Error(j(435,n.tag))}return py(e,r,s),Fg(),!1}if(Be)return t=kr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==Jw&&(e=Error(j(422),{cause:r}),xd(ns(e,n)))):(r!==Jw&&(t=Error(j(423),{cause:r}),xd(ns(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,r=ns(r,n),s=db(e.stateNode,r,s),ty(e,s),Ut!==4&&(Ut=2)),!1;var i=Error(j(520),{cause:r});if(i=ns(i,n),ed===null?ed=[i]:ed.push(i),Ut!==4&&(Ut=2),t===null)return!0;r=ns(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=db(n.stateNode,r,e),ty(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Za===null||!Za.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=XI(s),QI(s,e,n,r),ty(n,s),!1}n=n.return}while(n!==null);return!1}var Jv=Error(j(461)),Kt=!1;function mn(e,t,n,r){t.child=e===null?dI(t,null,n,r):fc(t,e.child,n,r)}function FS(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return uc(t),r=zv(e,t,n,a,i,s),o=Hv(),e!==null&&!Kt?(Fv(e,t,s),Gi(e,t,s)):(Be&&o&&$v(t),t.flags|=1,mn(e,t,r,s),t.child)}function qS(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Uv(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,JI(e,t,i,r,s)):(e=Xp(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!eE(e,s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ad,n(a,r)&&e.ref===t.ref)return Gi(e,t,s)}return t.flags|=1,e=Pi(i,r),e.ref=t.ref,e.return=t,t.child=e}function JI(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ad(i,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=i,eE(e,s))e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,Gi(e,t,s)}return hb(e,t,n,r,s)}function eT(e,t,n,r){var s=r.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;r=s&~i}else r=0,t.child=null;return VS(e,t,i,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qp(t,i!==null?i.cachePool:null),i!==null?$S(t,i):ab(),gI(t);else return r=t.lanes=536870912,VS(e,t,i!==null?i.baseLanes|n:n,n,r)}else i!==null?(Qp(t,i.cachePool),$S(t,i),Da(),t.memoizedState=null):(e!==null&&Qp(t,null),ab(),Da());return mn(e,t,s,n),t.child}function Rf(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function VS(e,t,n,r,s){var i=Bv();return i=i===null?null:{parent:qt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Qp(t,null),ab(),gI(t),e!==null&&Uu(e,t,r,!0),t.childLanes=s,null}function tg(e,t){return t=Pg({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function KS(e,t,n){return fc(t,e.child,null,n),e=tg(t,t.pendingProps),e.flags|=2,xr(t),t.memoizedState=null,e}function bM(e,t,n){var r=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Be){if(r.mode==="hidden")return e=tg(t,r),t.lanes=536870912,Rf(null,e);if(ob(t),(e=At)?(e=KT(e,rs),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:oo!==null?{id:Gs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},n=iI(e),n.return=t,t.child=n,An=t,At=null)):e=null,e===null)throw co(t);return t.lanes=536870912,null}return tg(t,r)}var i=e.memoizedState;if(i!==null){var a=i.dehydrated;if(ob(t),s)if(t.flags&256)t.flags&=-257,t=KS(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(j(558));else if(Kt||Uu(e,t,n,!1),s=(n&e.childLanes)!==0,Kt||s){if(r=ht,r!==null&&(a=DN(r,n),a!==0&&a!==i.retryLane))throw i.retryLane=a,Oc(e,a),ur(r,e,a),Jv;Fg(),t=KS(e,t,n)}else e=i.treeContext,At=os(a.nextSibling),An=t,Be=!0,Wa=null,rs=!1,e!==null&&oI(t,e),t=tg(t,r),t.flags|=4096;return t}return e=Pi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ng(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hb(e,t,n,r,s){return uc(t),n=zv(e,t,n,r,void 0,s),r=Hv(),e!==null&&!Kt?(Fv(e,t,s),Gi(e,t,s)):(Be&&r&&$v(t),t.flags|=1,mn(e,t,n,s),t.child)}function WS(e,t,n,r,s,i){return uc(t),t.updateQueue=null,n=yI(t,r,n,s),mI(e),r=Hv(),e!==null&&!Kt?(Fv(e,t,i),Gi(e,t,i)):(Be&&r&&$v(t),t.flags|=1,mn(e,t,n,i),t.child)}function GS(e,t,n,r,s){if(uc(t),t.stateNode===null){var i=Rl,a=n.contextType;typeof a=="object"&&a!==null&&(i=xn(a)),i=new n(r,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=fb,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=r,i.state=t.memoizedState,i.refs={},kv(t),a=n.contextType,i.context=typeof a=="object"&&a!==null?xn(a):Rl,i.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(ry(t,n,a,r),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&fb.enqueueReplaceState(i,i.state,null),Zf(t,r,i,s),Yf(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,c=hc(n,o);i.props=c;var l=i.context,u=n.contextType;a=Rl,typeof u=="object"&&u!==null&&(a=xn(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||l!==a)&&zS(t,i,r,a),Ca=!1;var d=t.memoizedState;i.state=d,Zf(t,r,i,s),Yf(),l=t.memoizedState,o||d!==l||Ca?(typeof f=="function"&&(ry(t,n,f,r),l=t.memoizedState),(c=Ca||jS(t,n,c,r,d,l,a))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=a,r=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,sb(e,t),a=t.memoizedProps,u=hc(n,a),i.props=u,f=t.pendingProps,d=i.context,l=n.contextType,c=Rl,typeof l=="object"&&l!==null&&(c=xn(l)),o=n.getDerivedStateFromProps,(l=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||d!==c)&&zS(t,i,r,c),Ca=!1,d=t.memoizedState,i.state=d,Zf(t,r,i,s),Yf();var h=t.memoizedState;a!==f||d!==h||Ca||e!==null&&e.dependencies!==null&&Ug(e.dependencies)?(typeof o=="function"&&(ry(t,n,o,r),h=t.memoizedState),(u=Ca||jS(t,n,u,r,d,h,c)||e!==null&&e.dependencies!==null&&Ug(e.dependencies))?(l||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,ng(e,t),r=(t.flags&128)!==0,i||r?(i=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&r?(t.child=fc(t,e.child,null,s),t.child=fc(t,null,n,s)):mn(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Gi(e,t,s),e}function YS(e,t,n,r){return lc(),t.flags|=256,mn(e,t,n,r),t.child}var sy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iy(e){return{baseLanes:e,cachePool:lI()}}function ay(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Tr),e}function tT(e,t,n){var r=t.pendingProps,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(s?Oa(t):Da(),(e=At)?(e=KT(e,rs),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:oo!==null?{id:Gs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},n=iI(e),n.return=t,t.child=n,An=t,At=null)):e=null,e===null)throw co(t);return Nb(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,s?(Da(),s=t.mode,o=Pg({mode:"hidden",children:o},s),r=tc(r,s,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r=t.child,r.memoizedState=iy(n),r.childLanes=ay(e,a,n),t.memoizedState=sy,Rf(null,r)):(Oa(t),pb(t,o))}var c=e.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(i)t.flags&256?(Oa(t),t.flags&=-257,t=oy(e,t,n)):t.memoizedState!==null?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),o=r.fallback,s=t.mode,r=Pg({mode:"visible",children:r.children},s),o=tc(o,s,n,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,fc(t,e.child,null,n),r=t.child,r.memoizedState=iy(n),r.childLanes=ay(e,a,n),t.memoizedState=sy,t=Rf(null,r));else if(Oa(t),Nb(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var l=a.dgst;a=l,r=Error(j(419)),r.stack="",r.digest=a,xd({value:r,source:null,stack:null}),t=oy(e,t,n)}else if(Kt||Uu(e,t,n,!1),a=(n&e.childLanes)!==0,Kt||a){if(a=ht,a!==null&&(r=DN(a,n),r!==0&&r!==c.retryLane))throw c.retryLane=r,Oc(e,r),ur(a,e,r),Jv;_b(o)||Fg(),t=oy(e,t,n)}else _b(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,At=os(o.nextSibling),An=t,Be=!0,Wa=null,rs=!1,e!==null&&oI(t,e),t=pb(t,r.children),t.flags|=4096);return t}return s?(Da(),o=r.fallback,s=t.mode,c=e.child,l=c.sibling,r=Pi(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,l!==null?o=Pi(l,o):(o=tc(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,Rf(null,r),r=t.child,o=e.child.memoizedState,o===null?o=iy(n):(s=o.cachePool,s!==null?(c=qt._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=lI(),o={baseLanes:o.baseLanes|n,cachePool:s}),r.memoizedState=o,r.childLanes=ay(e,a,n),t.memoizedState=sy,Rf(e.child,r)):(Oa(t),n=e.child,e=n.sibling,n=Pi(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function pb(e,t){return t=Pg({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pg(e,t){return e=Nr(22,e,null,t),e.lanes=0,e}function oy(e,t,n){return fc(t,e.child,null,n),e=pb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tb(e.return,t,n)}function cy(e,t,n,r,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s,treeForkCount:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s,a.treeForkCount=i)}function nT(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;r=r.children;var a=Lt.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,yt(Lt,a),mn(e,t,r,n),r=Be?Cd:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ZS(e,n,t);else if(e.tag===19)ZS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Rg(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),cy(t,!1,s,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Rg(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}cy(t,!0,n,null,i,r);break;case"together":cy(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Gi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),uo|=t.lanes,!(n&t.childLanes))if(e!==null){if(Uu(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eE(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ug(e)))}function vM(e,t,n){switch(t.tag){case 3:xg(t,t.stateNode.containerInfo),Ta(t,qt,e.memoizedState.cache),lc();break;case 27:case 5:Hw(t);break;case 4:xg(t,t.stateNode.containerInfo);break;case 10:Ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ob(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Oa(t),t.flags|=128,null):n&t.child.childLanes?tT(e,t,n):(Oa(t),e=Gi(e,t,n),e!==null?e.sibling:null);Oa(t);break;case 19:var s=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Uu(e,t,n,!1),r=(n&t.childLanes)!==0),s){if(r)return nT(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yt(Lt,Lt.current),r)break;return null;case 22:return t.lanes=0,eT(e,t,n,t.pendingProps);case 24:Ta(t,qt,e.memoizedState.cache)}return Gi(e,t,n)}function rT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Kt=!0;else{if(!eE(e,n)&&!(t.flags&128))return Kt=!1,vM(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,Be&&t.flags&1048576&&aI(t,Cd,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Bo(t.elementType),t.type=e,typeof e=="function")Uv(e)?(r=hc(e,r),t.tag=1,t=GS(null,t,e,r,n)):(t.tag=0,t=hb(null,t,e,r,n));else{if(e!=null){var s=e.$$typeof;if(s===wv){t.tag=11,t=FS(null,t,e,r,n);break e}else if(s===bv){t.tag=14,t=qS(null,t,e,r,n);break e}}throw t=jw(e)||e,Error(j(306,t,""))}}return t;case 0:return hb(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,s=hc(r,t.pendingProps),GS(e,t,r,s,n);case 3:e:{if(xg(t,t.stateNode.containerInfo),e===null)throw Error(j(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,sb(e,t),Zf(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ta(t,qt,r),r!==i.cache&&nb(t,[qt],n,!0),Yf(),r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=YS(e,t,r,n);break e}else if(r!==s){s=ns(Error(j(424)),t),xd(s),t=YS(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(At=os(e.firstChild),An=t,Be=!0,Wa=null,rs=!0,n=dI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(lc(),r===s){t=Gi(e,t,n);break e}mn(e,t,r,n)}t=t.child}return t;case 26:return ng(e,t),e===null?(n=mA(t.type,null,t.pendingProps,null))?t.memoizedState=n:Be||(n=t.type,e=t.pendingProps,r=Wg(Ka.current).createElement(n),r[Sn]=t,r[dr]=e,_n(r,n,e),an(r),t.stateNode=r):t.memoizedState=mA(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hw(t),e===null&&Be&&(r=t.stateNode=WT(t.type,t.pendingProps,Ka.current),An=t,rs=!0,s=At,mo(t.type)?(Ib=s,At=os(r.firstChild)):At=s),mn(e,t,t.pendingProps.children,n),ng(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Be&&((s=r=At)&&(r=ZM(r,t.type,t.pendingProps,rs),r!==null?(t.stateNode=r,An=t,At=os(r.firstChild),rs=!1,s=!0):s=!1),s||co(t)),Hw(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,r=i.children,Cb(s,i)?r=null:a!==null&&Cb(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=zv(e,t,fM,null,null,n),Dd._currentValue=s),ng(e,t),mn(e,t,r,n),t.child;case 6:return e===null&&Be&&((e=n=At)&&(n=XM(n,t.pendingProps,rs),n!==null?(t.stateNode=n,An=t,At=null,e=!0):e=!1),e||co(t)),null;case 13:return tT(e,t,n);case 4:return xg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fc(t,null,r,n):mn(e,t,r,n),t.child;case 11:return FS(e,t,t.type,t.pendingProps,n);case 7:return mn(e,t,t.pendingProps,n),t.child;case 8:return mn(e,t,t.pendingProps.children,n),t.child;case 12:return mn(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ta(t,t.type,r.value),mn(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,uc(t),s=xn(s),r=r(s),t.flags|=1,mn(e,t,r,n),t.child;case 14:return qS(e,t,t.type,t.pendingProps,n);case 15:return JI(e,t,t.type,t.pendingProps,n);case 19:return nT(e,t,n);case 31:return bM(e,t,n);case 22:return eT(e,t,n,t.pendingProps);case 24:return uc(t),r=xn(qt),e===null?(s=Bv(),s===null&&(s=ht,i=Rv(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},kv(t),Ta(t,qt,s)):(e.lanes&n&&(sb(e,t),Zf(t,null,null,n),Yf()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ta(t,qt,r)):(r=i.cache,Ta(t,qt,r),r!==s.cache&&nb(t,[qt],n,!0))),mn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(j(156,t.tag))}function mi(e){e.flags|=4}function ly(e,t,n,r,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(NT())e.flags|=8192;else throw rc=$g,Lv}else e.flags&=-16777217}function XS(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ZT(t))if(NT())e.flags|=8192;else throw rc=$g,Lv}function tp(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?IN():536870912,e.lanes|=t,fu|=t)}function of(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function EM(e,t,n){var r=t.pendingProps;switch(Mv(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return vt(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ji(qt),iu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yc(t)?mi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ey())),vt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(mi(t),i!==null?(vt(t),XS(t,i)):(vt(t),ly(t,s,null,r,n))):i?i!==e.memoizedState?(mi(t),vt(t),XS(t,i)):(vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&mi(t),vt(t),ly(t,s,e,r,n)),null;case 27:if(_g(t),n=Ka.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&mi(t);else{if(!r){if(t.stateNode===null)throw Error(j(166));return vt(t),null}e=ei.current,Yc(t)?_S(t):(e=WT(s,r,n),t.stateNode=e,mi(t))}return vt(t),null;case 5:if(_g(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&mi(t);else{if(!r){if(t.stateNode===null)throw Error(j(166));return vt(t),null}if(i=ei.current,Yc(t))_S(t);else{var a=Wg(Ka.current);switch(i){case 1:i=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=a.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i=typeof r.is=="string"?a.createElement(s,{is:r.is}):a.createElement(s)}}i[Sn]=t,i[dr]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=i;e:switch(_n(i,s,r),s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&mi(t)}}return vt(t),ly(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&mi(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(e=Ka.current,Yc(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,s=An,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Sn]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||FT(e.nodeValue,n)),e||co(t,!0)}else e=Wg(e).createTextNode(r),e[Sn]=t,t.stateNode=e}return vt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Yc(t),n!==null){if(e===null){if(!r)throw Error(j(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(557));e[Sn]=t}else lc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),e=!1}else n=ey(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xr(t),t):(xr(t),null);if(t.flags&128)throw Error(j(558))}return vt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Yc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(j(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Sn]=t}else lc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),s=!1}else s=ey(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(xr(t),t):(xr(t),null)}return xr(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),tp(t,t.updateQueue),vt(t),null);case 4:return iu(),e===null&&oE(t.stateNode.containerInfo),vt(t),null;case 10:return ji(t.type),vt(t),null;case 19:if(un(Lt),r=t.memoizedState,r===null)return vt(t),null;if(s=(t.flags&128)!==0,i=r.rendering,i===null)if(s)of(r,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Rg(e),i!==null){for(t.flags|=128,of(r,!1),e=i.updateQueue,t.updateQueue=e,tp(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)sI(n,e),n=n.sibling;return yt(Lt,Lt.current&1|2),Be&&Ui(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ur()>zg&&(t.flags|=128,s=!0,of(r,!1),t.lanes=4194304)}else{if(!s)if(e=Rg(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,tp(t,e),of(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Be)return vt(t),null}else 2*Ur()-r.renderingStartTime>zg&&n!==536870912&&(t.flags|=128,s=!0,of(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(e=r.last,e!==null?e.sibling=i:t.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ur(),e.sibling=null,n=Lt.current,yt(Lt,s?n&1|2:n&1),Be&&Ui(t,r.treeForkCount),e):(vt(t),null);case 22:case 23:return xr(t),Pv(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),n=t.updateQueue,n!==null&&tp(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&un(nc),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ji(qt),vt(t),null;case 25:return null;case 30:return null}throw Error(j(156,t.tag))}function SM(e,t){switch(Mv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ji(qt),iu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _g(t),null;case 31:if(t.memoizedState!==null){if(xr(t),t.alternate===null)throw Error(j(340));lc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));lc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return un(Lt),null;case 4:return iu(),null;case 10:return ji(t.type),null;case 22:case 23:return xr(t),Pv(),e!==null&&un(nc),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ji(qt),null;case 25:return null;default:return null}}function sT(e,t){switch(Mv(t),t.tag){case 3:ji(qt),iu();break;case 26:case 27:case 5:_g(t);break;case 4:iu();break;case 31:t.memoizedState!==null&&xr(t);break;case 13:xr(t);break;case 19:un(Lt);break;case 10:ji(t.type);break;case 22:case 23:xr(t),Pv(),e!==null&&un(nc);break;case 24:ji(qt)}}function dh(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){nt(t,t.return,o)}}function lo(e,t,n){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var c=n,l=o;try{l()}catch(u){nt(s,c,u)}}}r=r.next}while(r!==i)}}catch(u){nt(t,t.return,u)}}function iT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{pI(t,n)}catch(r){nt(e,e.return,r)}}}function aT(e,t,n){n.props=hc(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){nt(e,t,r)}}function Qf(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(s){nt(e,t,s)}}function Zs(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){nt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){nt(e,t,s)}else n.current=null}function oT(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){nt(e,e.return,s)}}function uy(e,t,n){try{var r=e.stateNode;qM(r,e.type,n,t),r[dr]=t}catch(s){nt(e,e.return,s)}}function cT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mo(e.type)||e.tag===4}function fy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bi));else if(r!==4&&(r===27&&mo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gb(e,t,n),e=e.sibling;e!==null;)gb(e,t,n),e=e.sibling}function jg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&mo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(jg(e,t,n),e=e.sibling;e!==null;)jg(e,t,n),e=e.sibling}function lT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_n(t,r,n),t[Sn]=e,t[dr]=n}catch(i){nt(e,e.return,i)}}var Mi=!1,Ft=!1,dy=!1,QS=typeof WeakSet=="function"?WeakSet:Set,sn=null;function AM(e,t){if(e=e.containerInfo,Sb=Xg,e=ZN(e),Tv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,l=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===s&&(o=a),d===i&&++u===r&&(c=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ab={focusedElem:e,selectionRange:n},Xg=!1,sn=t;sn!==null;)if(t=sn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,sn=e;else for(;sn!==null;){switch(t=sn,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var p=hc(n.type,s);e=r.getSnapshotBeforeUpdate(p,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){nt(n,n.return,g)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)xb(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xb(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(j(163))}if(e=t.sibling,e!==null){e.return=t.return,sn=e;break}sn=t.return}}function uT(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:wi(e,n),r&4&&dh(5,n);break;case 1:if(wi(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){nt(n,n.return,a)}else{var s=hc(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){nt(n,n.return,a)}}r&64&&iT(n),r&512&&Qf(n,n.return);break;case 3:if(wi(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{pI(e,t)}catch(a){nt(n,n.return,a)}}break;case 27:t===null&&r&4&&lT(n);case 26:case 5:wi(e,n),t===null&&r&4&&oT(n),r&512&&Qf(n,n.return);break;case 12:wi(e,n);break;case 31:wi(e,n),r&4&&hT(e,n);break;case 13:wi(e,n),r&4&&pT(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=UM.bind(null,n),QM(e,n))));break;case 22:if(r=n.memoizedState!==null||Mi,!r){t=t!==null&&t.memoizedState!==null||Ft,s=Mi;var i=Ft;Mi=r,(Ft=t)&&!i?Ii(e,n,(n.subtreeFlags&8772)!==0):wi(e,n),Mi=s,Ft=i}break;case 30:break;default:wi(e,n)}}function fT(e){var t=e.alternate;t!==null&&(e.alternate=null,fT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Av(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,ir=!1;function yi(e,t,n){for(n=n.child;n!==null;)dT(e,t,n),n=n.sibling}function dT(e,t,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(ih,n)}catch{}switch(n.tag){case 26:Ft||Zs(n,t),yi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ft||Zs(n,t);var r=Nt,s=ir;mo(n.type)&&(Nt=n.stateNode,ir=!1),yi(e,t,n),nd(n.stateNode),Nt=r,ir=s;break;case 5:Ft||Zs(n,t);case 6:if(r=Nt,s=ir,Nt=null,yi(e,t,n),Nt=r,ir=s,Nt!==null)if(ir)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(n.stateNode)}catch(i){nt(n,t,i)}else try{Nt.removeChild(n.stateNode)}catch(i){nt(n,t,i)}break;case 18:Nt!==null&&(ir?(e=Nt,fA(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),gu(e)):fA(Nt,n.stateNode));break;case 4:r=Nt,s=ir,Nt=n.stateNode.containerInfo,ir=!0,yi(e,t,n),Nt=r,ir=s;break;case 0:case 11:case 14:case 15:lo(2,n,t),Ft||lo(4,n,t),yi(e,t,n);break;case 1:Ft||(Zs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&aT(n,t,r)),yi(e,t,n);break;case 21:yi(e,t,n);break;case 22:Ft=(r=Ft)||n.memoizedState!==null,yi(e,t,n),Ft=r;break;default:yi(e,t,n)}}function hT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{gu(e)}catch(n){nt(t,t.return,n)}}}function pT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gu(e)}catch(n){nt(t,t.return,n)}}function CM(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new QS),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new QS),t;default:throw Error(j(435,e.tag))}}function np(e,t){var n=CM(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var s=$M.bind(null,e,r);r.then(s,s)}})}function Gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(mo(o.type)){Nt=o.stateNode,ir=!1;break e}break;case 5:Nt=o.stateNode,ir=!1;break e;case 3:case 4:Nt=o.stateNode.containerInfo,ir=!0;break e}o=o.return}if(Nt===null)throw Error(j(160));dT(i,a,s),Nt=null,ir=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)gT(t,e),t=t.sibling}var As=null;function gT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gn(t,e),Yn(e),r&4&&(lo(3,e,e.return),dh(3,e),lo(5,e,e.return));break;case 1:Gn(t,e),Yn(e),r&512&&(Ft||n===null||Zs(n,n.return)),r&64&&Mi&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=As;if(Gn(t,e),Yn(e),r&512&&(Ft||n===null||Zs(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":i=s.getElementsByTagName("title")[0],(!i||i[ch]||i[Sn]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),_n(i,r,n),i[Sn]=e,an(i),r=i;break e;case"link":var a=wA("link","href",s).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(i=a[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}i=s.createElement(r),_n(i,r,n),s.head.appendChild(i);break;case"meta":if(a=wA("meta","content",s).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(i=a[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}i=s.createElement(r),_n(i,r,n),s.head.appendChild(i);break;default:throw Error(j(468,r))}i[Sn]=e,an(i),r=i}e.stateNode=r}else bA(s,e.type,e.stateNode);else e.stateNode=yA(s,r,e.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?bA(s,e.type,e.stateNode):yA(s,r,e.memoizedProps)):r===null&&e.stateNode!==null&&uy(e,e.memoizedProps,n.memoizedProps)}break;case 27:Gn(t,e),Yn(e),r&512&&(Ft||n===null||Zs(n,n.return)),n!==null&&r&4&&uy(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Gn(t,e),Yn(e),r&512&&(Ft||n===null||Zs(n,n.return)),e.flags&32){s=e.stateNode;try{ou(s,"")}catch(p){nt(e,e.return,p)}}r&4&&e.stateNode!=null&&(s=e.memoizedProps,uy(e,s,n!==null?n.memoizedProps:s)),r&1024&&(dy=!0);break;case 6:if(Gn(t,e),Yn(e),r&4){if(e.stateNode===null)throw Error(j(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){nt(e,e.return,p)}}break;case 3:if(ig=null,s=As,As=Gg(t.containerInfo),Gn(t,e),As=s,Yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gu(t.containerInfo)}catch(p){nt(e,e.return,p)}dy&&(dy=!1,mT(e));break;case 4:r=As,As=Gg(e.stateNode.containerInfo),Gn(t,e),Yn(e),As=r;break;case 12:Gn(t,e),Yn(e);break;case 31:Gn(t,e),Yn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,np(e,r)));break;case 13:Gn(t,e),Yn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(V0=Ur()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,np(e,r)));break;case 22:s=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,l=Mi,u=Ft;if(Mi=l||s,Ft=u||c,Gn(t,e),Ft=u,Mi=l,Yn(e),r&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||c||Mi||Ft||Lo(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(i=c.stateNode,s)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){nt(c,c.return,p)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){nt(c,c.return,p)}}}else if(t.tag===18){if(n===null){c=t;try{var h=c.stateNode;s?dA(h,!0):dA(c.stateNode,!1)}catch(p){nt(c,c.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,np(e,n))));break;case 19:Gn(t,e),Yn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,np(e,r)));break;case 30:break;case 21:break;default:Gn(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(cT(r)){n=r;break}r=r.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var s=n.stateNode,i=fy(e);jg(e,i,s);break;case 5:var a=n.stateNode;n.flags&32&&(ou(a,""),n.flags&=-33);var o=fy(e);jg(e,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,l=fy(e);gb(e,l,c);break;default:throw Error(j(161))}}catch(u){nt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)uT(e,t.alternate,t),t=t.sibling}function Lo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:lo(4,t,t.return),Lo(t);break;case 1:Zs(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&aT(t,t.return,n),Lo(t);break;case 27:nd(t.stateNode);case 26:case 5:Zs(t,t.return),Lo(t);break;case 22:t.memoizedState===null&&Lo(t);break;case 30:Lo(t);break;default:Lo(t)}e=e.sibling}}function Ii(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Ii(s,i,n),dh(4,i);break;case 1:if(Ii(s,i,n),r=i,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(l){nt(r,r.return,l)}if(r=i,s=r.updateQueue,s!==null){var o=r.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)hI(c[s],o)}catch(l){nt(r,r.return,l)}}n&&a&64&&iT(i),Qf(i,i.return);break;case 27:lT(i);case 26:case 5:Ii(s,i,n),n&&r===null&&a&4&&oT(i),Qf(i,i.return);break;case 12:Ii(s,i,n);break;case 31:Ii(s,i,n),n&&a&4&&hT(s,i);break;case 13:Ii(s,i,n),n&&a&4&&pT(s,i);break;case 22:i.memoizedState===null&&Ii(s,i,n),Qf(i,i.return);break;case 30:break;default:Ii(s,i,n)}t=t.sibling}}function tE(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&uh(n))}function nE(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&uh(e))}function gs(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yT(e,t,n,r),t=t.sibling}function yT(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:gs(e,t,n,r),s&2048&&dh(9,t);break;case 1:gs(e,t,n,r);break;case 3:gs(e,t,n,r),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&uh(e)));break;case 12:if(s&2048){gs(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){nt(t,t.return,c)}}else gs(e,t,n,r);break;case 31:gs(e,t,n,r);break;case 13:gs(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,t.memoizedState!==null?i._visibility&2?gs(e,t,n,r):Jf(e,t):i._visibility&2?gs(e,t,n,r):(i._visibility|=2,bl(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),s&2048&&tE(a,t);break;case 24:gs(e,t,n,r),s&2048&&nE(t.alternate,t);break;default:gs(e,t,n,r)}}function bl(e,t,n,r,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,a=t,o=n,c=r,l=a.flags;switch(a.tag){case 0:case 11:case 15:bl(i,a,o,c,s),dh(8,a);break;case 23:break;case 22:var u=a.stateNode;a.memoizedState!==null?u._visibility&2?bl(i,a,o,c,s):Jf(i,a):(u._visibility|=2,bl(i,a,o,c,s)),s&&l&2048&&tE(a.alternate,a);break;case 24:bl(i,a,o,c,s),s&&l&2048&&nE(a.alternate,a);break;default:bl(i,a,o,c,s)}t=t.sibling}}function Jf(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Jf(n,r),s&2048&&tE(r.alternate,r);break;case 24:Jf(n,r),s&2048&&nE(r.alternate,r);break;default:Jf(n,r)}t=t.sibling}}var Bf=8192;function Zc(e,t,n){if(e.subtreeFlags&Bf)for(e=e.child;e!==null;)wT(e,t,n),e=e.sibling}function wT(e,t,n){switch(e.tag){case 26:Zc(e,t,n),e.flags&Bf&&e.memoizedState!==null&&uR(n,As,e.memoizedState,e.memoizedProps);break;case 5:Zc(e,t,n);break;case 3:case 4:var r=As;As=Gg(e.stateNode.containerInfo),Zc(e,t,n),As=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Bf,Bf=16777216,Zc(e,t,n),Bf=r):Zc(e,t,n));break;default:Zc(e,t,n)}}function bT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function cf(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];sn=r,ET(r,e)}bT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vT(e),e=e.sibling}function vT(e){switch(e.tag){case 0:case 11:case 15:cf(e),e.flags&2048&&lo(9,e,e.return);break;case 3:cf(e);break;case 12:cf(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,rg(e)):cf(e);break;default:cf(e)}}function rg(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];sn=r,ET(r,e)}bT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:lo(8,t,t.return),rg(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,rg(t));break;default:rg(t)}e=e.sibling}}function ET(e,t){for(;sn!==null;){var n=sn;switch(n.tag){case 0:case 11:case 15:lo(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:uh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,sn=r;else e:for(n=e;sn!==null;){r=sn;var s=r.sibling,i=r.return;if(fT(r),r===n){sn=null;break e}if(s!==null){s.return=i,sn=s;break e}sn=i}}}var xM={getCacheForType:function(e){var t=xn(qt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return xn(qt).controller.signal}},_M=typeof WeakMap=="function"?WeakMap:Map,Ye=0,ht=null,Oe=null,Ue=0,tt=0,Sr=null,ka=!1,Mu=!1,rE=!1,Yi=0,Ut=0,uo=0,sc=0,sE=0,Tr=0,fu=0,ed=null,ar=null,mb=!1,V0=0,ST=0,zg=1/0,Hg=null,Za=null,Jt=0,Xa=null,du=null,zi=0,yb=0,wb=null,AT=null,td=0,bb=null;function Rr(){return Ye&2&&Ue!==0?Ue&-Ue:we.T!==null?aE():UN()}function CT(){if(Tr===0)if(!(Ue&536870912)||Be){var e=Gh;Gh<<=1,!(Gh&3932160)&&(Gh=262144),Tr=e}else Tr=536870912;return e=kr.current,e!==null&&(e.flags|=32),Tr}function ur(e,t,n){(e===ht&&(tt===2||tt===9)||e.cancelPendingCommit!==null)&&(hu(e,0),Pa(e,Ue,Tr,!1)),oh(e,n),(!(Ye&2)||e!==ht)&&(e===ht&&(!(Ye&2)&&(sc|=n),Ut===4&&Pa(e,Ue,Tr,!1)),li(e))}function xT(e,t,n){if(Ye&6)throw Error(j(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ah(e,t),s=r?TM(e,t):hy(e,t,!0),i=r;do{if(s===0){Mu&&!r&&Pa(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!NM(n)){s=hy(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var o=e;s=ed;var c=o.current.memoizedState.isDehydrated;if(c&&(hu(o,a).flags|=256),a=hy(o,a,!1),a!==2){if(rE&&!c){o.errorRecoveryDisabledLanes|=i,sc|=i,s=4;break e}i=ar,ar=s,i!==null&&(ar===null?ar=i:ar.push.apply(ar,i))}s=a}if(i=!1,s!==2)continue}}if(s===1){hu(e,0),Pa(e,t,0,!0);break}e:{switch(r=e,i=s,i){case 0:case 1:throw Error(j(345));case 4:if((t&4194048)!==t)break;case 6:Pa(r,t,Tr,!ka);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(j(329))}if((t&62914560)===t&&(s=V0+300-Ur(),10<s)){if(Pa(r,t,Tr,!ka),M0(r,0,!0)!==0)break e;zi=t,r.timeoutHandle=VT(JS.bind(null,r,n,ar,Hg,mb,t,Tr,sc,fu,ka,i,"Throttled",-0,0),s);break e}JS(r,n,ar,Hg,mb,t,Tr,sc,fu,ka,i,null,-0,0)}}break}while(!0);li(e)}function JS(e,t,n,r,s,i,a,o,c,l,u,f,d,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},wT(t,i,f);var p=(i&62914560)===i?V0-Ur():(i&4194048)===i?ST-Ur():0;if(p=fR(f,p),p!==null){zi=i,e.cancelPendingCommit=p(tA.bind(null,e,t,i,n,r,s,a,o,c,u,f,null,d,h)),Pa(e,i,a,!l);return}}tA(e,t,i,n,r,s,a,o,c)}function NM(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Lr(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t,n,r){t&=~sE,t&=~sc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-Mr(s),a=1<<i;r[i]=-1,s&=~a}n!==0&&TN(e,n,t)}function K0(){return Ye&6?!0:(hh(0),!1)}function iE(){if(Oe!==null){if(tt===0)var e=Oe.return;else e=Oe,Li=Dc=null,qv(e),Zl=null,_d=0,e=Oe;for(;e!==null;)sT(e.alternate,e),e=e.return;Oe=null}}function hu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,WM(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),zi=0,iE(),ht=e,Oe=n=Pi(e.current,null),Ue=t,tt=0,Sr=null,ka=!1,Mu=ah(e,t),rE=!1,fu=Tr=sE=sc=uo=Ut=0,ar=ed=null,mb=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var s=31-Mr(r),i=1<<s;t|=e[s],r&=~i}return Yi=t,k0(),n}function _T(e,t){Ae=null,we.H=Id,t===$u||t===j0?(t=DS(),tt=3):t===Lv?(t=DS(),tt=4):tt=t===Jv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Sr=t,Oe===null&&(Ut=1,kg(e,ns(t,e.current)))}function NT(){var e=kr.current;return e===null?!0:(Ue&4194048)===Ue?as===null:(Ue&62914560)===Ue||Ue&536870912?e===as:!1}function IT(){var e=we.H;return we.H=Id,e===null?Id:e}function TT(){var e=we.A;return we.A=xM,e}function Fg(){Ut=4,ka||(Ue&4194048)!==Ue&&kr.current!==null||(Mu=!0),!(uo&134217727)&&!(sc&134217727)||ht===null||Pa(ht,Ue,Tr,!1)}function hy(e,t,n){var r=Ye;Ye|=2;var s=IT(),i=TT();(ht!==e||Ue!==t)&&(Hg=null,hu(e,t)),t=!1;var a=Ut;e:do try{if(tt!==0&&Oe!==null){var o=Oe,c=Sr;switch(tt){case 8:iE(),a=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(t=!0);var l=tt;if(tt=0,Sr=null,kl(e,o,c,l),n&&Mu){a=0;break e}break;default:l=tt,tt=0,Sr=null,kl(e,o,c,l)}}IM(),a=Ut;break}catch(u){_T(e,u)}while(!0);return t&&e.shellSuspendCounter++,Li=Dc=null,Ye=r,we.H=s,we.A=i,Oe===null&&(ht=null,Ue=0,k0()),a}function IM(){for(;Oe!==null;)OT(Oe)}function TM(e,t){var n=Ye;Ye|=2;var r=IT(),s=TT();ht!==e||Ue!==t?(Hg=null,zg=Ur()+500,hu(e,t)):Mu=ah(e,t);e:do try{if(tt!==0&&Oe!==null){t=Oe;var i=Sr;t:switch(tt){case 1:tt=0,Sr=null,kl(e,t,i,1);break;case 2:case 9:if(OS(i)){tt=0,Sr=null,eA(t);break}t=function(){tt!==2&&tt!==9||ht!==e||(tt=7),li(e)},i.then(t,t);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:OS(i)?(tt=0,Sr=null,eA(t)):(tt=0,Sr=null,kl(e,t,i,7));break;case 5:var a=null;switch(Oe.tag){case 26:a=Oe.memoizedState;case 5:case 27:var o=Oe;if(a?ZT(a):o.stateNode.complete){tt=0,Sr=null;var c=o.sibling;if(c!==null)Oe=c;else{var l=o.return;l!==null?(Oe=l,W0(l)):Oe=null}break t}}tt=0,Sr=null,kl(e,t,i,5);break;case 6:tt=0,Sr=null,kl(e,t,i,6);break;case 8:iE(),Ut=6;break e;default:throw Error(j(462))}}OM();break}catch(u){_T(e,u)}while(!0);return Li=Dc=null,we.H=r,we.A=s,Ye=n,Oe!==null?0:(ht=null,Ue=0,k0(),Ut)}function OM(){for(;Oe!==null&&!JU();)OT(Oe)}function OT(e){var t=rT(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,t===null?W0(e):Oe=t}function eA(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=WS(n,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=WS(n,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:qv(t);default:sT(n,t),t=Oe=sI(t,Yi),t=rT(n,t,Yi)}e.memoizedProps=e.pendingProps,t===null?W0(e):Oe=t}function kl(e,t,n,r){Li=Dc=null,qv(t),Zl=null,_d=0;var s=t.return;try{if(wM(e,s,t,n,Ue)){Ut=1,kg(e,ns(n,e.current)),Oe=null;return}}catch(i){if(s!==null)throw Oe=s,i;Ut=1,kg(e,ns(n,e.current)),Oe=null;return}t.flags&32768?(Be||r===1?e=!0:Mu||Ue&536870912?e=!1:(ka=e=!0,(r===2||r===9||r===3||r===6)&&(r=kr.current,r!==null&&r.tag===13&&(r.flags|=16384))),DT(t,e)):W0(t)}function W0(e){var t=e;do{if(t.flags&32768){DT(t,ka);return}e=t.return;var n=EM(t.alternate,t,Yi);if(n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Ut===0&&(Ut=5)}function DT(e,t){do{var n=SM(e.alternate,e);if(n!==null){n.flags&=32767,Oe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=n}while(e!==null);Ut=6,Oe=null}function tA(e,t,n,r,s,i,a,o,c){e.cancelPendingCommit=null;do G0();while(Jt!==0);if(Ye&6)throw Error(j(327));if(t!==null){if(t===e.current)throw Error(j(177));if(i=t.lanes|t.childLanes,i|=Ov,l$(e,n,i,a,o,c),e===ht&&(Oe=ht=null,Ue=0),du=t,Xa=e,zi=n,yb=i,wb=s,AT=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,MM(Ng,function(){return BT(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=we.T,we.T=null,s=Ze.p,Ze.p=2,a=Ye,Ye|=4;try{AM(e,t,n)}finally{Ye=a,Ze.p=s,we.T=r}}Jt=1,UT(),$T(),MT()}}function UT(){if(Jt===1){Jt=0;var e=Xa,t=du,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=we.T,we.T=null;var r=Ze.p;Ze.p=2;var s=Ye;Ye|=4;try{gT(t,e);var i=Ab,a=ZN(e.containerInfo),o=i.focusedElem,c=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&YN(o.ownerDocument.documentElement,o)){if(c!==null&&Tv(o)){var l=c.start,u=c.end;if(u===void 0&&(u=l),"selectionStart"in o)o.selectionStart=l,o.selectionEnd=Math.min(u,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var h=d.getSelection(),p=o.textContent.length,g=Math.min(c.start,p),b=c.end===void 0?g:Math.min(c.end,p);!h.extend&&g>b&&(a=b,b=g,g=a);var y=AS(o,g),m=AS(o,b);if(y&&m&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==m.node||h.focusOffset!==m.offset)){var w=f.createRange();w.setStart(y.node,y.offset),h.removeAllRanges(),g>b?(h.addRange(w),h.extend(m.node,m.offset)):(w.setEnd(m.node,m.offset),h.addRange(w))}}}}for(f=[],h=o;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var v=f[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Xg=!!Sb,Ab=Sb=null}finally{Ye=s,Ze.p=r,we.T=n}}e.current=t,Jt=2}}function $T(){if(Jt===2){Jt=0;var e=Xa,t=du,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=we.T,we.T=null;var r=Ze.p;Ze.p=2;var s=Ye;Ye|=4;try{uT(e,t.alternate,t)}finally{Ye=s,Ze.p=r,we.T=n}}Jt=3}}function MT(){if(Jt===4||Jt===3){Jt=0,e$();var e=Xa,t=du,n=zi,r=AT;t.subtreeFlags&10256||t.flags&10256?Jt=5:(Jt=0,du=Xa=null,RT(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Za=null),Sv(n),t=t.stateNode,$r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(ih,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=we.T,s=Ze.p,Ze.p=2,we.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{we.T=t,Ze.p=s}}zi&3&&G0(),li(e),s=e.pendingLanes,n&261930&&s&42?e===bb?td++:(td=0,bb=e):td=0,hh(0)}}function RT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,uh(t)))}function G0(){return UT(),$T(),MT(),BT()}function BT(){if(Jt!==5)return!1;var e=Xa,t=yb;yb=0;var n=Sv(zi),r=we.T,s=Ze.p;try{Ze.p=32>n?32:n,we.T=null,n=wb,wb=null;var i=Xa,a=zi;if(Jt=0,du=Xa=null,zi=0,Ye&6)throw Error(j(331));var o=Ye;if(Ye|=4,vT(i.current),yT(i,i.current,a,n),Ye=o,hh(0,!1),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(ih,i)}catch{}return!0}finally{Ze.p=s,we.T=r,RT(e,t)}}function nA(e,t,n){t=ns(n,t),t=db(e.stateNode,t,2),e=Ya(e,t,2),e!==null&&(oh(e,2),li(e))}function nt(e,t,n){if(e.tag===3)nA(e,e,n);else for(;t!==null;){if(t.tag===3){nA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))){e=ns(n,e),n=XI(2),r=Ya(t,n,2),r!==null&&(QI(n,r,t,e),oh(r,2),li(r));break}}t=t.return}}function py(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _M;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(rE=!0,s.add(n),e=DM.bind(null,e,t,n),t.then(e,e))}function DM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ht===e&&(Ue&n)===n&&(Ut===4||Ut===3&&(Ue&62914560)===Ue&&300>Ur()-V0?!(Ye&2)&&hu(e,0):sE|=n,fu===Ue&&(fu=0)),li(e)}function LT(e,t){t===0&&(t=IN()),e=Oc(e,t),e!==null&&(oh(e,t),li(e))}function UM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),LT(e,n)}function $M(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(j(314))}r!==null&&r.delete(t),LT(e,n)}function MM(e,t){return vv(e,t)}var qg=null,vl=null,vb=!1,Vg=!1,gy=!1,ja=0;function li(e){e!==vl&&e.next===null&&(vl===null?qg=vl=e:vl=vl.next=e),Vg=!0,vb||(vb=!0,BM())}function hh(e,t){if(!gy&&Vg){gy=!0;do for(var n=!1,r=qg;r!==null;){if(e!==0){var s=r.pendingLanes;if(s===0)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-Mr(42|e)+1)-1,i&=s&~(a&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,rA(r,i))}else i=Ue,i=M0(r,r===ht?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||ah(r,i)||(n=!0,rA(r,i));r=r.next}while(n);gy=!1}}function RM(){kT()}function kT(){Vg=vb=!1;var e=0;ja!==0&&KM()&&(e=ja);for(var t=Ur(),n=null,r=qg;r!==null;){var s=r.next,i=PT(r,t);i===0?(r.next=null,n===null?qg=s:n.next=s,s===null&&(vl=n)):(n=r,(e!==0||i&3)&&(Vg=!0)),r=s}Jt!==0&&Jt!==5||hh(e),ja!==0&&(ja=0)}function PT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var a=31-Mr(i),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=c$(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}if(t=ht,n=Ue,n=M0(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(tt===2||tt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Fm(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ah(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Fm(r),Sv(n)){case 2:case 8:n=_N;break;case 32:n=Ng;break;case 268435456:n=NN;break;default:n=Ng}return r=jT.bind(null,e),n=vv(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Fm(r),e.callbackPriority=2,e.callbackNode=null,2}function jT(e,t){if(Jt!==0&&Jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(G0()&&e.callbackNode!==n)return null;var r=Ue;return r=M0(e,e===ht?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(xT(e,r,t),PT(e,Ur()),e.callbackNode!=null&&e.callbackNode===n?jT.bind(null,e):null)}function rA(e,t){if(G0())return null;xT(e,t,!0)}function BM(){GM(function(){Ye&6?vv(xN,RM):kT()})}function aE(){if(ja===0){var e=cu;e===0&&(e=Wh,Wh<<=1,!(Wh&261888)&&(Wh=256)),ja=e}return ja}function sA(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gp(""+e)}function iA(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function LM(e,t,n,r,s){if(t==="submit"&&n&&n.stateNode===s){var i=sA((s[dr]||null).action),a=r.submitter;a&&(t=(t=a[dr]||null)?sA(t.formAction):a.getAttribute("formAction"),t!==null&&(i=t,a=null));var o=new R0("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ja!==0){var c=a?iA(s,a):new FormData(s);ub(n,{pending:!0,data:c,method:s.method,action:i},null,c)}}else typeof i=="function"&&(o.preventDefault(),c=a?iA(s,a):new FormData(s),ub(n,{pending:!0,data:c,method:s.method,action:i},i,c))},currentTarget:s}]})}}for(var my=0;my<Qw.length;my++){var yy=Qw[my],kM=yy.toLowerCase(),PM=yy[0].toUpperCase()+yy.slice(1);Us(kM,"on"+PM)}Us(QN,"onAnimationEnd");Us(JN,"onAnimationIteration");Us(eI,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(tM,"onTransitionRun");Us(nM,"onTransitionStart");Us(rM,"onTransitionCancel");Us(tI,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Td));function zT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=l;try{i(s)}catch(u){Tg(u)}s.currentTarget=null,i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,l=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=l;try{i(s)}catch(u){Tg(u)}s.currentTarget=null,i=c}}}}function Te(e,t){var n=t[qw];n===void 0&&(n=t[qw]=new Set);var r=e+"__bubble";n.has(r)||(HT(t,e,2,!1),n.add(r))}function wy(e,t,n){var r=0;t&&(r|=4),HT(n,e,r,t)}var rp="_reactListening"+Math.random().toString(36).slice(2);function oE(e){if(!e[rp]){e[rp]=!0,$N.forEach(function(n){n!=="selectionchange"&&(jM.has(n)||wy(n,!1,e),wy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rp]||(t[rp]=!0,wy("selectionchange",!1,t))}}function HT(e,t,n,r){switch(t4(t)){case 2:var s=pR;break;case 8:s=gR;break;default:s=fE}n=s.bind(null,t,n,e),s=void 0,!Yw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function by(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Tl(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){r=i=a;continue e}o=o.parentNode}}r=r.return}zN(function(){var l=i,u=xv(n),f=[];e:{var d=nI.get(e);if(d!==void 0){var h=R0,p=e;switch(e){case"keypress":if(Zp(n)===0)break e;case"keydown":case"keyup":h=$$;break;case"focusin":p="focus",h=Gm;break;case"focusout":p="blur",h=Gm;break;case"beforeblur":case"afterblur":h=Gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=hS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=E$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=B$;break;case QN:case JN:case eI:h=C$;break;case tI:h=k$;break;case"scroll":case"scrollend":h=b$;break;case"wheel":h=j$;break;case"copy":case"cut":case"paste":h=_$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=gS;break;case"toggle":case"beforetoggle":h=H$}var g=(t&4)!==0,b=!g&&(e==="scroll"||e==="scrollend"),y=g?d!==null?d+"Capture":null:d;g=[];for(var m=l,w;m!==null;){var v=m;if(w=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||w===null||y===null||(v=Ed(m,y),v!=null&&g.push(Od(m,v,w))),b)break;m=m.return}0<g.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Gw&&(p=n.relatedTarget||n.fromElement)&&(Tl(p)||p[Ou]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Tl(p):null,p!==null&&(b=sh(p),g=p.tag,p!==b||g!==5&&g!==27&&g!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=hS,v="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=gS,v="onPointerLeave",y="onPointerEnter",m="pointer"),b=h==null?d:Mf(h),w=p==null?d:Mf(p),d=new g(v,m+"leave",h,n,u),d.target=b,d.relatedTarget=w,v=null,Tl(u)===l&&(g=new g(y,m+"enter",p,n,u),g.target=w,g.relatedTarget=b,v=g),b=v,h&&p)t:{for(g=zM,y=h,m=p,w=0,v=y;v;v=g(v))w++;v=0;for(var _=m;_;_=g(_))v++;for(;0<w-v;)y=g(y),w--;for(;0<v-w;)m=g(m),v--;for(;w--;){if(y===m||m!==null&&y===m.alternate){g=y;break t}y=g(y),m=g(m)}g=null}else g=null;h!==null&&aA(f,d,h,g,!1),p!==null&&b!==null&&aA(f,b,p,g,!0)}}e:{if(d=l?Mf(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var B=bS;else if(wS(d))if(WN)B=Q$;else{B=Z$;var U=Y$}else h=d.nodeName,!h||h.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?l&&Cv(l.elementType)&&(B=bS):B=X$;if(B&&(B=B(e,l))){KN(f,B,n,u);break e}U&&U(e,d,l),e==="focusout"&&l&&d.type==="number"&&l.memoizedProps.value!=null&&Ww(d,"number",d.value)}switch(U=l?Mf(l):window,e){case"focusin":(wS(U)||U.contentEditable==="true")&&(Ul=U,Zw=l,Kf=null);break;case"focusout":Kf=Zw=Ul=null;break;case"mousedown":Xw=!0;break;case"contextmenu":case"mouseup":case"dragend":Xw=!1,CS(f,n,u);break;case"selectionchange":if(eM)break;case"keydown":case"keyup":CS(f,n,u)}var D;if(Iv)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Dl?qN(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(FN&&n.locale!=="ko"&&(Dl||x!=="onCompositionStart"?x==="onCompositionEnd"&&Dl&&(D=HN()):(La=u,_v="value"in La?La.value:La.textContent,Dl=!0)),U=Kg(l,x),0<U.length&&(x=new pS(x,e,null,n,u),f.push({event:x,listeners:U}),D?x.data=D:(D=VN(n),D!==null&&(x.data=D)))),(D=q$?V$(e,n):K$(e,n))&&(x=Kg(l,"onBeforeInput"),0<x.length&&(U=new pS("onBeforeInput","beforeinput",null,n,u),f.push({event:U,listeners:x}),U.data=D)),LM(f,e,l,n,u)}zT(f,t)})}function Od(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kg(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Ed(e,n),s!=null&&r.unshift(Od(e,s,i)),s=Ed(e,t),s!=null&&r.push(Od(e,s,i))),e.tag===3)return r;e=e.return}return[]}function zM(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function aA(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,l=o.stateNode;if(o=o.tag,c!==null&&c===r)break;o!==5&&o!==26&&o!==27||l===null||(c=l,s?(l=Ed(n,i),l!=null&&a.unshift(Od(n,l,c))):s||(l=Ed(n,i),l!=null&&a.push(Od(n,l,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var HM=/\r\n?/g,FM=/\u0000|\uFFFD/g;function oA(e){return(typeof e=="string"?e:""+e).replace(HM,`
`).replace(FM,"")}function FT(e,t){return t=oA(t),oA(e)===t}function at(e,t,n,r,s,i){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ou(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ou(e,""+r);break;case"className":Zh(e,"class",r);break;case"tabIndex":Zh(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zh(e,n,r);break;case"style":jN(e,r,i);break;case"data":if(t!=="object"){Zh(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Gp(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&at(e,t,"name",s.name,s,null),at(e,t,"formEncType",s.formEncType,s,null),at(e,t,"formMethod",s.formMethod,s,null),at(e,t,"formTarget",s.formTarget,s,null)):(at(e,t,"encType",s.encType,s,null),at(e,t,"method",s.method,s,null),at(e,t,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Gp(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Bi);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(j(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Gp(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Wp(e,"popover",r);break;case"xlinkActuate":gi(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gi(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gi(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gi(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gi(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gi(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gi(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Wp(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=y$.get(n)||n,Wp(e,n,r))}}function Eb(e,t,n,r,s,i){switch(n){case"style":jN(e,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(j(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"children":typeof r=="string"?ou(e,r):(typeof r=="number"||typeof r=="bigint")&&ou(e,""+r);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!MN.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[dr]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof r=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Wp(e,n,r)}}}function _n(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var r=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:at(e,t,i,a,n,null)}}s&&at(e,t,"srcSet",n.srcSet,n,null),r&&at(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var o=i=a=s=null,c=null,l=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":s=u;break;case"type":a=u;break;case"checked":c=u;break;case"defaultChecked":l=u;break;case"value":i=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(j(137,t));break;default:at(e,t,r,u,n,null)}}LN(e,i,o,c,l,a,s,!1);return;case"select":Te("invalid",e),r=a=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:at(e,t,s,o,n,null)}t=i,n=a,e.multiple=!!r,t!=null?Wl(e,!!r,t,!1):n!=null&&Wl(e,!!r,n,!0);return;case"textarea":Te("invalid",e),i=s=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":s=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(j(91));break;default:at(e,t,a,o,n,null)}PN(e,r,s,i);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:at(e,t,c,r,n,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(r=0;r<Td.length;r++)Te(Td[r],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:at(e,t,l,r,n,null)}return;default:if(Cv(t)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&Eb(e,t,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&at(e,t,o,r,n,null))}function qM(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,a=null,o=null,c=null,l=null,u=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(h)||at(e,t,h,null,r,f)}}for(var d in r){var h=r[d];if(f=n[d],r.hasOwnProperty(d)&&(h!=null||f!=null))switch(d){case"type":i=h;break;case"name":s=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(j(137,t));break;default:h!==f&&at(e,t,d,h,r,f)}}Kw(e,a,o,c,l,u,i,s);return;case"select":h=a=o=d=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":h=c;default:r.hasOwnProperty(i)||at(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(i!=null||c!=null))switch(s){case"value":d=i;break;case"defaultValue":o=i;break;case"multiple":a=i;default:i!==c&&at(e,t,s,i,r,c)}t=o,n=a,r=h,d!=null?Wl(e,!!n,d,!1):!!r!=!!n&&(t!=null?Wl(e,!!n,t,!0):Wl(e,!!n,n?[]:"",!1));return;case"textarea":h=d=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:at(e,t,o,null,r,s)}for(a in r)if(s=r[a],i=n[a],r.hasOwnProperty(a)&&(s!=null||i!=null))switch(a){case"value":d=s;break;case"defaultValue":h=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(j(91));break;default:s!==i&&at(e,t,a,s,r,i)}kN(e,d,h);return;case"option":for(var p in n)if(d=n[p],n.hasOwnProperty(p)&&d!=null&&!r.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:at(e,t,p,null,r,d)}for(c in r)if(d=r[c],h=n[c],r.hasOwnProperty(c)&&d!==h&&(d!=null||h!=null))switch(c){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:at(e,t,c,d,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!r.hasOwnProperty(g)&&at(e,t,g,null,r,d);for(l in r)if(d=r[l],h=n[l],r.hasOwnProperty(l)&&d!==h&&(d!=null||h!=null))switch(l){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(j(137,t));break;default:at(e,t,l,d,r,h)}return;default:if(Cv(t)){for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!==void 0&&!r.hasOwnProperty(b)&&Eb(e,t,b,void 0,r,d);for(u in r)d=r[u],h=n[u],!r.hasOwnProperty(u)||d===h||d===void 0&&h===void 0||Eb(e,t,u,d,r,h);return}}for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!r.hasOwnProperty(y)&&at(e,t,y,null,r,d);for(f in r)d=r[f],h=n[f],!r.hasOwnProperty(f)||d===h||d==null&&h==null||at(e,t,f,d,r,h)}function cA(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VM(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var s=n[r],i=s.transferSize,a=s.initiatorType,o=s.duration;if(i&&o&&cA(a)){for(a=0,o=s.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>o)break;var u=c.transferSize,f=c.initiatorType;u&&cA(f)&&(c=c.responseEnd,a+=u*(c<o?1:(o-l)/(c-l)))}if(--r,t+=8*(i+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sb=null,Ab=null;function Wg(e){return e.nodeType===9?e:e.ownerDocument}function lA(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vy=null;function KM(){var e=window.event;return e&&e.type==="popstate"?e===vy?!1:(vy=e,!0):(vy=null,!1)}var VT=typeof setTimeout=="function"?setTimeout:void 0,WM=typeof clearTimeout=="function"?clearTimeout:void 0,uA=typeof Promise=="function"?Promise:void 0,GM=typeof queueMicrotask=="function"?queueMicrotask:typeof uA<"u"?function(e){return uA.resolve(null).then(e).catch(YM)}:VT;function YM(e){setTimeout(function(){throw e})}function mo(e){return e==="head"}function fA(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(s),gu(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")nd(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,nd(n);for(var i=n.firstChild;i;){var a=i.nextSibling,o=i.nodeName;i[ch]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=a}}else n==="body"&&nd(e.ownerDocument.body);n=s}while(n);gu(t)}function dA(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function xb(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xb(n),Av(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ZM(e,t,n,r){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ch])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=os(e.nextSibling),e===null)break}return null}function XM(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=os(e.nextSibling),e===null))return null;return e}function KT(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=os(e.nextSibling),e===null))return null;return e}function _b(e){return e.data==="$?"||e.data==="$~"}function Nb(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function QM(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ib=null;function hA(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return os(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function pA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function WT(e,t,n){switch(t=Wg(n),e){case"html":if(e=t.documentElement,!e)throw Error(j(452));return e;case"head":if(e=t.head,!e)throw Error(j(453));return e;case"body":if(e=t.body,!e)throw Error(j(454));return e;default:throw Error(j(451))}}function nd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Av(e)}var cs=new Map,gA=new Set;function Gg(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=Ze.d;Ze.d={f:JM,r:eR,D:tR,C:nR,L:rR,m:sR,X:aR,S:iR,M:oR};function JM(){var e=Ji.f(),t=K0();return e||t}function eR(e){var t=Du(e);t!==null&&t.tag===5&&t.type==="form"?jI(t):Ji.r(e)}var Ru=typeof document>"u"?null:document;function GT(e,t,n){var r=Ru;if(r&&typeof t=="string"&&t){var s=ts(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),gA.has(s)||(gA.add(s),e={rel:e,crossOrigin:n,href:t},r.querySelector(s)===null&&(t=r.createElement("link"),_n(t,"link",e),an(t),r.head.appendChild(t)))}}function tR(e){Ji.D(e),GT("dns-prefetch",e,null)}function nR(e,t){Ji.C(e,t),GT("preconnect",e,t)}function rR(e,t,n){Ji.L(e,t,n);var r=Ru;if(r&&e&&t){var s='link[rel="preload"][as="'+ts(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ts(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+ts(n.imageSizes)+'"]')):s+='[href="'+ts(e)+'"]';var i=s;switch(t){case"style":i=pu(e);break;case"script":i=Bu(e)}cs.has(i)||(e=Ct({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),cs.set(i,e),r.querySelector(s)!==null||t==="style"&&r.querySelector(ph(i))||t==="script"&&r.querySelector(gh(i))||(t=r.createElement("link"),_n(t,"link",e),an(t),r.head.appendChild(t)))}}function sR(e,t){Ji.m(e,t);var n=Ru;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+ts(r)+'"][href="'+ts(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Bu(e)}if(!cs.has(i)&&(e=Ct({rel:"modulepreload",href:e},t),cs.set(i,e),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gh(i)))return}r=n.createElement("link"),_n(r,"link",e),an(r),n.head.appendChild(r)}}}function iR(e,t,n){Ji.S(e,t,n);var r=Ru;if(r&&e){var s=Kl(r).hoistableStyles,i=pu(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(ph(i)))o.loading=5;else{e=Ct({rel:"stylesheet",href:e,"data-precedence":t},n),(n=cs.get(i))&&cE(e,n);var c=a=r.createElement("link");an(c),_n(c,"link",e),c._p=new Promise(function(l,u){c.onload=l,c.onerror=u}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,sg(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}}function aR(e,t){Ji.X(e,t);var n=Ru;if(n&&e){var r=Kl(n).hoistableScripts,s=Bu(e),i=r.get(s);i||(i=n.querySelector(gh(s)),i||(e=Ct({src:e,async:!0},t),(t=cs.get(s))&&lE(e,t),i=n.createElement("script"),an(i),_n(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function oR(e,t){Ji.M(e,t);var n=Ru;if(n&&e){var r=Kl(n).hoistableScripts,s=Bu(e),i=r.get(s);i||(i=n.querySelector(gh(s)),i||(e=Ct({src:e,async:!0,type:"module"},t),(t=cs.get(s))&&lE(e,t),i=n.createElement("script"),an(i),_n(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function mA(e,t,n,r){var s=(s=Ka.current)?Gg(s):null;if(!s)throw Error(j(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=pu(n.href),n=Kl(s).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=pu(n.href);var i=Kl(s).hoistableStyles,a=i.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,a),(i=s.querySelector(ph(e)))&&!i._p&&(a.instance=i,a.state.loading=5),cs.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},cs.set(e,n),i||cR(s,e,n,a.state))),t&&r===null)throw Error(j(528,""));return a}if(t&&r!==null)throw Error(j(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Bu(n),n=Kl(s).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,e))}}function pu(e){return'href="'+ts(e)+'"'}function ph(e){return'link[rel="stylesheet"]['+e+"]"}function YT(e){return Ct({},e,{"data-precedence":e.precedence,precedence:null})}function cR(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),_n(t,"link",n),an(t),e.head.appendChild(t))}function Bu(e){return'[src="'+ts(e)+'"]'}function gh(e){return"script[async]"+e}function yA(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ts(n.href)+'"]');if(r)return t.instance=r,an(r),r;var s=Ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),an(r),_n(r,"style",s),sg(r,n.precedence,e),t.instance=r;case"stylesheet":s=pu(n.href);var i=e.querySelector(ph(s));if(i)return t.state.loading|=4,t.instance=i,an(i),i;r=YT(n),(s=cs.get(s))&&cE(r,s),i=(e.ownerDocument||e).createElement("link"),an(i);var a=i;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),_n(i,"link",r),t.state.loading|=4,sg(i,n.precedence,e),t.instance=i;case"script":return i=Bu(n.src),(s=e.querySelector(gh(i)))?(t.instance=s,an(s),s):(r=n,(s=cs.get(i))&&(r=Ct({},n),lE(r,s)),e=e.ownerDocument||e,s=e.createElement("script"),an(s),_n(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(j(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,sg(r,n.precedence,e));return t.instance}function sg(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function cE(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lE(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ig=null;function wA(e,t,n){if(ig===null){var r=new Map,s=ig=new Map;s.set(n,r)}else s=ig,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[ch]||i[Sn]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function bA(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function lR(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ZT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function uR(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=pu(r.href),i=t.querySelector(ph(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Yg.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,an(i);return}i=t.ownerDocument||t,r=YT(r),(s=cs.get(s))&&cE(r,s),i=i.createElement("link"),an(i);var a=i;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),_n(i,"link",r),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Yg.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ey=0;function fR(e,t){return e.stylesheets&&e.count===0&&ag(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ag(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Ey===0&&(Ey=62500*VM());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ag(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Ey?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(s)}}:null}function Yg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ag(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zg=null;function ag(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zg=new Map,t.forEach(dR,e),Zg=null,Yg.call(e))}function dR(e,t){if(!(t.state.loading&4)){var n=Zg.get(e);if(n)var r=n.get(null);else{n=new Map,Zg.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}s=t.instance,a=s.getAttribute("data-precedence"),i=n.get(a)||r,i===r&&n.set(null,s),n.set(a,s),this.count++,r=Yg.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Dd={$$typeof:Ri,Provider:null,Consumer:null,_currentValue:ec,_currentValue2:ec,_threadCount:0};function hR(e,t,n,r,s,i,a,o,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.hiddenUpdates=qm(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function XT(e,t,n,r,s,i,a,o,c,l,u,f){return e=new hR(e,t,n,a,c,l,u,f,o),t=1,i===!0&&(t|=24),i=Nr(3,null,null,t),e.current=i,i.stateNode=e,t=Rv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},kv(i),e}function QT(e){return e?(e=Rl,e):Rl}function JT(e,t,n,r,s,i){s=QT(s),r.context===null?r.context=s:r.pendingContext=s,r=Ga(t),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=Ya(e,r,t),n!==null&&(ur(n,e,t),Gf(n,e,t))}function vA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uE(e,t){vA(e,t),(e=e.alternate)&&vA(e,t)}function e4(e){if(e.tag===13||e.tag===31){var t=Oc(e,67108864);t!==null&&ur(t,e,67108864),uE(e,67108864)}}function EA(e){if(e.tag===13||e.tag===31){var t=Rr();t=Ev(t);var n=Oc(e,t);n!==null&&ur(n,e,t),uE(e,t)}}var Xg=!0;function pR(e,t,n,r){var s=we.T;we.T=null;var i=Ze.p;try{Ze.p=2,fE(e,t,n,r)}finally{Ze.p=i,we.T=s}}function gR(e,t,n,r){var s=we.T;we.T=null;var i=Ze.p;try{Ze.p=8,fE(e,t,n,r)}finally{Ze.p=i,we.T=s}}function fE(e,t,n,r){if(Xg){var s=Tb(r);if(s===null)by(e,t,r,Qg,n),SA(e,r);else if(yR(s,e,t,n,r))r.stopPropagation();else if(SA(e,r),t&4&&-1<mR.indexOf(e)){for(;s!==null;){var i=Du(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=Ro(i.pendingLanes);if(a!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-Mr(a);o.entanglements[1]|=c,a&=~c}li(i),!(Ye&6)&&(zg=Ur()+500,hh(0))}}break;case 31:case 13:o=Oc(i,2),o!==null&&ur(o,i,2),K0(),uE(i,2)}if(i=Tb(r),i===null&&by(e,t,r,Qg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else by(e,t,r,null,n)}}function Tb(e){return e=xv(e),dE(e)}var Qg=null;function dE(e){if(Qg=null,e=Tl(e),e!==null){var t=sh(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=vN(t),e!==null)return e;e=null}else if(n===31){if(e=EN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qg=e,null}function t4(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(t$()){case xN:return 2;case _N:return 8;case Ng:case n$:return 32;case NN:return 268435456;default:return 32}default:return 32}}var Ob=!1,Qa=null,Ja=null,eo=null,Ud=new Map,$d=new Map,Ua=[],mR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SA(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Ud.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(t.pointerId)}}function lf(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Du(t),t!==null&&e4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function yR(e,t,n,r,s){switch(t){case"focusin":return Qa=lf(Qa,e,t,n,r,s),!0;case"dragenter":return Ja=lf(Ja,e,t,n,r,s),!0;case"mouseover":return eo=lf(eo,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ud.set(i,lf(Ud.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,$d.set(i,lf($d.get(i)||null,e,t,n,r,s)),!0}return!1}function n4(e){var t=Tl(e.target);if(t!==null){var n=sh(t);if(n!==null){if(t=n.tag,t===13){if(t=vN(n),t!==null){e.blockedOn=t,aS(e.priority,function(){EA(n)});return}}else if(t===31){if(t=EN(n),t!==null){e.blockedOn=t,aS(e.priority,function(){EA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function og(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tb(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gw=r,n.target.dispatchEvent(r),Gw=null}else return t=Du(n),t!==null&&e4(t),e.blockedOn=n,!1;t.shift()}return!0}function AA(e,t,n){og(e)&&n.delete(t)}function wR(){Ob=!1,Qa!==null&&og(Qa)&&(Qa=null),Ja!==null&&og(Ja)&&(Ja=null),eo!==null&&og(eo)&&(eo=null),Ud.forEach(AA),$d.forEach(AA)}function sp(e,t){e.blockedOn===t&&(e.blockedOn=null,Ob||(Ob=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,wR)))}var ip=null;function CA(e){ip!==e&&(ip=e,en.unstable_scheduleCallback(en.unstable_NormalPriority,function(){ip===e&&(ip=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if(typeof r!="function"){if(dE(r||n)===null)continue;break}var i=Du(n);i!==null&&(e.splice(t,3),t-=3,ub(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function gu(e){function t(c){return sp(c,e)}Qa!==null&&sp(Qa,e),Ja!==null&&sp(Ja,e),eo!==null&&sp(eo,e),Ud.forEach(t),$d.forEach(t);for(var n=0;n<Ua.length;n++){var r=Ua[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ua.length&&(n=Ua[0],n.blockedOn===null);)n4(n),n.blockedOn===null&&Ua.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[dr]||null;if(typeof i=="function")a||CA(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[dr]||null)o=a.formAction;else if(dE(s)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),CA(n)}}}function r4(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function hE(e){this._internalRoot=e}Y0.prototype.render=hE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));var n=t.current,r=Rr();JT(n,r,e,t,null,null)};Y0.prototype.unmount=hE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;JT(e.current,2,null,e,null,null),K0(),t[Ou]=null}};function Y0(e){this._internalRoot=e}Y0.prototype.unstable_scheduleHydration=function(e){if(e){var t=UN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ua.length&&t!==0&&t<Ua[n].priority;n++);Ua.splice(n,0,e),n===0&&n4(e)}};var xA=wN.version;if(xA!=="19.2.3")throw Error(j(527,xA,"19.2.3"));Ze.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=GU(t),e=e!==null?SN(e):null,e=e===null?null:e.stateNode,e};var bR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:we,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ap.isDisabled&&ap.supportsFiber)try{ih=ap.inject(bR),$r=ap}catch{}}$0.createRoot=function(e,t){if(!bN(e))throw Error(j(299));var n=!1,r="",s=GI,i=YI,a=ZI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=XT(e,1,!1,null,null,n,r,null,s,i,a,r4),e[Ou]=t.current,oE(e),new hE(t)};$0.hydrateRoot=function(e,t,n){if(!bN(e))throw Error(j(299));var r=!1,s="",i=GI,a=YI,o=ZI,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=XT(e,1,!0,t,n??null,r,s,c,i,a,o,r4),t.context=QT(null),n=t.current,r=Rr(),r=Ev(r),s=Ga(r),s.callback=null,Ya(n,s,r),n=r,t.current.lanes=n,oh(t,n),li(t),e[Ou]=t.current,oE(e),new Y0(t)};$0.version="19.2.3";function s4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s4)}catch(e){console.error(e)}}s4(),gN.exports=$0;var vR=gN.exports;const ER=rh(vR),SR=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},AR=(e,t)=>({classGroupId:e,validator:t}),i4=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Jg="-",_A=[],CR="arbitrary..",xR=e=>{const t=NR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return _R(a);const o=a.split(Jg),c=o[0]===""&&o.length>1?1:0;return a4(o,c,t)},getConflictingClassGroupIds:(a,o)=>{if(o){const c=r[a],l=n[a];return c?l?SR(l,c):c:l||_A}return n[a]||_A}}},a4=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],i=n.nextPart.get(s);if(i){const l=a4(e,t+1,i);if(l)return l}const a=n.validators;if(a===null)return;const o=t===0?e.join(Jg):e.slice(t).join(Jg),c=a.length;for(let l=0;l<c;l++){const u=a[l];if(u.validator(o))return u.classGroupId}},_R=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?CR+r:void 0})(),NR=e=>{const{theme:t,classGroups:n}=e;return IR(n,t)},IR=(e,t)=>{const n=i4();for(const r in e){const s=e[r];pE(s,n,r,t)}return n},pE=(e,t,n,r)=>{const s=e.length;for(let i=0;i<s;i++){const a=e[i];TR(a,t,n,r)}},TR=(e,t,n,r)=>{if(typeof e=="string"){OR(e,t,n);return}if(typeof e=="function"){DR(e,t,n,r);return}UR(e,t,n,r)},OR=(e,t,n)=>{const r=e===""?t:o4(t,e);r.classGroupId=n},DR=(e,t,n,r)=>{if($R(e)){pE(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(AR(n,e))},UR=(e,t,n,r)=>{const s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[o,c]=s[a];pE(c,o4(t,o),n,r)}},o4=(e,t)=>{let n=e;const r=t.split(Jg),s=r.length;for(let i=0;i<s;i++){const a=r[i];let o=n.nextPart.get(a);o||(o=i4(),n.nextPart.set(a,o)),n=o}return n},$R=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,MR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(i,a)=>{n[i]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let a=n[i];if(a!==void 0)return a;if((a=r[i])!==void 0)return s(i,a),a},set(i,a){i in n?n[i]=a:s(i,a)}}},Db="!",NA=":",RR=[],IA=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),BR=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let a=0,o=0,c=0,l;const u=s.length;for(let g=0;g<u;g++){const b=s[g];if(a===0&&o===0){if(b===NA){i.push(s.slice(c,g)),c=g+1;continue}if(b==="/"){l=g;continue}}b==="["?a++:b==="]"?a--:b==="("?o++:b===")"&&o--}const f=i.length===0?s:s.slice(c);let d=f,h=!1;f.endsWith(Db)?(d=f.slice(0,-1),h=!0):f.startsWith(Db)&&(d=f.slice(1),h=!0);const p=l&&l>c?l-c:void 0;return IA(i,h,d,p)};if(t){const s=t+NA,i=r;r=a=>a.startsWith(s)?i(a.slice(s.length)):IA(RR,!1,a,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},LR=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const a=n[i],o=a[0]==="[",c=t.has(a);o||c?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(a)):s.push(a)}return s.length>0&&(s.sort(),r.push(...s)),r}},kR=e=>({cache:MR(e.cacheSize),parseClassName:BR(e),sortModifiers:LR(e),...xR(e)}),PR=/\s+/,jR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,a=[],o=e.trim().split(PR);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(u);if(f){c=u+(c.length>0?" "+c:c);continue}let b=!!g,y=r(b?p.substring(0,g):p);if(!y){if(!b){c=u+(c.length>0?" "+c:c);continue}if(y=r(p),!y){c=u+(c.length>0?" "+c:c);continue}b=!1}const m=d.length===0?"":d.length===1?d[0]:i(d).join(":"),w=h?m+Db:m,v=w+y;if(a.indexOf(v)>-1)continue;a.push(v);const _=s(y,b);for(let B=0;B<_.length;++B){const U=_[B];a.push(w+U)}c=u+(c.length>0?" "+c:c)}return c},zR=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=c4(n))&&(s&&(s+=" "),s+=r);return s},c4=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=c4(e[r]))&&(n&&(n+=" "),n+=t);return n},HR=(e,...t)=>{let n,r,s,i;const a=c=>{const l=t.reduce((u,f)=>f(u),e());return n=kR(l),r=n.cache.get,s=n.cache.set,i=o,o(c)},o=c=>{const l=r(c);if(l)return l;const u=jR(c,n);return s(c,u),u};return i=a,(...c)=>i(zR(...c))},FR=[],Wt=e=>{const t=n=>n[e]||FR;return t.isThemeGetter=!0,t},l4=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,u4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qR=/^\d+\/\d+$/,VR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xc=e=>qR.test(e),Ie=e=>!!e&&!Number.isNaN(Number(e)),ta=e=>!!e&&Number.isInteger(Number(e)),Sy=e=>e.endsWith("%")&&Ie(e.slice(0,-1)),bi=e=>VR.test(e),ZR=()=>!0,XR=e=>KR.test(e)&&!WR.test(e),f4=()=>!1,QR=e=>GR.test(e),JR=e=>YR.test(e),eB=e=>!ae(e)&&!oe(e),tB=e=>Lu(e,p4,f4),ae=e=>l4.test(e),_o=e=>Lu(e,g4,XR),Ay=e=>Lu(e,aB,Ie),TA=e=>Lu(e,d4,f4),nB=e=>Lu(e,h4,JR),op=e=>Lu(e,m4,QR),oe=e=>u4.test(e),uf=e=>ku(e,g4),rB=e=>ku(e,oB),OA=e=>ku(e,d4),sB=e=>ku(e,p4),iB=e=>ku(e,h4),cp=e=>ku(e,m4,!0),Lu=(e,t,n)=>{const r=l4.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ku=(e,t,n=!1)=>{const r=u4.exec(e);return r?r[1]?t(r[1]):n:!1},d4=e=>e==="position"||e==="percentage",h4=e=>e==="image"||e==="url",p4=e=>e==="length"||e==="size"||e==="bg-size",g4=e=>e==="length",aB=e=>e==="number",oB=e=>e==="family-name",m4=e=>e==="shadow",cB=()=>{const e=Wt("color"),t=Wt("font"),n=Wt("text"),r=Wt("font-weight"),s=Wt("tracking"),i=Wt("leading"),a=Wt("breakpoint"),o=Wt("container"),c=Wt("spacing"),l=Wt("radius"),u=Wt("shadow"),f=Wt("inset-shadow"),d=Wt("text-shadow"),h=Wt("drop-shadow"),p=Wt("blur"),g=Wt("perspective"),b=Wt("aspect"),y=Wt("ease"),m=Wt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...v(),oe,ae],B=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],D=()=>[oe,ae,c],x=()=>[Xc,"full","auto",...D()],A=()=>[ta,"none","subgrid",oe,ae],I=()=>["auto",{span:["full",ta,oe,ae]},ta,oe,ae],$=()=>[ta,"auto",oe,ae],L=()=>["auto","min","max","fr",oe,ae],P=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],S=()=>["start","end","center","stretch","center-safe","end-safe"],E=()=>["auto",...D()],O=()=>[Xc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],T=()=>[e,oe,ae],M=()=>[...v(),OA,TA,{position:[oe,ae]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",sB,tB,{size:[oe,ae]}],Z=()=>[Sy,uf,_o],W=()=>["","none","full",l,oe,ae],V=()=>["",Ie,uf,_o],te=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Ie,Sy,OA,TA],De=()=>["","none",p,oe,ae],ve=()=>["none",Ie,oe,ae],st=()=>["none",Ie,oe,ae],xt=()=>[Ie,oe,ae],Vn=()=>[Xc,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bi],breakpoint:[bi],color:[ZR],container:[bi],"drop-shadow":[bi],ease:["in","out","in-out"],font:[eB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bi],shadow:[bi],spacing:["px",Ie],text:[bi],"text-shadow":[bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xc,ae,oe,b]}],container:["container"],columns:[{columns:[Ie,ae,oe,o]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[ta,"auto",oe,ae]}],basis:[{basis:[Xc,"full","auto",o,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ie,Xc,"auto","initial","none",ae]}],grow:[{grow:["",Ie,oe,ae]}],shrink:[{shrink:["",Ie,oe,ae]}],order:[{order:[ta,"first","last","none",oe,ae]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...P(),"normal"]}],"justify-items":[{"justify-items":[...S(),"normal"]}],"justify-self":[{"justify-self":["auto",...S()]}],"align-content":[{content:["normal",...P()]}],"align-items":[{items:[...S(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...S(),{baseline:["","last"]}]}],"place-content":[{"place-content":P()}],"place-items":[{"place-items":[...S(),"baseline"]}],"place-self":[{"place-self":["auto",...S()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[o,"screen",...O()]}],"min-w":[{"min-w":[o,"screen","none",...O()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",n,uf,_o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,oe,Ay]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sy,ae]}],"font-family":[{font:[rB,ae,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,oe,ae]}],"line-clamp":[{"line-clamp":[Ie,"none",oe,Ay]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",oe,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oe,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ie,"from-font","auto",oe,_o]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Ie,"auto",oe,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ta,oe,ae],radial:["",oe,ae],conic:[ta,oe,ae]},iB,nB]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...te(),"hidden","none"]}],"divide-style":[{divide:[...te(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ie,oe,ae]}],"outline-w":[{outline:["",Ie,uf,_o]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",u,cp,op]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",f,cp,op]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Ie,_o]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",d,cp,op]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Ie,oe,ae]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ie]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[oe,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[Ie]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oe,ae]}],filter:[{filter:["","none",oe,ae]}],blur:[{blur:De()}],brightness:[{brightness:[Ie,oe,ae]}],contrast:[{contrast:[Ie,oe,ae]}],"drop-shadow":[{"drop-shadow":["","none",h,cp,op]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Ie,oe,ae]}],"hue-rotate":[{"hue-rotate":[Ie,oe,ae]}],invert:[{invert:["",Ie,oe,ae]}],saturate:[{saturate:[Ie,oe,ae]}],sepia:[{sepia:["",Ie,oe,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",oe,ae]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Ie,oe,ae]}],"backdrop-contrast":[{"backdrop-contrast":[Ie,oe,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ie,oe,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ie,oe,ae]}],"backdrop-invert":[{"backdrop-invert":["",Ie,oe,ae]}],"backdrop-opacity":[{"backdrop-opacity":[Ie,oe,ae]}],"backdrop-saturate":[{"backdrop-saturate":[Ie,oe,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",Ie,oe,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oe,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ie,"initial",oe,ae]}],ease:[{ease:["linear","initial",y,oe,ae]}],delay:[{delay:[Ie,oe,ae]}],animate:[{animate:["none",m,oe,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,oe,ae]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:st()}],"scale-x":[{"scale-x":st()}],"scale-y":[{"scale-y":st()}],"scale-z":[{"scale-z":st()}],"scale-3d":["scale-3d"],skew:[{skew:xt()}],"skew-x":[{"skew-x":xt()}],"skew-y":[{"skew-y":xt()}],transform:[{transform:[oe,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vn()}],"translate-x":[{"translate-x":Vn()}],"translate-y":[{"translate-y":Vn()}],"translate-z":[{"translate-z":Vn()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe,ae]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Ie,uf,_o,Ay]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lB=HR(cB);function uB(...e){return lB(qU(e))}function fB(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:""}function nce(e,t=18){const n=typeof e=="bigint"?Number(e)/10**t:e;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}const DA=({children:e,variant:t="primary",size:n="md",isLoading:r=!1,className:s,disabled:i,...a})=>{const o="font-medium rounded-md transition-material focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-38 disabled:cursor-not-allowed uppercase tracking-wide text-xs font-semibold relative overflow-hidden",c={primary:"bg-gradient-to-r from-primary to-[#06B6D4] text-white elevation-2 hover:elevation-3 active:elevation-1 hover:from-primary-dark hover:to-[#0891B2]",secondary:"bg-white text-primary border border-primary/20 hover:bg-primary/5 hover:border-primary/40 elevation-1 hover:elevation-2",outline:"bg-transparent text-foreground border border-gray-300 hover:border-primary hover:text-primary hover:bg-primary/5",text:"bg-transparent text-primary hover:bg-primary/10 active:bg-primary/20"},l={sm:"px-4 py-2 text-xs min-h-[32px]",md:"px-6 py-3 text-sm min-h-[40px]",lg:"px-8 py-4 text-base min-h-[48px]"};return Y.jsx("button",{className:uB(o,c[t],l[n],s),disabled:i||r,...a,children:r?Y.jsxs("span",{className:"flex items-center justify-center gap-2",children:[Y.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):e})},y4={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(y4);class dB extends Error{constructor(t){super();let n=t.message,r=`Error Code: ${t.code}`,s=this.stack;if(s)r+=`Stack Trace:
${s}`;else try{throw new Error}catch(i){s=i.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${r}`,this.message=n,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class gE extends dB{constructor(t){super({code:y4.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}}function fo(e,t){return mE(Fn(e),t)}function Fn(e){if(typeof e=="bigint")return e;if(typeof e=="string")return BigInt(e);if(typeof e=="number"){if(!Number.isInteger(e))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(e>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(e)}if(pr(e,Uint8Array))return BigInt(`0x${Ce(e)}`);throw new TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function hB(e){return/^0x/i.test(e)?e.slice(2):e}function UA(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}function mh(e,t=8){return(typeof e=="bigint"?e:Fn(e)).toString(16).padStart(t*2,"0")}function Z0(e){return parseInt(e,16)}function mE(e,t=16){const n=mh(e,t);return dt(n)}function pB(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}function gB(e,t){return e&BigInt(1)<<t}function Ub(e){return mB(BigInt(`0x${Ce(e)}`),BigInt(e.byteLength*8))}function mB(e,t){return gB(e,t-BigInt(1))?e-(BigInt(1)<<t):e}const yB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ce(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(const n of e)t+=yB[n];return t}function dt(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);e=hB(e),e=e.length%2?`0${e}`:e;const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function Pu(e){return new TextEncoder().encode(e)}function X0(e){return new TextDecoder().decode(e)}function wB(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function bB(e){return String.fromCharCode.apply(null,e)}function vB(e){return!Number.isInteger(e)||e<0||e>255}function $A(e){if(e.some(vB))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}function Q0(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function Pt(e){return Q0(...e.map(t=>typeof t=="number"?$A([t]):t instanceof Array?$A(t):t))}function pr(e,t){var n,r;return e instanceof t||((r=(n=e==null?void 0:e.constructor)==null?void 0:n.name)==null?void 0:r.toLowerCase())===t.name}const EB="https://api.mainnet.hiro.so",SB="https://api.testnet.hiro.so",AB="http://localhost:3999",CB=33,Cy=32;function xB(e){if(e.length<Cy*2*2+1)throw new Error("Invalid signature");const t=e.slice(0,2),n=e.slice(2,2+Cy*2),r=e.slice(2+Cy*2);return{recoveryId:Z0(t),r:n,s:r}}function w4(e){const t=typeof e=="string"?dt(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}function _B(e,t){return(e[t+0]<<8|e[t+1])>>>0}function NB(e,t,n=0){return e[n+0]=t>>>8,e[n+1]=t>>>0,e}function IB(e,t){return e[t]}function TB(e,t,n=0){return e[n]=t,e}function OB(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}function pc(e,t,n=0){return e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t,e}const DB={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function UB(e,t){const n={};return Object.assign(n,DB,t),await fetch(e,n)}function $B(e){let t=UB,n=[];return e.length>0&&typeof e[0]=="function"&&(t=e.shift()),e.length>0&&(n=e),{fetchLib:t,middlewares:n}}function MB(...e){const{fetchLib:t,middlewares:n}=$B(e);return async(s,i)=>{let a={url:s,init:i??{}};for(const c of n)typeof c.pre=="function"&&(a=await Promise.resolve(c.pre({fetch:t,...a}))??a);let o=await t(a.url,a.init);for(const c of n)typeof c.post=="function"&&(o=await Promise.resolve(c.post({fetch:t,url:a.url,init:a.init,response:(o==null?void 0:o.clone())??o}))??o);return o}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function b4(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function RB(e,...t){if(!b4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function v4(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function Md(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function yE(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function $b(e){if(!Array.isArray(e))throw new Error("array expected")}function e0(e,t){if(!v4(!0,t))throw new Error(`${e}: array of strings expected`)}function BB(e,t){if(!v4(!1,t))throw new Error(`${e}: array of numbers expected`)}function LB(...e){const t=i=>i,n=(i,a)=>o=>i(a(o)),r=e.map(i=>i.encode).reduceRight(n,t),s=e.map(i=>i.decode).reduce(n,t);return{encode:r,decode:s}}function kB(e){const t=typeof e=="string"?e.split(""):e,n=t.length;e0("alphabet",t);const r=new Map(t.map((s,i)=>[s,i]));return{encode:s=>($b(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${e}`);return t[i]})),decode:s=>($b(s),s.map(i=>{Md("alphabet.decode",i);const a=r.get(i);if(a===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${e}`);return a}))}}function PB(e=""){return Md("join",e),{encode:t=>(e0("join.decode",t),t.join(e)),decode:t=>(Md("join.decode",t),t.split(e))}}function jB(e,t="="){return yE(e),Md("padding",t),{encode(n){for(e0("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){e0("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const E4=(e,t)=>t===0?e:E4(t,e%t),t0=(e,t)=>e+(t-E4(e,t)),xy=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function MA(e,t,n,r){if($b(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(t0(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${t0(t,n)}`);let s=0,i=0;const a=xy[t],o=xy[n]-1,c=[];for(const l of e){if(yE(l),l>=a)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(s=s<<t|l,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((s>>i-n&o)>>>0);const u=xy[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&o,!r&&i>=t)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function zB(e,t=!1){if(yE(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(t0(8,e)>32||t0(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!b4(n))throw new Error("radix2.encode input should be Uint8Array");return MA(Array.from(n),8,e,!t)},decode:n=>(BB("radix2.decode",n),Uint8Array.from(MA(n,e,8,t)))}}const HB=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",FB=(e,t)=>{Md("base64",e);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},S4=HB?{encode(e){return RB(e),e.toBase64()},decode(e){return FB(e)}}:LB(zB(6),kB("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),jB(6),PB("")),A4="STX_PROVIDER",C4=()=>typeof window>"u"?null:window.localStorage.getItem(A4),qB=e=>{typeof window<"u"&&window.localStorage.setItem(A4,e)},VB=()=>{if(typeof window>"u")return[];const e=window.webbtc_stx_providers||[],t=window.wbip_providers||[];return[...e,...t]},KB=(e=[])=>{if(typeof window>"u")return[];const t=VB(),n=e.filter(r=>t.find(i=>i.id===r.id)?!1:!!J0(r.id));return t.concat(n)},WB=()=>{const e=C4();return J0(e)},J0=e=>e==null?void 0:e.split(".").reduce((t,n)=>t==null?void 0:t[n],window),GB="connect-ui",n0={hydratedSelectorName:"hydrated",lazyLoad:!0,updatable:!0,watchCallback:!1};var YB=Object.defineProperty,ZB=(e,t)=>{for(var n in t)YB(e,n,{get:t[n],enumerable:!0})},XB="http://www.w3.org/2000/svg",QB="http://www.w3.org/1999/xhtml",Ts=e=>{if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},rce=(e,t)=>{e.__stencil__getHostRef=()=>t,t.$lazyInstance$=e},JB=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(s=>n.$onReadyResolve$=s),e["s-p"]=[],e["s-rc"]=[];const r=n;return e.__stencil__getHostRef=()=>r,r},RA=(e,t)=>t in e,mu=(e,t)=>(0,console.error)(e,t),_y=new Map,eL=(e,t,n)=>{const r=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$;if(!s)return;const i=_y.get(s);if(i)return i[r];{const a=o=>(_y.set(s,o),o[r]);switch(s){case"connect-modal":return Hn(()=>import("./connect-modal.entry-bx0NUK08.js"),__vite__mapDeps([0,1,2,3,4])).then(a,mu)}}return Hn(()=>import(`./${s}.entry.js`),[]).then(a=>(_y.set(s,a),a[r]),a=>{mu(a,t.$hostElement$)})},r0=new Map,tL="{visibility:hidden}.hydrated{visibility:inherit}",x4="slot-fb{display:contents}slot-fb[hidden]{display:none}",En=typeof window<"u"?window:{},yn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},nL=e=>Promise.resolve(e),wE=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Mb=wE?!!En.document&&Object.getOwnPropertyDescriptor(En.document.adoptedStyleSheets,"length").writable:!1,Rb=!1,BA=[],_4=[],rL=(e,t)=>n=>{e.push(n),Rb||(Rb=!0,yn.$flags$&4?bE(Bb):yn.raf(Bb))},LA=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){mu(n)}e.length=0},Bb=()=>{LA(BA),LA(_4),(Rb=BA.length>0)&&yn.raf(Bb)},bE=e=>nL().then(e),sL=rL(_4),vE=e=>(e=typeof e,e==="object"||e==="function");function N4(e){var t,n,r;return(r=(n=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var iL=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),aL={};ZB(aL,{err:()=>I4,map:()=>oL,ok:()=>Lb,unwrap:()=>cL,unwrapErr:()=>lL});var Lb=e=>({isOk:!0,isErr:!1,value:e}),I4=e=>({isOk:!1,isErr:!0,value:e});function oL(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then(r=>Lb(r)):Lb(n)}if(e.isErr){const n=e.value;return I4(n)}throw"should never get here"}var cL=e=>{if(e.isOk)return e.value;throw e.value},lL=e=>{if(e.isErr)return e.value;throw e.value};var ff;function uL(e){var t;const n=this.attachShadow({mode:"open"});ff===void 0&&(ff=(t=void 0)!=null?t:null),ff&&(Mb?n.adoptedStyleSheets.push(ff):n.adoptedStyleSheets=[...n.adoptedStyleSheets,ff])}var Zi=(e,t="")=>()=>{},fL=(e,t)=>()=>{},Pl=new WeakMap,dL=(e,t,n)=>{let r=r0.get(e);wE&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,r0.set(e,r)},hL=(e,t,n)=>{var r;const s=T4(t),i=r0.get(s);if(!En.document)return s;if(e=e.nodeType===11?e:En.document,i)if(typeof i=="string"){e=e.head||e;let a=Pl.get(e),o;if(a||Pl.set(e,a=new Set),!a.has(s)){{o=En.document.createElement("style"),o.innerHTML=i;const c=(r=yn.$nonce$)!=null?r:N4(En.document);if(c!=null&&o.setAttribute("nonce",c),!(t.$flags$&1))if(e.nodeName==="HEAD"){const l=e.querySelectorAll("link[rel=preconnect]"),u=l.length>0?l[l.length-1].nextSibling:e.querySelector("style");e.insertBefore(o,(u==null?void 0:u.parentNode)===e?u:null)}else if("host"in e)if(wE){const l=new CSSStyleSheet;l.replaceSync(i),Mb?e.adoptedStyleSheets.unshift(l):e.adoptedStyleSheets=[l,...e.adoptedStyleSheets]}else{const l=e.querySelector("style");l?l.innerHTML=i+l.innerHTML:e.prepend(o)}else e.append(o);t.$flags$&1&&e.insertBefore(o,null)}t.$flags$&4&&(o.innerHTML+=x4),a&&a.add(s)}}else e.adoptedStyleSheets.includes(i)||(Mb?e.adoptedStyleSheets.push(i):e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return s},pL=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,s=Zi("attachStyles",t.$tagName$),i=hL(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);r&10&&(n["s-sc"]=i,n.classList.add(i+"-h")),s()},T4=(e,t)=>"sc-"+e.$tagName$,gL=(e,t,...n)=>{let r=null,s=null,i=!1,a=!1;const o=[],c=u=>{for(let f=0;f<u.length;f++)r=u[f],Array.isArray(r)?c(r):r!=null&&typeof r!="boolean"&&((i=typeof e!="function"&&!vE(r))&&(r=String(r)),i&&a?o[o.length-1].$text$+=r:o.push(i?kb(null,r):r),a=i)};if(c(n),t){t.key&&(s=t.key);{const u=t.className||t.class;u&&(t.class=typeof u!="object"?u:Object.keys(u).filter(f=>u[f]).join(" "))}}const l=kb(e,null);return l.$attrs$=t,o.length>0&&(l.$children$=o),l.$key$=s,l},kb=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},mL={},yL=e=>e&&e.$tag$===mL,EE=e=>{const t=iL(e);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${t}))(${t}\\b)`,"g")};EE("::slotted");EE(":host");EE(":host-context");var Pb=(e,t,n)=>{if(typeof e=="string"&&(t&16||t&8)&&(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")))try{return JSON.parse(e)}catch{}return e!=null&&!vE(e),e},sce=e=>{var t;return(t=Ts(e))==null?void 0:t.$hostElement$},wL=(e,t,n)=>{const r=yn.ce(t,n);return e.dispatchEvent(r),r},kA=(e,t,n,r,s,i,a)=>{if(n===r)return;let o=RA(e,t),c=t.toLowerCase();if(t==="class"){const l=e.classList,u=PA(n);let f=PA(r);l.remove(...u.filter(d=>d&&!f.includes(d))),l.add(...f.filter(d=>d&&!u.includes(d)))}else if(t!=="key")if(!o&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):RA(En,c)?t=c.slice(2):t=c[2]+t.slice(3),n||r){const l=t.endsWith(O4);t=t.replace(vL,""),n&&yn.rel(e,t,n,l),r&&yn.ael(e,t,r,l)}}else{const l=vE(r);if((o||l&&r!==null)&&!s)try{if(e.tagName.includes("-"))e[t]!==r&&(e[t]=r);else{const u=r??"";t==="list"?o=!1:(n==null||e[t]!=u)&&(typeof e.__lookupSetter__(t)=="function"?e[t]=u:e.setAttribute(t,u))}}catch{}r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!o||i&4||s)&&!l&&e.nodeType===1&&(r=r===!0?"":r,e.setAttribute(t,r))}},bL=/\s/,PA=e=>(typeof e=="object"&&e&&"baseVal"in e&&(e=e.baseVal),!e||typeof e!="string"?[]:e.split(bL)),O4="Capture",vL=new RegExp(O4+"$"),D4=(e,t,n,r)=>{const s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||{},a=t.$attrs$||{};for(const o of jA(Object.keys(i)))o in a||kA(s,o,i[o],void 0,n,t.$flags$);for(const o of jA(Object.keys(a)))kA(s,o,i[o],a[o],n,t.$flags$)};function jA(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var SE,Ar=!1,s0=(e,t,n)=>{const r=t.$children$[n];let s=0,i,a;if(r.$text$!==null)i=r.$elm$=En.document.createTextNode(r.$text$);else{if(Ar||(Ar=r.$tag$==="svg"),!En.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(i=r.$elm$=En.document.createElementNS(Ar?XB:QB,r.$tag$),Ar&&r.$tag$==="foreignObject"&&(Ar=!1),D4(null,r,Ar),r.$children$)for(s=0;s<r.$children$.length;++s)a=s0(e,r,s),a&&i.appendChild(a);r.$tag$==="svg"?Ar=!1:i.tagName==="foreignObject"&&(Ar=!0)}return i["s-hn"]=SE,i},U4=(e,t,n,r,s,i)=>{let a=e,o;for(a.shadowRoot&&a.tagName===SE&&(a=a.shadowRoot);s<=i;++s)r[s]&&(o=s0(null,n,s),o&&(r[s].$elm$=o,cg(a,o,t)))},$4=(e,t,n)=>{for(let r=t;r<=n;++r){const s=e[r];if(s){const i=s.$elm$;i&&i.remove()}}},EL=(e,t,n,r,s=!1)=>{let i=0,a=0,o=0,c=0,l=t.length-1,u=t[0],f=t[l],d=r.length-1,h=r[0],p=r[d],g,b;for(;i<=l&&a<=d;)if(u==null)u=t[++i];else if(f==null)f=t[--l];else if(h==null)h=r[++a];else if(p==null)p=r[--d];else if(lp(u,h,s))El(u,h,s),u=t[++i],h=r[++a];else if(lp(f,p,s))El(f,p,s),f=t[--l],p=r[--d];else if(lp(u,p,s))El(u,p,s),cg(e,u.$elm$,f.$elm$.nextSibling),u=t[++i],p=r[--d];else if(lp(f,h,s))El(f,h,s),cg(e,f.$elm$,u.$elm$),f=t[--l],h=r[++a];else{for(o=-1,c=i;c<=l;++c)if(t[c]&&t[c].$key$!==null&&t[c].$key$===h.$key$){o=c;break}o>=0?(b=t[o],b.$tag$!==h.$tag$?g=s0(t&&t[a],n,o):(El(b,h,s),t[o]=void 0,g=b.$elm$),h=r[++a]):(g=s0(t&&t[a],n,a),h=r[++a]),g&&cg(u.$elm$.parentNode,g,u.$elm$)}i>l?U4(e,r[d+1]==null?null:r[d+1].$elm$,n,r,a,d):a>d&&$4(t,i,l)},lp=(e,t,n=!1)=>e.$tag$===t.$tag$?n?(n&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$:!1,El=(e,t,n=!1)=>{const r=t.$elm$=e.$elm$,s=e.$children$,i=t.$children$,a=t.$tag$,o=t.$text$;o===null?(Ar=a==="svg"?!0:a==="foreignObject"?!1:Ar,D4(e,t,Ar),s!==null&&i!==null?EL(r,s,t,i,n):i!==null?(e.$text$!==null&&(r.textContent=""),U4(r,null,t,i,0,i.length-1)):!n&&n0.updatable&&s!==null&&$4(s,0,s.length-1),Ar&&a==="svg"&&(Ar=!1)):e.$text$!==o&&(r.data=o)},cg=(e,t,n)=>e==null?void 0:e.insertBefore(t,n),SL=(e,t,n=!1)=>{const r=e.$hostElement$,s=e.$vnode$||kb(null,null),a=yL(t)?t:gL(null,null,t);if(SE=r.tagName,n&&a.$attrs$)for(const o of Object.keys(a.$attrs$))r.hasAttribute(o)&&!["key","ref","style","class"].includes(o)&&(a.$attrs$[o]=r[o]);a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=s.$elm$=r.shadowRoot||r,El(s,a,n)},M4=(e,t)=>{if(t&&!e.$onRenderResolve$&&t["s-p"]){const n=t["s-p"].push(new Promise(r=>e.$onRenderResolve$=()=>{t["s-p"].splice(n-1,1),r()}))}},AE=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}M4(e,e.$ancestorComponent$);const n=()=>AL(e,t);if(t){queueMicrotask(()=>{n()});return}return sL(n)},AL=(e,t)=>{const n=e.$hostElement$,r=Zi("scheduleUpdate",e.$cmpMeta$.$tagName$),s=e.$lazyInstance$;if(!s)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let i;return t?i=to(s,"componentWillLoad",void 0,n):i=to(s,"componentWillUpdate",void 0,n),i=zA(i,()=>to(s,"componentWillRender",void 0,n)),r(),zA(i,()=>xL(e,s,t))},zA=(e,t)=>CL(e)?e.then(t).catch(n=>{console.error(n),t()}):t(),CL=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",xL=async(e,t,n)=>{var r;const s=e.$hostElement$,i=Zi("update",e.$cmpMeta$.$tagName$),a=s["s-rc"];n&&pL(e);const o=Zi("render",e.$cmpMeta$.$tagName$);_L(e,t,s,n),a&&(a.map(c=>c()),s["s-rc"]=void 0),o(),i();{const c=(r=s["s-p"])!=null?r:[],l=()=>NL(e);c.length===0?l():(Promise.all(c).then(l),e.$flags$|=4,c.length=0)}},_L=(e,t,n,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,SL(e,t,r)}catch(s){mu(s,e.$hostElement$)}return null},NL=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,r=Zi("postUpdate",t),s=e.$lazyInstance$,i=e.$ancestorComponent$;to(s,"componentDidRender",void 0,n),e.$flags$&64?(to(s,"componentDidUpdate",void 0,n),r()):(e.$flags$|=64,IL(n),to(s,"componentDidLoad",void 0,n),r(),e.$onReadyResolve$(n),i||R4()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&bE(()=>AE(e,!1)),e.$flags$&=-517},R4=e=>{bE(()=>wL(En,"appload",{detail:{namespace:GB}}))},to=(e,t,n,r)=>{if(e&&e[t])try{return e[t](n)}catch(s){mu(s,r)}},IL=e=>{var t;return e.classList.add((t=n0.hydratedSelectorName)!=null?t:"hydrated")},TL=(e,t)=>Ts(e).$instanceValues$.get(t),Ny=(e,t,n,r)=>{const s=Ts(e);if(!s)return;if(!s)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const i=s.$instanceValues$.get(t),a=s.$flags$,o=s.$lazyInstance$;n=Pb(n,r.$members$[t][0]);const c=Number.isNaN(i)&&Number.isNaN(n),l=n!==i&&!c;if((!(a&8)||i===void 0)&&l&&(s.$instanceValues$.set(t,n),o&&(a&18)===2)){if(o.componentShouldUpdate&&o.componentShouldUpdate(n,i,t)===!1)return;AE(s,!1)}},B4=(e,t,n)=>{var r,s;const i=e.prototype;if(t.$members$||n0.watchCallback){const a=Object.entries((r=t.$members$)!=null?r:{});if(a.map(([o,[c]])=>{if(c&31||n&2&&c&32){const{get:l,set:u}=Object.getOwnPropertyDescriptor(i,o)||{};l&&(t.$members$[o][0]|=2048),u&&(t.$members$[o][0]|=4096),(n&1||!l)&&Object.defineProperty(i,o,{get(){{if(!(t.$members$[o][0]&2048))return TL(this,o);const f=Ts(this),d=f?f.$lazyInstance$:i;return d?d[o]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(i,o,{set(f){const d=Ts(this);if(d){if(u){const h=c&32?this[o]:d.$hostElement$[o];typeof h>"u"&&d.$instanceValues$.get(o)?f=d.$instanceValues$.get(o):!d.$instanceValues$.get(o)&&h&&d.$instanceValues$.set(o,h),u.apply(this,[Pb(f,c)]),f=c&32?this[o]:d.$hostElement$[o],Ny(this,o,f,t);return}{if(!(n&1)||!(t.$members$[o][0]&4096)){Ny(this,o,f,t),n&1&&!d.$lazyInstance$&&d.$onReadyPromise$.then(()=>{t.$members$[o][0]&4096&&d.$lazyInstance$[o]!==d.$instanceValues$.get(o)&&(d.$lazyInstance$[o]=f)});return}const h=()=>{const p=d.$lazyInstance$[o];!d.$instanceValues$.get(o)&&p&&d.$instanceValues$.set(o,p),d.$lazyInstance$[o]=Pb(f,c),Ny(this,o,d.$lazyInstance$[o],t)};d.$lazyInstance$?h():d.$onReadyPromise$.then(()=>h())}}}})}}),n&1){const o=new Map;i.attributeChangedCallback=function(c,l,u){yn.jmp(()=>{var f;const d=o.get(c);if(this.hasOwnProperty(d)&&n0.lazyLoad)u=this[d],delete this[d];else{if(i.hasOwnProperty(d)&&typeof this[d]=="number"&&this[d]==u)return;if(d==null){const p=Ts(this),g=p==null?void 0:p.$flags$;if(p&&g&&!(g&8)&&g&128&&u!==l){const b=p.$lazyInstance$,y=(f=t.$watchers$)==null?void 0:f[c];y==null||y.forEach(m=>{b[m]!=null&&b[m].call(b,u,l,c)})}return}}const h=Object.getOwnPropertyDescriptor(i,d);u=u===null&&typeof this[d]=="boolean"?!1:u,u!==this[d]&&(!h.get||h.set)&&(this[d]=u)})},e.observedAttributes=Array.from(new Set([...Object.keys((s=t.$watchers$)!=null?s:{}),...a.filter(([c,l])=>l[0]&31).map(([c,l])=>{const u=l[1]||c;return o.set(u,c),u})]))}}return e},OL=async(e,t,n,r)=>{let s;if(!(t.$flags$&32)){if(t.$flags$|=32,n.$lazyBundleId$){const c=eL(n,t);if(c&&"then"in c){const u=fL();s=await c,u()}else s=c;if(!s)throw new Error(`Constructor for "${n.$tagName$}#${t.$modeName$}" was not found`);s.isProxied||(B4(s,n,2),s.isProxied=!0);const l=Zi("createInstance",n.$tagName$);t.$flags$|=8;try{new s(t)}catch(u){mu(u,e)}t.$flags$&=-9,l(),jb(t.$lazyInstance$,e)}else{s=e.constructor;const c=e.localName;customElements.whenDefined(c).then(()=>t.$flags$|=128)}if(s&&s.style){let c;typeof s.style=="string"&&(c=s.style);const l=T4(n);if(!r0.has(l)){const u=Zi("registerStyles",n.$tagName$);dL(l,c,!!(n.$flags$&1)),u()}}}const i=t.$ancestorComponent$,a=()=>AE(t,!0);i&&i["s-rc"]?i["s-rc"].push(a):a()},jb=(e,t)=>{to(e,"connectedCallback",void 0,t)},DL=e=>{if(!(yn.$flags$&1)){const t=Ts(e);if(!t)return;const n=t.$cmpMeta$,r=Zi("connectedCallback",n.$tagName$);if(t.$flags$&1)t!=null&&t.$lazyInstance$?jb(t.$lazyInstance$,e):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>jb(t.$lazyInstance$,e));else{t.$flags$|=1;{let s=e;for(;s=s.parentNode||s.host;)if(s["s-p"]){M4(t,t.$ancestorComponent$=s);break}}n.$members$&&Object.entries(n.$members$).map(([s,[i]])=>{if(i&31&&e.hasOwnProperty(s)){const a=e[s];delete e[s],e[s]=a}}),OL(e,t,n)}r()}},HA=(e,t)=>{to(e,"disconnectedCallback",void 0,t||e)},UL=async e=>{if(!(yn.$flags$&1)){const t=Ts(e);t!=null&&t.$lazyInstance$?HA(t.$lazyInstance$,e):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>HA(t.$lazyInstance$,e))}Pl.has(e)&&Pl.delete(e),e.shadowRoot&&Pl.has(e.shadowRoot)&&Pl.delete(e.shadowRoot)},$L=(e,t={})=>{var n;if(!En.document){console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");return}const r=Zi(),s=[],i=t.exclude||[],a=En.customElements,o=En.document.head,c=o.querySelector("meta[charset]"),l=En.document.createElement("style"),u=[];let f,d=!0;Object.assign(yn,t),yn.$resourcesUrl$=new URL(t.resourcesUrl||"./",En.document.baseURI).href;let h=!1;if(e.map(p=>{p[1].map(g=>{const b={$flags$:g[0],$tagName$:g[1],$members$:g[2],$listeners$:g[3]};b.$flags$&4&&(h=!0),b.$members$=g[2];const y=b.$tagName$,m=class extends HTMLElement{constructor(w){if(super(w),this.hasRegisteredEventListeners=!1,w=this,JB(w,b),b.$flags$&1){if(!w.shadowRoot)uL.call(w,b);else if(w.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${b.$tagName$}! Mode is set to ${w.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}connectedCallback(){Ts(this)&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),f&&(clearTimeout(f),f=null),d?u.push(this):yn.jmp(()=>DL(this)))}disconnectedCallback(){yn.jmp(()=>UL(this)),yn.raf(()=>{var w;const v=Ts(this);if(!v)return;const _=u.findIndex(B=>B===this);_>-1&&u.splice(_,1),((w=v==null?void 0:v.$vnode$)==null?void 0:w.$elm$)instanceof Node&&!v.$vnode$.$elm$.isConnected&&delete v.$vnode$.$elm$})}componentOnReady(){var w;return(w=Ts(this))==null?void 0:w.$onReadyPromise$}};b.$lazyBundleId$=p[0],!i.includes(y)&&!a.get(y)&&(s.push(y),a.define(y,B4(m,b,1)))})}),s.length>0&&(h&&(l.textContent+=x4),l.textContent+=s.sort()+tL,l.innerHTML.length)){l.setAttribute("data-styles","");const p=(n=yn.$nonce$)!=null?n:N4(En.document);p!=null&&l.setAttribute("nonce",p),o.insertBefore(l,c?c.nextSibling:o.firstChild)}d=!1,u.length?u.map(p=>p.connectedCallback()):yn.jmp(()=>f=setTimeout(R4,30)),r()};const ML=()=>{},RL=async(e,t)=>{if(!(typeof window>"u"))return await ML(),$L([["connect-modal",[[257,"connect-modal",{defaultProviders:[16,"default-providers"],installedProviders:[16,"installed-providers"],callback:[16],cancelCallback:[16,"cancel-callback"]}]]]],t)};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();function BL(e){const t=Object.values(e).filter(r=>typeof r=="number"),n=new Set(t);return r=>n.has(r)}const FA=new Map;function L4(e,t){const n=FA.get(e);if(n!==void 0)return n(t);const r=BL(e);return FA.set(e,r),L4(e,t)}class wt{constructor(t){this.consumed=0,this.source=typeof t=="string"?dt(t):t}readBytes(t){const n=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,n}readUInt32BE(){return OB(this.readBytes(4),0)}readUInt8(){return IB(this.readBytes(1),0)}readUInt16BE(){return _B(this.readBytes(2),0)}readBigUIntLE(t){const n=this.readBytes(t).slice().reverse(),r=Ce(n);return BigInt(`0x${r}`)}readBigUIntBE(t){const n=this.readBytes(t),r=Ce(n);return BigInt(`0x${r}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,n){const r=this.readUInt8();if(L4(t,r))return r;throw n(r)}}var Rd;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Testnet=2147483648]="Testnet"})(Rd||(Rd={}));var i0;(function(e){e[e.Mainnet=385875968]="Mainnet",e[e.Testnet=4278190080]="Testnet"})(i0||(i0={}));Rd.Mainnet;var gc;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(gc||(gc={}));var mc;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(mc||(mc={}));gc.Mainnet;const LL={chainId:Rd.Mainnet,transactionVersion:gc.Mainnet,peerNetworkId:i0.Mainnet,magicBytes:"X2",bootAddress:"SP000000000000000000002Q6VF78",addressVersion:{singleSig:mc.MainnetSingleSig,multiSig:mc.MainnetMultiSig},client:{baseUrl:EB}},zb={chainId:Rd.Testnet,transactionVersion:gc.Testnet,peerNetworkId:i0.Testnet,magicBytes:"T2",bootAddress:"ST000000000000000000002AMW42H",addressVersion:{singleSig:mc.TestnetSingleSig,multiSig:mc.TestnetMultiSig},client:{baseUrl:SB}},lg={...zb,addressVersion:{...zb.addressVersion},magicBytes:"id",client:{baseUrl:AB}},kL={...lg,addressVersion:{...lg.addressVersion},client:{...lg.client}};function PL(e){switch(e){case"mainnet":return LL;case"testnet":return zb;case"devnet":return lg;case"mocknet":return kL;default:throw new Error(`Unknown network name: ${e}`)}}function jL(e){return typeof e=="string"?PL(e):e}function ice(e){return e.client.fetch?e.client:{...e.client,fetch:MB()}}const zL=128,HL=128,k4=16,ic=32,Hb=80,em=65,FL=32,qL=64,a0=34,VL=1+16*1024*1024,KL=165,WL=16,GL=16,YL=20,ZL=GL+2+YL,XL=ZL+4,QL=VL+(KL+WL*XL);var Qe;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(Qe||(Qe={}));var Fb;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3",e[e.Clarity4=4]="Clarity4"})(Fb||(Fb={}));var vr;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(vr||(vr={}));const Iy=["onChainOnly","offChainOnly","any"];Iy[0]+"",vr.OnChainOnly,Iy[1]+"",vr.OffChainOnly,Iy[2]+"",vr.Any,vr.OnChainOnly+"",vr.OnChainOnly,vr.OffChainOnly+"",vr.OffChainOnly,vr.Any+"",vr.Any;var yu;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(yu||(yu={}));var wn;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(wn||(wn={}));var $t;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})($t||($t={}));var ft;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2WPKH=2]="P2WPKH",e[e.P2WSH=3]="P2WSH",e[e.P2SHNonSequential=5]="P2SHNonSequential",e[e.P2WSHNonSequential=7]="P2WSHNonSequential"})(ft||(ft={}));var Ot;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(Ot||(Ot={}));var o0;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(o0||(o0={}));var qb;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(qb||(qb={}));var Br;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(Br||(Br={}));var qA;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(qA||(qA={}));var Vb;(function(e){e[e.BlockFound=0]="BlockFound",e[e.Extended=1]="Extended",e[e.ExtendedRuntime=2]="ExtendedRuntime",e[e.ExtendedReadCount=3]="ExtendedReadCount",e[e.ExtendedReadLength=4]="ExtendedReadLength",e[e.ExtendedWriteCount=5]="ExtendedWriteCount",e[e.ExtendedWriteLength=6]="ExtendedWriteLength"})(Vb||(Vb={}));var xs;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(xs||(xs={}));var VA;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(VA||(VA={}));let tm=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},jl=class extends tm{constructor(t){super(t)}};class Or extends tm{constructor(t){super(t)}}class c0 extends tm{constructor(t){super(t)}}class Ko extends tm{constructor(t){super(t)}}function Kb(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function JL(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function P4(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ek(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Kb(e.outputLen),Kb(e.blockLen)}function tk(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function nk(e,t){P4(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Wo={number:Kb,bool:JL,bytes:P4,hash:ek,exists:tk,output:nk};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ty=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Rs=(e,t)=>e<<32-t|e>>>t,rk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rk)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sk(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function CE(e){if(typeof e=="string"&&(e=sk(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}let j4=class{clone(){return this._cloneInto()}};function Uc(e){const t=r=>e().update(CE(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class z4 extends j4{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Wo.hash(t);const r=CE(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(t){return Wo.exists(this),this.iHash.update(t),this}digestInto(t){Wo.exists(this),Wo.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=a,t.outputLen=o,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const H4=(e,t,n)=>new z4(e,t).update(n).digest();H4.create=(e,t)=>new z4(e,t);function ik(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+l,o,r)}let xE=class extends j4{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ty(this.buffer)}update(t){Wo.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=CE(t);const i=t.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=Ty(t);for(;s<=i-a;a+=s)this.process(c,a);continue}r.set(t.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Wo.exists(this),Wo.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;ik(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=Ty(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return t.length=s,t.pos=o,t.finished=i,t.destroyed=a,s%n&&t.buffer.set(r),t}};const ak=(e,t,n)=>e&t^~e&n,ok=(e,t,n)=>e&t^e&n^t&n,ck=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),na=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ra=new Uint32Array(64);let F4=class extends xE{constructor(){super(64,32,8,!1),this.A=na[0]|0,this.B=na[1]|0,this.C=na[2]|0,this.D=na[3]|0,this.E=na[4]|0,this.F=na[5]|0,this.G=na[6]|0,this.H=na[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:a,G:o,H:c}=this;return[t,n,r,s,i,a,o,c]}set(t,n,r,s,i,a,o,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)ra[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=ra[f-15],h=ra[f-2],p=Rs(d,7)^Rs(d,18)^d>>>3,g=Rs(h,17)^Rs(h,19)^h>>>10;ra[f]=g+ra[f-7]+p+ra[f-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Rs(o,6)^Rs(o,11)^Rs(o,25),h=u+d+ak(o,c,l)+ck[f]+ra[f]|0,g=(Rs(r,2)^Rs(r,13)^Rs(r,22))+ok(r,s,i)|0;u=l,l=c,c=o,o=a+h|0,a=i,i=s,s=r,r=h+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,a,o,c,l,u)}roundClean(){ra.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},lk=class extends F4{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const _E=Uc(()=>new F4);Uc(()=>new lk);const uk={},fk=Object.freeze(Object.defineProperty({__proto__:null,default:uk},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const ze=BigInt(0),Tt=BigInt(1),za=BigInt(2),rd=BigInt(3),KA=BigInt(8),jt=Object.freeze({a:ze,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Tt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),WA=(e,t)=>(e+t/za)/t,up={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=jt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Tt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=WA(i*e,t),c=WA(-r*e,t);let l=se(e-o*n-c*s,t),u=se(-o*r-c*i,t);const f=l>a,d=u>a;if(f&&(l=t-l),d&&(u=t-u),l>a||u>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}},Ns=32,wu=32,dk=32,GA=Ns+1,YA=2*Ns+1;function ZA(e){const{a:t,b:n}=jt,r=se(e*e),s=se(r*e);return se(s+t*e+n)}const fp=jt.a===ze;class q4 extends Error{constructor(t){super(t)}}function XA(e){if(!(e instanceof Ge))throw new TypeError("JacobianPoint expected")}class Ge{constructor(t,n,r){this.x=t,this.y=n,this.z=r}static fromAffine(t){if(!(t instanceof mt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(mt.ZERO)?Ge.ZERO:new Ge(t.x,t.y,Tt)}static toAffineBatch(t){const n=yk(t.map(r=>r.z));return t.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(t){return Ge.toAffineBatch(t).map(Ge.fromAffine)}equals(t){XA(t);const{x:n,y:r,z:s}=this,{x:i,y:a,z:o}=t,c=se(s*s),l=se(o*o),u=se(n*l),f=se(i*c),d=se(se(r*o)*l),h=se(se(a*s)*c);return u===f&&d===h}negate(){return new Ge(this.x,se(-this.y),this.z)}double(){const{x:t,y:n,z:r}=this,s=se(t*t),i=se(n*n),a=se(i*i),o=t+i,c=se(za*(se(o*o)-s-a)),l=se(rd*s),u=se(l*l),f=se(u-za*c),d=se(l*(c-f)-KA*a),h=se(za*n*r);return new Ge(f,d,h)}add(t){XA(t);const{x:n,y:r,z:s}=this,{x:i,y:a,z:o}=t;if(i===ze||a===ze)return this;if(n===ze||r===ze)return t;const c=se(s*s),l=se(o*o),u=se(n*l),f=se(i*c),d=se(se(r*o)*l),h=se(se(a*s)*c),p=se(f-u),g=se(h-d);if(p===ze)return g===ze?this.double():Ge.ZERO;const b=se(p*p),y=se(p*b),m=se(u*b),w=se(g*g-y-za*m),v=se(g*(m-w)-d*y),_=se(s*o*p);return new Ge(w,v,_)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const n=Ge.ZERO;if(typeof t=="bigint"&&t===ze)return n;let r=eC(t);if(r===Tt)return this;if(!fp){let f=n,d=this;for(;r>ze;)r&Tt&&(f=f.add(d)),d=d.double(),r>>=Tt;return f}let{k1neg:s,k1:i,k2neg:a,k2:o}=up.splitScalar(r),c=n,l=n,u=this;for(;i>ze||o>ze;)i&Tt&&(c=c.add(u)),o&Tt&&(l=l.add(u)),u=u.double(),i>>=Tt,o>>=Tt;return s&&(c=c.negate()),a&&(l=l.negate()),l=new Ge(se(l.x*up.beta),l.y,l.z),c.add(l)}precomputeWindow(t){const n=fp?128/t+1:256/t+1,r=[];let s=this,i=s;for(let a=0;a<n;a++){i=s,r.push(i);for(let o=1;o<2**(t-1);o++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(t,n){!n&&this.equals(Ge.BASE)&&(n=mt.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&Wb.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=Ge.normalizeZ(s),Wb.set(n,s)));let i=Ge.ZERO,a=Ge.BASE;const o=1+(fp?128/r:256/r),c=2**(r-1),l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<o;d++){const h=d*c;let p=Number(t&l);t>>=f,p>c&&(p-=u,t+=Tt);const g=h,b=h+Math.abs(p)-1,y=d%2!==0,m=p<0;p===0?a=a.add(dp(y,s[g])):i=i.add(dp(m,s[b]))}return{p:i,f:a}}multiply(t,n){let r=eC(t),s,i;if(fp){const{k1neg:a,k1:o,k2neg:c,k2:l}=up.splitScalar(r);let{p:u,f}=this.wNAF(o,n),{p:d,f:h}=this.wNAF(l,n);u=dp(a,u),d=dp(c,d),d=new Ge(se(d.x*up.beta),d.y,d.z),s=u.add(d),i=f.add(h)}else{const{p:a,f:o}=this.wNAF(r,n);s=a,i=o}return Ge.normalizeZ([s,i])[0]}toAffine(t){const{x:n,y:r,z:s}=this,i=this.equals(Ge.ZERO);t==null&&(t=i?KA:yh(s));const a=t,o=se(a*a),c=se(o*a),l=se(n*o),u=se(r*c),f=se(s*a);if(i)return mt.ZERO;if(f!==Tt)throw new Error("invZ was invalid");return new mt(l,u)}}Ge.BASE=new Ge(jt.Gx,jt.Gy,Tt);Ge.ZERO=new Ge(ze,Tt,ze);function dp(e,t){const n=t.negate();return e?n:t}const Wb=new WeakMap;class mt{constructor(t,n){this.x=t,this.y=n}_setWindowSize(t){this._WINDOW_SIZE=t,Wb.delete(this)}hasEvenY(){return this.y%za===ze}static fromCompressedHex(t){const n=t.length===32,r=no(n?t:t.subarray(1));if(!Oy(r))throw new Error("Point is not on curve");const s=ZA(r);let i=mk(s);const a=(i&Tt)===Tt;n?a&&(i=se(-i)):(t[0]&1)===1!==a&&(i=se(-i));const o=new mt(r,i);return o.assertValidity(),o}static fromUncompressedHex(t){const n=no(t.subarray(1,Ns+1)),r=no(t.subarray(Ns+1,Ns*2+1)),s=new mt(n,r);return s.assertValidity(),s}static fromHex(t){const n=Bd(t),r=n.length,s=n[0];if(r===Ns)return this.fromCompressedHex(n);if(r===GA&&(s===2||s===3))return this.fromCompressedHex(n);if(r===YA&&s===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${GA} compressed bytes or ${YA} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return mt.BASE.multiply(u0(t))}static fromSignature(t,n,r){const{r:s,s:i}=Ek(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const a=V4(Bd(t)),{n:o}=jt,c=r===2||r===3?s+o:s,l=yh(c,o),u=se(-a*l,o),f=se(i*l,o),d=r&1?"03":"02",h=mt.fromHex(d+Jl(c)),p=mt.BASE.multiplyAndAddUnsafe(h,u,f);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return ac(this.toHex(t))}toHex(t=!1){const n=Jl(this.x);return t?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Jl(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:n,y:r}=this;if(!Oy(n)||!Oy(r))throw new Error(t);const s=se(r*r),i=ZA(n);if(se(s-i)!==ze)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new mt(this.x,se(-this.y))}double(){return Ge.fromAffine(this).double().toAffine()}add(t){return Ge.fromAffine(this).add(Ge.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Ge.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,n,r){const s=Ge.fromAffine(this),i=n===ze||n===Tt||this!==mt.BASE?s.multiplyUnsafe(n):s.multiply(n),a=Ge.fromAffine(t).multiplyUnsafe(r),o=i.add(a);return o.equals(Ge.ZERO)?void 0:o.toAffine()}}mt.BASE=new mt(jt.Gx,jt.Gy);mt.ZERO=new mt(ze,ze);function QA(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function JA(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${bu(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:no(n),left:e.subarray(t+2)}}function hk(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${bu(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=JA(e.subarray(2)),{data:r,left:s}=JA(n);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${bu(s)}`);return{r:t,s:r}}class ti{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromCompact(t){const n=t instanceof Uint8Array,r="Signature.fromCompact";if(typeof t!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=n?bu(t):t;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new ti(l0(s.slice(0,64)),l0(s.slice(64,128)))}static fromDER(t){const n=t instanceof Uint8Array;if(typeof t!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=hk(n?t:ac(t));return new ti(r,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:n}=this;if(!Ld(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ld(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=jt.n>>Tt;return this.s>t}normalizeS(){return this.hasHighS()?new ti(this.r,se(-this.s,jt.n)):this}toDERRawBytes(){return ac(this.toDERHex())}toDERHex(){const t=QA(df(this.s)),n=QA(df(this.r)),r=t.length/2,s=n.length/2,i=df(r),a=df(s);return`30${df(s+r+4)}02${a}${n}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return ac(this.toCompactHex())}toCompactHex(){return Jl(this.r)+Jl(this.s)}}function $a(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const pk=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bu(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=pk[e[n]];return t}const gk=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Jl(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(ze<=e&&e<gk))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Gb(e){const t=ac(Jl(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function df(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function l0(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function ac(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function no(e){return l0(bu(e))}function Bd(e){return e instanceof Uint8Array?Uint8Array.from(e):ac(e)}function eC(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&Ld(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function se(e,t=jt.P){const n=e%t;return n>=ze?n:t+n}function zr(e,t){const{P:n}=jt;let r=e;for(;t-- >ze;)r*=r,r%=n;return r}function mk(e){const{P:t}=jt,n=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),o=BigInt(88),c=e*e*e%t,l=c*c*e%t,u=zr(l,rd)*l%t,f=zr(u,rd)*l%t,d=zr(f,za)*c%t,h=zr(d,r)*d%t,p=zr(h,s)*h%t,g=zr(p,a)*p%t,b=zr(g,o)*g%t,y=zr(b,a)*p%t,m=zr(y,rd)*l%t,w=zr(m,i)*h%t,v=zr(w,n)*c%t,_=zr(v,za);if(_*_%t!==e)throw new Error("Cannot find square root");return _}function yh(e,t=jt.P){if(e===ze||t<=ze)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=se(e,t),r=t,s=ze,i=Tt;for(;n!==ze;){const o=r/n,c=r%n,l=s-i*o;r=n,n=c,s=i,i=l}if(r!==Tt)throw new Error("invert: does not exist");return se(s,t)}function yk(e,t=jt.P){const n=new Array(e.length),r=e.reduce((i,a,o)=>a===ze?i:(n[o]=i,se(i*a,t)),Tt),s=yh(r,t);return e.reduceRight((i,a,o)=>a===ze?i:(n[o]=se(i*n[o],t),se(i*a,t)),s),n}function wk(e){const t=e.length*8-wu*8,n=no(e);return t>0?n>>BigInt(t):n}function V4(e,t=!1){const n=wk(e);if(t)return n;const{n:r}=jt;return n>=r?n-r:n}let eu,sd;class bk{constructor(t,n){if(this.hashLen=t,this.qByteLen=n,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof n!="number"||n<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Ha.hmacSha256(this.k,...t)}hmacSync(...t){return sd(this.k,...t)}checkSync(){if(typeof sd!="function")throw new q4("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const n=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();n.push(r),t+=this.v.length}return $a(...n)}generateSync(){this.checkSync(),this.incr();let t=0;const n=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();n.push(r),t+=this.v.length}return $a(...n)}}function Ld(e){return ze<e&&e<jt.n}function Oy(e){return ze<e&&e<jt.P}function vk(e,t,n,r=!0){const{n:s}=jt,i=V4(e,!0);if(!Ld(i))return;const a=yh(i,s),o=mt.BASE.multiply(i),c=se(o.x,s);if(c===ze)return;const l=se(a*se(t+n*c,s),s);if(l===ze)return;let u=new ti(c,l),f=(o.x===u.r?0:2)|Number(o.y&Tt);return r&&u.hasHighS()&&(u=u.normalizeS(),f^=1),{sig:u,recovery:f}}function u0(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*wu)throw new Error("Expected 32 bytes of private key");t=l0(e)}else if(e instanceof Uint8Array){if(e.length!==wu)throw new Error("Expected 32 bytes of private key");t=no(e)}else throw new TypeError("Expected valid private key");if(!Ld(t))throw new Error("Expected private key: 0 < key < n");return t}function Ek(e){if(e instanceof ti)return e.assertValidity(),e;try{return ti.fromDER(e)}catch{return ti.fromCompact(e)}}function Sk(e,t=!1){return mt.fromPrivateKey(e).toRawBytes(t)}function K4(e){const t=e.length>Ns?e.slice(0,Ns):e;return no(t)}function Ak(e){const t=K4(e),n=se(t,jt.n);return W4(n<ze?t:n)}function W4(e){return Gb(e)}function Ck(e,t,n){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=Bd(e),s=u0(t),i=[W4(s),Ak(r)];if(n!=null){n===!0&&(n=Ha.randomBytes(Ns));const c=Bd(n);if(c.length!==Ns)throw new Error(`sign: Expected ${Ns} bytes of extra data`);i.push(c)}const a=$a(...i),o=K4(r);return{seed:a,m:o,d:s}}function xk(e,t){const{sig:n,recovery:r}=e,{der:s,recovered:i}=Object.assign({canonical:!0,der:!0},t),a=s?n.toDERRawBytes():n.toCompactRawBytes();return i?[a,r]:a}function _k(e,t,n={}){const{seed:r,m:s,d:i}=Ck(e,t,n.extraEntropy),a=new bk(dk,wu);a.reseedSync(r);let o;for(;!(o=vk(a.generateSync(),s,i,n.canonical));)a.reseedSync();return xk(o,n)}mt.BASE._setWindowSize(8);const mr={node:fk,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},hp={},Ha={bytesToHex:bu,hexToBytes:ac,concatBytes:$a,mod:se,invert:yh,isValidPrivateKey(e){try{return u0(e),!0}catch{return!1}},_bigintTo32Bytes:Gb,_normalizePrivateKey:u0,hashToPrivateKey:e=>{e=Bd(e);const t=wu+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const n=se(no(e),jt.n-Tt)+Tt;return Gb(n)},randomBytes:(e=32)=>{if(mr.web)return mr.web.getRandomValues(new Uint8Array(e));if(mr.node){const{randomBytes:t}=mr.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ha.hashToPrivateKey(Ha.randomBytes(wu+8)),precompute(e=8,t=mt.BASE){const n=t===mt.BASE?t:new mt(t.x,t.y);return n._setWindowSize(e),n.multiply(rd),n},sha256:async(...e)=>{if(mr.web){const t=await mr.web.subtle.digest("SHA-256",$a(...e));return new Uint8Array(t)}else if(mr.node){const{createHash:t}=mr.node,n=t("sha256");return e.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(mr.web){const n=await mr.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=$a(...t),s=await mr.web.subtle.sign("HMAC",n,r);return new Uint8Array(s)}else if(mr.node){const{createHmac:n}=mr.node,r=n("sha256",e);return t.forEach(s=>r.update(s)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=hp[e];if(n===void 0){const r=await Ha.sha256(Uint8Array.from(e,s=>s.charCodeAt(0)));n=$a(r,r),hp[e]=n}return Ha.sha256(n,...t)},taggedHashSync:(e,...t)=>{if(typeof eu!="function")throw new q4("sha256Sync is undefined, you need to set it");let n=hp[e];if(n===void 0){const r=eu(Uint8Array.from(e,s=>s.charCodeAt(0)));n=$a(r,r),hp[e]=n}return eu(n,...t)},_JacobianPoint:Ge};Object.defineProperties(Ha,{sha256Sync:{configurable:!1,get(){return eu},set(e){eu||(eu=e)}},hmacSha256Sync:{configurable:!1,get(){return sd},set(e){sd||(sd=e)}}});var nm={},NE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;const t=U0;e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function r(a,o){if(!a.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");a.length%2!==0&&(a=`0${a}`),a=a.toLowerCase();let c=[],l=0;for(let h=a.length-1;h>=0;h--)if(l<4){const p=n.indexOf(a[h])>>l;let g=0;h!==0&&(g=n.indexOf(a[h-1]));const b=1+l,y=g%(1<<b)<<5-b,m=e.c32[p+y];l=b,c.unshift(m)}else l=0;let u=0;for(let h=0;h<c.length&&c[h]==="0";h++)u++;c=c.slice(u);const f=new TextDecoder().decode((0,t.hexToBytes)(a)).match(/^\u0000*/),d=f?f[0].length:0;for(let h=0;h<d;h++)c.unshift(e.c32[0]);if(o){const h=o-c.length;for(let p=0;p<h;p++)c.unshift(e.c32[0])}return c.join("")}e.c32encode=r;function s(a){return a.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32normalize=s;function i(a,o){if(a=s(a),!a.match(`^[${e.c32}]*$`))throw new Error("Not a c32-encoded string");const c=a.match(`^${e.c32[0]}*`),l=c?c[0].length:0;let u=[],f=0,d=0;for(let g=a.length-1;g>=0;g--){d===4&&(u.unshift(n[f]),d=0,f=0);const y=(e.c32.indexOf(a[g])<<d)+f,m=n[y%16];if(d+=1,f=y>>4,f>1<<d)throw new Error("Panic error in decoding.");u.unshift(m)}u.unshift(n[f]),u.length%2===1&&u.unshift("0");let h=0;for(let g=0;g<u.length&&u[g]==="0";g++)h++;u=u.slice(h-h%2);let p=u.join("");for(let g=0;g<l;g++)p=`00${p}`;if(o){const g=o*2-p.length;for(let b=0;b<g;b+=2)p=`00${p}`}return p}e.c32decode=i})(NE);var yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.c32checkDecode=yc.c32checkEncode=void 0;const tC=hN,nC=U0,id=NE;function G4(e){const t=(0,tC.sha256)((0,tC.sha256)((0,nC.hexToBytes)(e)));return(0,nC.bytesToHex)(t.slice(0,4))}function Nk(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let n=e.toString(16);n.length===1&&(n=`0${n}`);const r=G4(`${n}${t}`),s=(0,id.c32encode)(`${t}${r}`);return`${id.c32[e]}${s}`}yc.c32checkEncode=Nk;function Ik(e){e=(0,id.c32normalize)(e);const t=(0,id.c32decode)(e.slice(1)),n=e[0],r=id.c32.indexOf(n),s=t.slice(-8);let i=r.toString(16);if(i.length===1&&(i=`0${i}`),G4(`${i}${t.substring(0,t.length-8)}`)!==s)throw new Error("Invalid c32check string: checksum mismatch");return[r,t.substring(0,t.length-8)]}yc.c32checkDecode=Ik;var Y4={},vu={};function Tk(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var a=e.length,o=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var p=0,g=0,b=0,y=h.length;b!==y&&h[b]===0;)b++,p++;for(var m=(y-b)*l+1>>>0,w=new Uint8Array(m);b!==y;){for(var v=h[b],_=0,B=m-1;(v!==0||_<g)&&B!==-1;B--,_++)v+=256*w[B]>>>0,w[B]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");g=_,b++}for(var U=m-g;U!==m&&w[U]===0;)U++;for(var D=o.repeat(p);U<m;++U)D+=e.charAt(w[U]);return D}function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var p=0,g=0,b=0;h[p]===o;)g++,p++;for(var y=(h.length-p)*c+1>>>0,m=new Uint8Array(y);h[p];){var w=h.charCodeAt(p);if(w>255)return;var v=t[w];if(v===255)return;for(var _=0,B=y-1;(v!==0||_<b)&&B!==-1;B--,_++)v+=a*m[B]>>>0,m[B]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");b=_,p++}for(var U=y-b;U!==y&&m[U]===0;)U++;for(var D=new Uint8Array(g+(y-U)),x=g;U!==y;)D[x++]=m[U++];return D}function d(h){var p=f(h);if(p)return p;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:f,decode:d}}var Ok=Tk;Object.defineProperty(vu,"__esModule",{value:!0});vu.decode=vu.encode=void 0;const f0=hN,rC=U0,Z4=Ok,X4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Dk(e,t="00"){const n=typeof e=="string"?(0,rC.hexToBytes)(e):e,r=typeof t=="string"?(0,rC.hexToBytes)(t):e;if(!(n instanceof Uint8Array)||!(r instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const s=(0,f0.sha256)((0,f0.sha256)(new Uint8Array([...r,...n])));return Z4(X4).encode([...r,...n,...s.slice(0,4)])}vu.encode=Dk;function Uk(e){const t=Z4(X4).decode(e),n=t.slice(0,1),r=t.slice(1,-4),s=(0,f0.sha256)((0,f0.sha256)(new Uint8Array([...n,...r])));return t.slice(-4).forEach((i,a)=>{if(i!==s[a])throw new Error("Invalid checksum")}),{prefix:n,data:r}}vu.decode=Uk;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;const t=yc,n=vu,r=U0;e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const s={};s[0]=e.versions.mainnet.p2pkh,s[5]=e.versions.mainnet.p2sh,s[111]=e.versions.testnet.p2pkh,s[196]=e.versions.testnet.p2sh;const i={};i[e.versions.mainnet.p2pkh]=0,i[e.versions.mainnet.p2sh]=5,i[e.versions.testnet.p2pkh]=111,i[e.versions.testnet.p2sh]=196;function a(u,f){if(!f.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,t.c32checkEncode)(u,f)}`}e.c32address=a;function o(u){if(u.length<=5)throw new Error("Invalid c32 address: invalid length");if(u[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,t.c32checkDecode)(u.slice(1))}e.c32addressDecode=o;function c(u,f=-1){const d=n.decode(u),h=(0,r.bytesToHex)(d.data),p=parseInt((0,r.bytesToHex)(d.prefix),16);let g;return f<0?(g=p,s[p]!==void 0&&(g=s[p])):g=f,a(g,h)}e.b58ToC32=c;function l(u,f=-1){const d=o(u),h=d[0],p=d[1];let g;f<0?(g=h,i[h]!==void 0&&(g=i[h])):g=f;let b=g.toString(16);return b.length===1&&(b=`0${b}`),n.encode(p,b)}e.c32ToB58=l})(Y4);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.b58ToC32=e.c32ToB58=e.versions=e.c32normalize=e.c32addressDecode=e.c32address=e.c32checkDecode=e.c32checkEncode=e.c32decode=e.c32encode=void 0;const t=NE;Object.defineProperty(e,"c32encode",{enumerable:!0,get:function(){return t.c32encode}}),Object.defineProperty(e,"c32decode",{enumerable:!0,get:function(){return t.c32decode}}),Object.defineProperty(e,"c32normalize",{enumerable:!0,get:function(){return t.c32normalize}});const n=yc;Object.defineProperty(e,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(e,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const r=Y4;Object.defineProperty(e,"c32address",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(e,"c32addressDecode",{enumerable:!0,get:function(){return r.c32addressDecode}}),Object.defineProperty(e,"c32ToB58",{enumerable:!0,get:function(){return r.c32ToB58}}),Object.defineProperty(e,"b58ToC32",{enumerable:!0,get:function(){return r.b58ToC32}}),Object.defineProperty(e,"versions",{enumerable:!0,get:function(){return r.versions}})})(nm);const $k=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Q4=Uint8Array.from({length:16},(e,t)=>t),Mk=Q4.map(e=>(9*e+5)%16);let IE=[Q4],TE=[Mk];for(let e=0;e<4;e++)for(let t of[IE,TE])t.push(t[e].map(n=>$k[n]));const J4=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Rk=IE.map((e,t)=>e.map(n=>J4[t][n])),Bk=TE.map((e,t)=>e.map(n=>J4[t][n])),Lk=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),kk=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),pp=(e,t)=>e<<t|e>>>32-t;function sC(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const gp=new Uint32Array(16);let Pk=class extends xE{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:i}=this;return[t,n,r,s,i]}set(t,n,r,s,i){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(t,n){for(let h=0;h<16;h++,n+=4)gp[h]=t.getUint32(n,!0);let r=this.h0|0,s=r,i=this.h1|0,a=i,o=this.h2|0,c=o,l=this.h3|0,u=l,f=this.h4|0,d=f;for(let h=0;h<5;h++){const p=4-h,g=Lk[h],b=kk[h],y=IE[h],m=TE[h],w=Rk[h],v=Bk[h];for(let _=0;_<16;_++){const B=pp(r+sC(h,i,o,l)+gp[y[_]]+g,w[_])+f|0;r=f,f=l,l=pp(o,10)|0,o=i,i=B}for(let _=0;_<16;_++){const B=pp(s+sC(p,a,c,u)+gp[m[_]]+b,v[_])+d|0;s=d,d=u,u=pp(c,10)|0,c=a,a=B}}this.set(this.h1+o+u|0,this.h2+l+d|0,this.h3+f+s|0,this.h4+r+a|0,this.h0+i+c|0)}roundClean(){gp.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};const jk=Uc(()=>new Pk),mp=BigInt(2**32-1),Yb=BigInt(32);function e8(e,t=!1){return t?{h:Number(e&mp),l:Number(e>>Yb&mp)}:{h:Number(e>>Yb&mp)|0,l:Number(e&mp)|0}}function zk(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=e8(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const Hk=(e,t)=>BigInt(e>>>0)<<Yb|BigInt(t>>>0),Fk=(e,t,n)=>e>>>n,qk=(e,t,n)=>e<<32-n|t>>>n,Vk=(e,t,n)=>e>>>n|t<<32-n,Kk=(e,t,n)=>e<<32-n|t>>>n,Wk=(e,t,n)=>e<<64-n|t>>>n-32,Gk=(e,t,n)=>e>>>n-32|t<<64-n,Yk=(e,t)=>t,Zk=(e,t)=>e,Xk=(e,t,n)=>e<<n|t>>>32-n,Qk=(e,t,n)=>t<<n|e>>>32-n,Jk=(e,t,n)=>t<<n-32|e>>>64-n,eP=(e,t,n)=>e<<n-32|t>>>64-n;function tP(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const nP=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),rP=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,sP=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),iP=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,aP=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),oP=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,xe={fromBig:e8,split:zk,toBig:Hk,shrSH:Fk,shrSL:qk,rotrSH:Vk,rotrSL:Kk,rotrBH:Wk,rotrBL:Gk,rotr32H:Yk,rotr32L:Zk,rotlSH:Xk,rotlSL:Qk,rotlBH:Jk,rotlBL:eP,add:tP,add3L:nP,add3H:rP,add4L:sP,add4H:iP,add5H:oP,add5L:aP},[cP,lP]=xe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),sa=new Uint32Array(80),ia=new Uint32Array(80);let rm=class extends xE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:b}=this;return[t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b]}set(t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=b|0}process(t,n){for(let w=0;w<16;w++,n+=4)sa[w]=t.getUint32(n),ia[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const v=sa[w-15]|0,_=ia[w-15]|0,B=xe.rotrSH(v,_,1)^xe.rotrSH(v,_,8)^xe.shrSH(v,_,7),U=xe.rotrSL(v,_,1)^xe.rotrSL(v,_,8)^xe.shrSL(v,_,7),D=sa[w-2]|0,x=ia[w-2]|0,A=xe.rotrSH(D,x,19)^xe.rotrBH(D,x,61)^xe.shrSH(D,x,6),I=xe.rotrSL(D,x,19)^xe.rotrBL(D,x,61)^xe.shrSL(D,x,6),$=xe.add4L(U,I,ia[w-7],ia[w-16]),L=xe.add4H($,B,A,sa[w-7],sa[w-16]);sa[w]=L|0,ia[w]=$|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:b,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const v=xe.rotrSH(f,d,14)^xe.rotrSH(f,d,18)^xe.rotrBH(f,d,41),_=xe.rotrSL(f,d,14)^xe.rotrSL(f,d,18)^xe.rotrBL(f,d,41),B=f&h^~f&g,U=d&p^~d&b,D=xe.add5L(m,_,U,lP[w],ia[w]),x=xe.add5H(D,y,v,B,cP[w],sa[w]),A=D|0,I=xe.rotrSH(r,s,28)^xe.rotrBH(r,s,34)^xe.rotrBH(r,s,39),$=xe.rotrSL(r,s,28)^xe.rotrBL(r,s,34)^xe.rotrBL(r,s,39),L=r&i^r&o^i&o,P=s&a^s&c^a&c;y=g|0,m=b|0,g=h|0,b=p|0,h=f|0,p=d|0,{h:f,l:d}=xe.add(l|0,u|0,x|0,A|0),l=o|0,u=c|0,o=i|0,c=a|0,i=r|0,a=s|0;const S=xe.add3L(A,$,P);r=xe.add3H(S,x,I,L),s=S|0}({h:r,l:s}=xe.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=xe.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=xe.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=xe.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=xe.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=xe.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:b}=xe.add(this.Gh|0,this.Gl|0,g|0,b|0),{h:y,l:m}=xe.add(this.Hh|0,this.Hl|0,y|0,m|0),this.set(r,s,i,a,o,c,l,u,f,d,h,p,g,b,y,m)}roundClean(){sa.fill(0),ia.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},uP=class extends rm{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},fP=class extends rm{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},dP=class extends rm{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Uc(()=>new rm);Uc(()=>new uP);const hP=Uc(()=>new fP);Uc(()=>new dP);var d0={exports:{}};d0.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",a="[object Array]",o="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",f="[object GeneratorFunction]",d="[object Map]",h="[object Number]",p="[object Object]",g="[object Promise]",b="[object RegExp]",y="[object Set]",m="[object String]",w="[object Symbol]",v="[object WeakMap]",_="[object ArrayBuffer]",B="[object DataView]",U="[object Float32Array]",D="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",I="[object Int32Array]",$="[object Uint8Array]",L="[object Uint8ClampedArray]",P="[object Uint16Array]",S="[object Uint32Array]",E=/[\\^$.*+?()[\]{}|]/g,O=/\w*$/,T=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,R={};R[i]=R[a]=R[_]=R[B]=R[o]=R[c]=R[U]=R[D]=R[x]=R[A]=R[I]=R[d]=R[h]=R[p]=R[b]=R[y]=R[m]=R[w]=R[$]=R[L]=R[P]=R[S]=!0,R[l]=R[u]=R[v]=!1;var z=typeof vn=="object"&&vn&&vn.Object===Object&&vn,Z=typeof self=="object"&&self&&self.Object===Object&&self,W=z||Z||Function("return this")(),V=t&&!t.nodeType&&t,te=V&&!0&&e&&!e.nodeType&&e,be=te&&te.exports===V;function me(C,k){return C.set(k[0],k[1]),C}function De(C,k){return C.add(k),C}function ve(C,k){for(var H=-1,le=C?C.length:0;++H<le&&k(C[H],H,C)!==!1;);return C}function st(C,k){for(var H=-1,le=k.length,fn=C.length;++H<le;)C[fn+H]=k[H];return C}function xt(C,k,H,le){for(var fn=-1,Kn=C?C.length:0;++fn<Kn;)H=k(H,C[fn],fn,C);return H}function Vn(C,k){for(var H=-1,le=Array(C);++H<C;)le[H]=k(H);return le}function Fc(C,k){return C==null?void 0:C[k]}function di(C){var k=!1;if(C!=null&&typeof C.toString!="function")try{k=!!(C+"")}catch{}return k}function qc(C){var k=-1,H=Array(C.size);return C.forEach(function(le,fn){H[++k]=[fn,le]}),H}function Xu(C,k){return function(H){return C(k(H))}}function Rh(C){var k=-1,H=Array(C.size);return C.forEach(function(le){H[++k]=le}),H}var Tm=Array.prototype,Bh=Function.prototype,bo=Object.prototype,vo=W["__core-js_shared__"],Qu=function(){var C=/[^.]+$/.exec(vo&&vo.keys&&vo.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Ju=Bh.toString,ps=bo.hasOwnProperty,Eo=bo.toString,Lh=RegExp("^"+Ju.call(ps).replace(E,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kh=be?W.Buffer:void 0,Ph=W.Symbol,jh=W.Uint8Array,Om=Xu(Object.getPrototypeOf,Object),O6=Object.create,D6=bo.propertyIsEnumerable,U6=Tm.splice,j2=Object.getOwnPropertySymbols,$6=kh?kh.isBuffer:void 0,M6=Xu(Object.keys,Object),Dm=Wc(W,"DataView"),ef=Wc(W,"Map"),Um=Wc(W,"Promise"),$m=Wc(W,"Set"),Mm=Wc(W,"WeakMap"),tf=Wc(Object,"create"),R6=Co(Dm),B6=Co(ef),L6=Co(Um),k6=Co($m),P6=Co(Mm),z2=Ph?Ph.prototype:void 0,H2=z2?z2.valueOf:void 0;function So(C){var k=-1,H=C?C.length:0;for(this.clear();++k<H;){var le=C[k];this.set(le[0],le[1])}}function j6(){this.__data__=tf?tf(null):{}}function z6(C){return this.has(C)&&delete this.__data__[C]}function H6(C){var k=this.__data__;if(tf){var H=k[C];return H===r?void 0:H}return ps.call(k,C)?k[C]:void 0}function F6(C){var k=this.__data__;return tf?k[C]!==void 0:ps.call(k,C)}function q6(C,k){var H=this.__data__;return H[C]=tf&&k===void 0?r:k,this}So.prototype.clear=j6,So.prototype.delete=z6,So.prototype.get=H6,So.prototype.has=F6,So.prototype.set=q6;function hi(C){var k=-1,H=C?C.length:0;for(this.clear();++k<H;){var le=C[k];this.set(le[0],le[1])}}function V6(){this.__data__=[]}function K6(C){var k=this.__data__,H=zh(k,C);if(H<0)return!1;var le=k.length-1;return H==le?k.pop():U6.call(k,H,1),!0}function W6(C){var k=this.__data__,H=zh(k,C);return H<0?void 0:k[H][1]}function G6(C){return zh(this.__data__,C)>-1}function Y6(C,k){var H=this.__data__,le=zh(H,C);return le<0?H.push([C,k]):H[le][1]=k,this}hi.prototype.clear=V6,hi.prototype.delete=K6,hi.prototype.get=W6,hi.prototype.has=G6,hi.prototype.set=Y6;function Vc(C){var k=-1,H=C?C.length:0;for(this.clear();++k<H;){var le=C[k];this.set(le[0],le[1])}}function Z6(){this.__data__={hash:new So,map:new(ef||hi),string:new So}}function X6(C){return Hh(this,C).delete(C)}function Q6(C){return Hh(this,C).get(C)}function J6(C){return Hh(this,C).has(C)}function eU(C,k){return Hh(this,C).set(C,k),this}Vc.prototype.clear=Z6,Vc.prototype.delete=X6,Vc.prototype.get=Q6,Vc.prototype.has=J6,Vc.prototype.set=eU;function Kc(C){this.__data__=new hi(C)}function tU(){this.__data__=new hi}function nU(C){return this.__data__.delete(C)}function rU(C){return this.__data__.get(C)}function sU(C){return this.__data__.has(C)}function iU(C,k){var H=this.__data__;if(H instanceof hi){var le=H.__data__;if(!ef||le.length<n-1)return le.push([C,k]),this;H=this.__data__=new Vc(le)}return H.set(C,k),this}Kc.prototype.clear=tU,Kc.prototype.delete=nU,Kc.prototype.get=rU,Kc.prototype.has=sU,Kc.prototype.set=iU;function aU(C,k){var H=Lm(C)||OU(C)?Vn(C.length,String):[],le=H.length,fn=!!le;for(var Kn in C)ps.call(C,Kn)&&!(fn&&(Kn=="length"||_U(Kn,le)))&&H.push(Kn);return H}function F2(C,k,H){var le=C[k];(!(ps.call(C,k)&&W2(le,H))||H===void 0&&!(k in C))&&(C[k]=H)}function zh(C,k){for(var H=C.length;H--;)if(W2(C[H][0],k))return H;return-1}function oU(C,k){return C&&q2(k,km(k),C)}function Rm(C,k,H,le,fn,Kn,pi){var Wn;if(le&&(Wn=Kn?le(C,fn,Kn,pi):le(C)),Wn!==void 0)return Wn;if(!Fh(C))return C;var Z2=Lm(C);if(Z2){if(Wn=AU(C),!k)return vU(C,Wn)}else{var Gc=Ao(C),X2=Gc==u||Gc==f;if(UU(C))return hU(C,k);if(Gc==p||Gc==i||X2&&!Kn){if(di(C))return Kn?C:{};if(Wn=CU(X2?{}:C),!k)return EU(C,oU(Wn,C))}else{if(!R[Gc])return Kn?C:{};Wn=xU(C,Gc,Rm,k)}}pi||(pi=new Kc);var Q2=pi.get(C);if(Q2)return Q2;if(pi.set(C,Wn),!Z2)var J2=H?SU(C):km(C);return ve(J2||C,function(Pm,qh){J2&&(qh=Pm,Pm=C[qh]),F2(Wn,qh,Rm(Pm,k,H,le,qh,C,pi))}),Wn}function cU(C){return Fh(C)?O6(C):{}}function lU(C,k,H){var le=k(C);return Lm(C)?le:st(le,H(C))}function uU(C){return Eo.call(C)}function fU(C){if(!Fh(C)||IU(C))return!1;var k=Y2(C)||di(C)?Lh:T;return k.test(Co(C))}function dU(C){if(!K2(C))return M6(C);var k=[];for(var H in Object(C))ps.call(C,H)&&H!="constructor"&&k.push(H);return k}function hU(C,k){if(k)return C.slice();var H=new C.constructor(C.length);return C.copy(H),H}function Bm(C){var k=new C.constructor(C.byteLength);return new jh(k).set(new jh(C)),k}function pU(C,k){var H=k?Bm(C.buffer):C.buffer;return new C.constructor(H,C.byteOffset,C.byteLength)}function gU(C,k,H){var le=k?H(qc(C),!0):qc(C);return xt(le,me,new C.constructor)}function mU(C){var k=new C.constructor(C.source,O.exec(C));return k.lastIndex=C.lastIndex,k}function yU(C,k,H){var le=k?H(Rh(C),!0):Rh(C);return xt(le,De,new C.constructor)}function wU(C){return H2?Object(H2.call(C)):{}}function bU(C,k){var H=k?Bm(C.buffer):C.buffer;return new C.constructor(H,C.byteOffset,C.length)}function vU(C,k){var H=-1,le=C.length;for(k||(k=Array(le));++H<le;)k[H]=C[H];return k}function q2(C,k,H,le){H||(H={});for(var fn=-1,Kn=k.length;++fn<Kn;){var pi=k[fn],Wn=void 0;F2(H,pi,Wn===void 0?C[pi]:Wn)}return H}function EU(C,k){return q2(C,V2(C),k)}function SU(C){return lU(C,km,V2)}function Hh(C,k){var H=C.__data__;return NU(k)?H[typeof k=="string"?"string":"hash"]:H.map}function Wc(C,k){var H=Fc(C,k);return fU(H)?H:void 0}var V2=j2?Xu(j2,Object):RU,Ao=uU;(Dm&&Ao(new Dm(new ArrayBuffer(1)))!=B||ef&&Ao(new ef)!=d||Um&&Ao(Um.resolve())!=g||$m&&Ao(new $m)!=y||Mm&&Ao(new Mm)!=v)&&(Ao=function(C){var k=Eo.call(C),H=k==p?C.constructor:void 0,le=H?Co(H):void 0;if(le)switch(le){case R6:return B;case B6:return d;case L6:return g;case k6:return y;case P6:return v}return k});function AU(C){var k=C.length,H=C.constructor(k);return k&&typeof C[0]=="string"&&ps.call(C,"index")&&(H.index=C.index,H.input=C.input),H}function CU(C){return typeof C.constructor=="function"&&!K2(C)?cU(Om(C)):{}}function xU(C,k,H,le){var fn=C.constructor;switch(k){case _:return Bm(C);case o:case c:return new fn(+C);case B:return pU(C,le);case U:case D:case x:case A:case I:case $:case L:case P:case S:return bU(C,le);case d:return gU(C,le,H);case h:case m:return new fn(C);case b:return mU(C);case y:return yU(C,le,H);case w:return wU(C)}}function _U(C,k){return k=k??s,!!k&&(typeof C=="number"||M.test(C))&&C>-1&&C%1==0&&C<k}function NU(C){var k=typeof C;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?C!=="__proto__":C===null}function IU(C){return!!Qu&&Qu in C}function K2(C){var k=C&&C.constructor,H=typeof k=="function"&&k.prototype||bo;return C===H}function Co(C){if(C!=null){try{return Ju.call(C)}catch{}try{return C+""}catch{}}return""}function TU(C){return Rm(C,!0,!0)}function W2(C,k){return C===k||C!==C&&k!==k}function OU(C){return DU(C)&&ps.call(C,"callee")&&(!D6.call(C,"callee")||Eo.call(C)==i)}var Lm=Array.isArray;function G2(C){return C!=null&&$U(C.length)&&!Y2(C)}function DU(C){return MU(C)&&G2(C)}var UU=$6||BU;function Y2(C){var k=Fh(C)?Eo.call(C):"";return k==u||k==f}function $U(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=s}function Fh(C){var k=typeof C;return!!C&&(k=="object"||k=="function")}function MU(C){return!!C&&typeof C=="object"}function km(C){return G2(C)?aU(C):dU(C)}function RU(){return[]}function BU(){return!1}e.exports=TU})(d0,d0.exports);var pP=d0.exports;const gP=rh(pP);var Re;(function(e){e.Int="int",e.UInt="uint",e.Buffer="buffer",e.BoolTrue="true",e.BoolFalse="false",e.PrincipalStandard="address",e.PrincipalContract="contract",e.ResponseOk="ok",e.ResponseErr="err",e.OptionalNone="none",e.OptionalSome="some",e.List="list",e.Tuple="tuple",e.StringASCII="ascii",e.StringUTF8="utf8"})(Re||(Re={}));var Zt;(function(e){e[e.int=0]="int",e[e.uint=1]="uint",e[e.buffer=2]="buffer",e[e.true=3]="true",e[e.false=4]="false",e[e.address=5]="address",e[e.contract=6]="contract",e[e.ok=7]="ok",e[e.err=8]="err",e[e.none=9]="none",e[e.some=10]="some",e[e.list=11]="list",e[e.tuple=12]="tuple",e[e.ascii=13]="ascii",e[e.utf8=14]="utf8"})(Zt||(Zt={}));function OE(e){return Zt[e]}const t8=()=>({type:Re.BoolTrue}),n8=()=>({type:Re.BoolFalse}),mP=e=>e?t8():n8(),r8=e=>{if(e.byteLength>1048576)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:Re.Buffer,value:Ce(e)}},iC=BigInt("0xffffffffffffffffffffffffffffffff"),yP=BigInt(0),aC=BigInt("0x7fffffffffffffffffffffffffffffff"),oC=BigInt("-170141183460469231731687303715884105728"),s8=e=>{typeof e=="string"&&e.toLowerCase().startsWith("0x")&&(e=Ub(dt(e))),pr(e,Uint8Array)&&(e=Ub(e));const t=Fn(e);if(t>aC)throw new RangeError(`Cannot construct clarity integer from value greater than ${aC}`);if(t<oC)throw new RangeError(`Cannot construct clarity integer form value less than ${oC}`);return{type:Re.Int,value:t}},i8=e=>{const t=Fn(e);if(t<yP)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>iC)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${iC}`);return{type:Re.UInt,value:t}};function a8(e){return{type:Re.List,value:e}}function DE(){return{type:Re.OptionalNone}}function UE(e){return{type:Re.OptionalSome,value:e}}var ie;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.Asset=4]="Asset",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(ie||(ie={}));function wP(){return{type:ie.Address,version:mc.MainnetSingleSig,hash160:"0".repeat(40)}}function cC(e){if(e&&E8(e,a0))throw new Error(`Memo exceeds maximum length of ${a0} bytes`);return{type:ie.MemoString,content:e}}function $E(e,t){return{type:ie.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}function Zb(e){if(dt(e).byteLength!=em)throw Error("Invalid signature");return{type:ie.MessageSignature,data:e}}function bP(e,t,n){return typeof e=="string"&&(e=RP(e)),typeof n=="string"&&(n=cC(n)),{type:ie.Payload,payloadType:Qe.TokenTransfer,recipient:e,amount:Fn(t),memo:n??cC("")}}function vP(e,t,n,r){return typeof t=="string"&&(t=Ds(t)),typeof n=="string"&&(n=Ds(n)),{type:ie.Payload,payloadType:Qe.ContractCall,contractAddress:typeof e=="string"?yo(e):e,contractName:t,functionName:n,functionArgs:r}}function EP(e){return Ds(e,4,1e5)}function lC(e,t,n){return typeof e=="string"&&(e=Ds(e)),typeof t=="string"&&(t=EP(t)),typeof n=="number"?{type:ie.Payload,payloadType:Qe.VersionedSmartContract,clarityVersion:n,contractName:e,codeBody:t}:{type:ie.Payload,payloadType:Qe.SmartContract,contractName:e,codeBody:t}}function SP(){return{type:ie.Payload,payloadType:Qe.PoisonMicroblock}}function uC(e,t){if(e.byteLength!=ic)throw Error(`Coinbase buffer size must be ${ic} bytes`);return t!=null?{type:ie.Payload,payloadType:Qe.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:ie.Payload,payloadType:Qe.Coinbase,coinbaseBytes:e}}function AP(e,t,n){if(e.byteLength!=ic)throw Error(`Coinbase buffer size must be ${ic} bytes`);if(n.byteLength!=Hb)throw Error(`VRF proof buffer size must be ${Hb} bytes`);return{type:ie.Payload,payloadType:Qe.NakamotoCoinbase,coinbaseBytes:e,recipient:t.type===Re.OptionalSome?t.value:void 0,vrfProof:n}}function CP(e,t,n,r,s,i,a){return{type:ie.Payload,payloadType:Qe.TenureChange,tenureHash:e,previousTenureHash:t,burnViewHash:n,previousTenureEnd:r,previousTenureBlocks:s,cause:i,publicKeyHash:a}}function Ds(e,t,n){const r=t||1,s=n||zL;if(E8(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:ie.LengthPrefixedString,content:e,lengthPrefixBytes:r,maxLengthBytes:s}}function xP(e,t,n){return{type:ie.Asset,address:yo(e),contractName:Ds(t),assetName:Ds(n)}}function yo(e){const t=nm.c32addressDecode(e);return{type:ie.Address,version:t[0],hash160:t[1]}}function _P(e,t){const n=yo(e),r=Ds(t);return{type:ie.Principal,prefix:Br.Contract,address:n,contractName:r}}function NP(e){const t=yo(e);return{type:ie.Principal,prefix:Br.Standard,address:t}}function zl(e,t){return{pubKeyEncoding:e,type:ie.TransactionAuthField,contents:t}}function Ti(e){switch(e.type){case ie.Address:return wh(e);case ie.Principal:return o8(e);case ie.LengthPrefixedString:return Su(e);case ie.MemoString:return TP(e);case ie.Asset:return l8(e);case ie.PostCondition:return f8(e);case ie.PublicKey:return Jb(e);case ie.LengthPrefixedList:return ME(e);case ie.Payload:return d8(e);case ie.TransactionAuthField:return MP(e);case ie.MessageSignature:return RE(e)}}function wh(e){const t=[];return t.push(dt(mh(e.version,1))),t.push(dt(e.hash160)),Pt(t)}function Eu(e){const t=pr(e,wt)?e:new wt(e),n=Z0(Ce(t.readBytes(1))),r=Ce(t.readBytes(20));return{type:ie.Address,version:n,hash160:r}}function o8(e){const t=[];return t.push(e.prefix),(e.prefix===Br.Standard||e.prefix===Br.Contract)&&t.push(wh(e.address)),e.prefix===Br.Contract&&t.push(Su(e.contractName)),Pt(t)}function IP(e){const t=pr(e,wt)?e:new wt(e),n=t.readUInt8Enum(Br,i=>{throw new Or(`Unexpected Principal payload type: ${i}`)});if(n===Br.Origin)return{type:ie.Principal,prefix:n};const r=Eu(t);if(n===Br.Standard)return{type:ie.Principal,prefix:n,address:r};const s=es(t);return{type:ie.Principal,prefix:n,address:r,contractName:s}}function Su(e){const t=[],n=Pu(e.content),r=n.byteLength;return t.push(dt(mh(r,e.lengthPrefixBytes))),t.push(n),Pt(t)}function es(e,t,n){t=t||1;const r=pr(e,wt)?e:new wt(e),s=Z0(Ce(r.readBytes(t))),i=X0(r.readBytes(s));return Ds(i,t,n??128)}function TP(e){const t=[],n=Pu(e.content),r=ZP(Ce(n),a0*2);return t.push(dt(r)),Pt(t)}function c8(e){const t=pr(e,wt)?e:new wt(e);let n=X0(t.readBytes(a0));return n=n.replace(/\u0000*$/,""),{type:ie.MemoString,content:n}}function l8(e){const t=[];return t.push(wh(e.address)),t.push(Su(e.contractName)),t.push(Su(e.assetName)),Pt(t)}function Xb(e){const t=pr(e,wt)?e:new wt(e);return{type:ie.Asset,address:Eu(t),contractName:es(t),assetName:es(t)}}function ME(e){const t=e.values,n=[];n.push(dt(mh(t.length,e.lengthPrefixBytes)));for(const r of t)n.push(Ti(r));return Pt(n)}function u8(e,t,n){const r=pr(e,wt)?e:new wt(e),s=Z0(Ce(r.readBytes(4))),i=[];for(let a=0;a<s;a++)switch(t){case ie.Address:i.push(Eu(r));break;case ie.LengthPrefixedString:i.push(es(r));break;case ie.MemoString:i.push(c8(r));break;case ie.Asset:i.push(Xb(r));break;case ie.PostCondition:i.push(DP(r));break;case ie.PublicKey:i.push(e1(r));break;case ie.TransactionAuthField:i.push($P(r));break}return $E(i,n)}function OP(e){return Ce(f8(e))}function f8(e){const t=[];if(t.push(e.conditionType),t.push(o8(e.principal)),(e.conditionType===wn.Fungible||e.conditionType===wn.NonFungible)&&t.push(l8(e.asset)),e.conditionType===wn.NonFungible&&t.push(Xs(e.assetName)),t.push(e.conditionCode),e.conditionType===wn.STX||e.conditionType===wn.Fungible){if(e.amount>BigInt("0xffffffffffffffff"))throw new jl("The post-condition amount may not be larger than 8 bytes");t.push(fo(e.amount,8))}return Pt(t)}function DP(e){const t=pr(e,wt)?e:new wt(e),n=t.readUInt8Enum(wn,o=>{throw new Or(`Could not read ${o} as PostConditionType`)}),r=IP(t);let s,i,a;switch(n){case wn.STX:return s=t.readUInt8Enum(o0,c=>{throw new Or(`Could not read ${c} as FungibleConditionCode`)}),a=BigInt(`0x${Ce(t.readBytes(8))}`),{type:ie.PostCondition,conditionType:wn.STX,principal:r,conditionCode:s,amount:a};case wn.Fungible:return i=Xb(t),s=t.readUInt8Enum(o0,c=>{throw new Or(`Could not read ${c} as FungibleConditionCode`)}),a=BigInt(`0x${Ce(t.readBytes(8))}`),{type:ie.PostCondition,conditionType:wn.Fungible,principal:r,conditionCode:s,amount:a,asset:i};case wn.NonFungible:i=Xb(t);const o=ss(t);return s=t.readUInt8Enum(qb,c=>{throw new Or(`Could not read ${c} as FungibleConditionCode`)}),{type:ie.PostCondition,conditionType:wn.NonFungible,principal:r,conditionCode:s,asset:i,assetName:o}}}function d8(e){const t=[];switch(t.push(e.payloadType),e.payloadType){case Qe.TokenTransfer:t.push(Xs(e.recipient)),t.push(fo(e.amount,8)),t.push(Ti(e.memo));break;case Qe.ContractCall:t.push(Ti(e.contractAddress)),t.push(Ti(e.contractName)),t.push(Ti(e.functionName));const n=new Uint8Array(4);pc(n,e.functionArgs.length,0),t.push(n),e.functionArgs.forEach(r=>{t.push(Xs(r))});break;case Qe.SmartContract:t.push(Ti(e.contractName)),t.push(Ti(e.codeBody));break;case Qe.VersionedSmartContract:t.push(e.clarityVersion),t.push(Ti(e.contractName)),t.push(Ti(e.codeBody));break;case Qe.PoisonMicroblock:break;case Qe.Coinbase:t.push(e.coinbaseBytes);break;case Qe.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push(Xs(e.recipient));break;case Qe.NakamotoCoinbase:t.push(e.coinbaseBytes),t.push(Xs(e.recipient?UE(e.recipient):DE())),t.push(e.vrfProof);break;case Qe.TenureChange:t.push(dt(e.tenureHash)),t.push(dt(e.previousTenureHash)),t.push(dt(e.burnViewHash)),t.push(dt(e.previousTenureEnd)),t.push(pc(new Uint8Array(4),e.previousTenureBlocks)),t.push(TB(new Uint8Array(1),e.cause)),t.push(dt(e.publicKeyHash));break}return Pt(t)}function UP(e){const t=pr(e,wt)?e:new wt(e);switch(t.readUInt8Enum(Qe,r=>{throw new Error(`Cannot recognize PayloadType: ${r}`)})){case Qe.TokenTransfer:const r=ss(t),s=Fn(t.readBytes(8)),i=c8(t);return bP(r,s,i);case Qe.ContractCall:const a=Eu(t),o=es(t),c=es(t),l=[],u=t.readUInt32BE();for(let v=0;v<u;v++){const _=ss(t);l.push(_)}return vP(a,o,c,l);case Qe.SmartContract:const f=es(t),d=es(t,4,1e5);return lC(f,d);case Qe.VersionedSmartContract:{const v=t.readUInt8Enum(Fb,U=>{throw new Error(`Cannot recognize ClarityVersion: ${U}`)}),_=es(t),B=es(t,4,QL);return lC(_,B,v)}case Qe.PoisonMicroblock:return SP();case Qe.Coinbase:{const v=t.readBytes(ic);return uC(v)}case Qe.CoinbaseToAltRecipient:{const v=t.readBytes(ic),_=ss(t);return uC(v,_)}case Qe.NakamotoCoinbase:{const v=t.readBytes(ic),_=ss(t),B=t.readBytes(Hb);return AP(v,_,B)}case Qe.TenureChange:const h=Ce(t.readBytes(20)),p=Ce(t.readBytes(20)),g=Ce(t.readBytes(20)),b=Ce(t.readBytes(32)),y=t.readUInt32BE(),m=t.readUInt8Enum(Vb,v=>{throw new Error(`Cannot recognize TenureChangeCause: ${v}`)}),w=Ce(t.readBytes(20));return CP(h,p,g,b,y,m,w)}}function Qb(e){const t=pr(e,wt)?e:new wt(e);return Zb(Ce(t.readBytes(em)))}function $P(e){const t=pr(e,wt)?e:new wt(e),n=t.readUInt8Enum(xs,r=>{throw new Or(`Could not read ${r} as AuthFieldType`)});switch(n){case xs.PublicKeyCompressed:return zl(Ot.Compressed,e1(t));case xs.PublicKeyUncompressed:return zl(Ot.Uncompressed,ju(c9(e1(t).data)));case xs.SignatureCompressed:return zl(Ot.Compressed,Qb(t));case xs.SignatureUncompressed:return zl(Ot.Uncompressed,Qb(t));default:throw new Error(`Unknown auth field type: ${JSON.stringify(n)}`)}}function RE(e){return dt(e.data)}function MP(e){const t=[];switch(e.contents.type){case ie.PublicKey:t.push(e.pubKeyEncoding===Ot.Compressed?xs.PublicKeyCompressed:xs.PublicKeyUncompressed),t.push(dt(o9(e.contents.data)));break;case ie.MessageSignature:t.push(e.pubKeyEncoding===Ot.Compressed?xs.SignatureCompressed:xs.SignatureUncompressed),t.push(RE(e.contents));break}return Pt(t)}function Jb(e){return e.data.slice()}function e1(e){const t=pr(e,wt)?e:new wt(e),n=t.readUInt8(),r=n===4?qL:FL;return ju(Pt([n,t.readBytes(r)]))}function BE(e,t,n,r){if(r.length===0)throw Error("Invalid number of public keys");if((t===ft.P2PKH||t===ft.P2WPKH)&&(r.length!==1||n!==1))throw Error("Invalid number of public keys or signatures");if((t===ft.P2WPKH||t===ft.P2WSH||t===ft.P2WSHNonSequential)&&!r.map(s=>s.data).every(zu))throw Error("Public keys must be compressed for segwit");switch(t){case ft.P2PKH:return yp(e,XP(r[0].data));case ft.P2WPKH:return yp(e,QP(r[0].data));case ft.P2SH:case ft.P2SHNonSequential:return yp(e,JP(n,r.map(Jb)));case ft.P2WSH:case ft.P2WSHNonSequential:return yp(e,e9(n,r.map(Jb)))}}function yp(e,t){return{type:ie.Address,version:e,hash160:t}}function LE(e){return nm.c32address(e.version,e.hash160)}function fC(e){const[t,n,r]=e.split(/\.|::/);return xP(t,n,r)}function Dy(e){if(e.includes(".")){const[t,n]=e.split(".");return _P(t,n)}else return NP(e)}function RP(e){if(e.includes(".")){const[t,n]=e.split(".");return PE(t,n)}else return kE(e)}function kE(e){const t=yo(e);return{type:Re.PrincipalStandard,value:LE(t)}}function BP(e){return{type:Re.PrincipalStandard,value:LE(e)}}function PE(e,t){const n=yo(e),r=Ds(t);return h8(n,r)}function h8(e,t){if(Pu(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:Re.PrincipalContract,value:`${LE(e)}.${t.content}`}}function p8(e){return{type:Re.ResponseErr,value:e}}function g8(e){return{type:Re.ResponseOk,value:e}}const m8=e=>({type:Re.StringASCII,value:e}),y8=e=>({type:Re.StringUTF8,value:e});function w8(e){for(const t in e)if(!t9(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:Re.Tuple,value:e}}function ss(e){let t;if(typeof e=="string"){const r=e.slice(0,2).toLowerCase()==="0x";t=new wt(dt(r?e.slice(2):e))}else e instanceof Uint8Array?t=new wt(e):t=e;switch(t.readUInt8Enum(Zt,r=>{throw new Or(`Cannot recognize Clarity Type: ${r}`)})){case Zt.int:return s8(Ub(t.readBytes(16)));case Zt.uint:return i8(t.readBytes(16));case Zt.buffer:const r=t.readUInt32BE();return r8(t.readBytes(r));case Zt.true:return t8();case Zt.false:return n8();case Zt.address:const s=Eu(t);return BP(s);case Zt.contract:const i=Eu(t),a=es(t);return h8(i,a);case Zt.ok:return g8(ss(t));case Zt.err:return p8(ss(t));case Zt.none:return DE();case Zt.some:return UE(ss(t));case Zt.list:const o=t.readUInt32BE(),c=[];for(let g=0;g<o;g++)c.push(ss(t));return a8(c);case Zt.tuple:const l=t.readUInt32BE(),u={};for(let g=0;g<l;g++){const b=es(t).content;if(b===void 0)throw new Or('"content" is undefined');u[b]=ss(t)}return w8(u);case Zt.ascii:const f=t.readUInt32BE(),d=bB(t.readBytes(f));return m8(d);case Zt.utf8:const h=t.readUInt32BE(),p=X0(t.readBytes(h));return y8(p);default:throw new Or("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}function ui(e,t){return Pt([OE(e),t])}function LP(e){return new Uint8Array([OE(e.type)])}function kP(e){return e.type===Re.OptionalNone?new Uint8Array([OE(e.type)]):ui(e.type,Xs(e.value))}function PP(e){const t=new Uint8Array(4);return pc(t,Math.ceil(e.value.length/2),0),ui(e.type,Q0(t,dt(e.value)))}function jP(e){const t=mE(pB(BigInt(e.value),BigInt(HL)),k4);return ui(e.type,t)}function zP(e){const t=mE(BigInt(e.value),k4);return ui(e.type,t)}function HP(e){return ui(e.type,wh(yo(e.value)))}function FP(e){const[t,n]=r9(e.value);return ui(e.type,Q0(wh(yo(t)),Su(Ds(n))))}function qP(e){return ui(e.type,Xs(e.value))}function VP(e){const t=[],n=new Uint8Array(4);pc(n,e.value.length,0),t.push(n);for(const r of e.value){const s=Xs(r);t.push(s)}return ui(e.type,Pt(t))}function KP(e){const t=[],n=new Uint8Array(4);pc(n,Object.keys(e.value).length,0),t.push(n);const r=Object.keys(e.value).sort((s,i)=>s.localeCompare(i));for(const s of r){const i=Ds(s);t.push(Su(i));const a=Xs(e.value[s]);t.push(a)}return ui(e.type,Pt(t))}function b8(e,t){const n=[],r=t=="ascii"?wB(e.value):Pu(e.value),s=new Uint8Array(4);return pc(s,r.length,0),n.push(s),n.push(r),ui(e.type,Pt(n))}function WP(e){return b8(e,"ascii")}function GP(e){return b8(e,"utf8")}function v8(e){return Ce(Xs(e))}function Xs(e){switch(e.type){case Re.BoolTrue:case Re.BoolFalse:return LP(e);case Re.OptionalNone:case Re.OptionalSome:return kP(e);case Re.Buffer:return PP(e);case Re.UInt:return zP(e);case Re.Int:return jP(e);case Re.PrincipalStandard:return HP(e);case Re.PrincipalContract:return FP(e);case Re.ResponseOk:case Re.ResponseErr:return qP(e);case Re.List:return VP(e);case Re.Tuple:return KP(e);case Re.StringASCII:return WP(e);case Re.StringUTF8:return GP(e);default:throw new jl("Unable to serialize. Invalid Clarity Value.")}}const YP=e=>e.length%2?`0${e}`:e,ZP=(e,t)=>e.padEnd(t,"0"),E8=(e,t)=>e?Pu(e).length>t:!1;function t1(e){return gP(e)}const kd=e=>jk(_E(e)),jE=e=>Ce(hP(e)),XP=e=>Ce(kd(e)),QP=e=>{const t=kd(e),n=Q0(new Uint8Array([0]),new Uint8Array([t.length]),t),r=kd(n);return Ce(r)},JP=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");const n=[];n.push(80+e),t.forEach(i=>{n.push(i.length),n.push(i)}),n.push(80+t.length),n.push(174);const r=Pt(n),s=kd(r);return Ce(s)},e9=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");const n=[];n.push(80+e),t.forEach(c=>{n.push(c.length),n.push(c)}),n.push(80+t.length),n.push(174);const r=Pt(n),s=_E(r),i=[];i.push(0),i.push(s.length),i.push(s);const a=Pt(i),o=kd(a);return Ce(o)};function t9(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}function yce(e){return`0x${v8(e)}`}function n9(e){return ss(e)}const wce=e=>{if(e.okay)return n9(e.result);throw new Error(e.cause)};function r9(e){const[t,n]=e.split(".");if(!t||!n)throw new Error(`Invalid contract identifier: ${e}`);return[t,n]}Ha.hmacSha256Sync=(e,...t)=>{const n=H4.create(_E,e);return t.forEach(r=>n.update(r)),n.digest()};function ju(e){return e=typeof e=="string"?dt(e):e,{type:ie.PublicKey,data:e}}function s9(e,t,n=Ot.Compressed){const r=xB(t),s=new ti(UA(r.r),UA(r.s)),i=mt.fromSignature(e,s,r.recoveryId),a=n===Ot.Compressed;return i.toHex(a)}function i9(e){return typeof e=="string"?e:Ce(e)}const zE=i9;function S8(e){return(typeof e=="string"?e.length/2:e.byteLength)===CB}function zu(e){return!zE(e).startsWith("04")}function a9(e){e=w4(e);const t=S8(e);return Ce(Sk(e.slice(0,32),t))}function o9(e){return mt.fromHex(zE(e)).toHex(!0)}function c9(e){return mt.fromHex(zE(e)).toHex(!1)}function l9(e,t){e=w4(e);const[n,r]=_k(t,e.slice(0,32),{canonical:!0,recovered:!0});if(r==null)throw new Error("No signature recoveryId received");return mh(r,1)+ti.fromHex(n).toCompactHex()}function HE(){return{type:ie.MessageSignature,data:Ce(new Uint8Array(em))}}function A8(e,t,n,r){const s=BE(0,e,1,[ju(t)]).hash160,i=zu(t)?Ot.Compressed:Ot.Uncompressed;return{hashMode:e,signer:s,nonce:Fn(n),fee:Fn(r),keyEncoding:i,signature:HE()}}function Pd(e){return"signature"in e}function dC(e){return e===ft.P2SH||e===ft.P2WSH}function u9(e){return e===ft.P2SHNonSequential||e===ft.P2WSHNonSequential}function hC(e){const t=t1(e);return t.nonce=0,t.fee=0,Pd(t)?t.signature=HE():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function f9(e){const t=[e.hashMode,dt(e.signer),fo(e.nonce,8),fo(e.fee,8),e.keyEncoding,RE(e.signature)];return Pt(t)}function d9(e){const t=[e.hashMode,dt(e.signer),fo(e.nonce,8),fo(e.fee,8)],n=$E(e.fields);t.push(ME(n));const r=new Uint8Array(2);return NB(r,e.signaturesRequired,0),t.push(r),Pt(t)}function h9(e,t){const n=Ce(t.readBytes(20)),r=BigInt(`0x${Ce(t.readBytes(8))}`),s=BigInt(`0x${Ce(t.readBytes(8))}`),i=t.readUInt8Enum(Ot,o=>{throw new Or(`Could not parse ${o} as PubKeyEncoding`)});if(e===ft.P2WPKH&&i!=Ot.Compressed)throw new Or("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");const a=Qb(t);return{hashMode:e,signer:n,nonce:r,fee:s,keyEncoding:i,signature:a}}function p9(e,t){const n=Ce(t.readBytes(20)),r=BigInt("0x"+Ce(t.readBytes(8))),s=BigInt("0x"+Ce(t.readBytes(8))),i=u8(t,ie.TransactionAuthField).values;let a=!1,o=0;for(const l of i)switch(l.contents.type){case ie.PublicKey:zu(l.contents.data)||(a=!0);break;case ie.MessageSignature:if(l.pubKeyEncoding===Ot.Uncompressed&&(a=!0),o+=1,o===65536)throw new Ko("Failed to parse multisig spending condition: too many signatures");break}const c=t.readUInt16BE();if(a&&(e===ft.P2WSH||e===ft.P2WSHNonSequential))throw new Ko("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:n,nonce:r,fee:s,fields:i,signaturesRequired:c}}function Uy(e){return Pd(e)?f9(e):d9(e)}function $y(e){const t=e.readUInt8Enum(ft,n=>{throw new Or(`Could not parse ${n} as AddressHashMode`)});return t===ft.P2PKH||t===ft.P2WPKH?h9(t,e):p9(t,e)}function C8(e,t,n,r){const i=e+Ce(new Uint8Array([t]))+Ce(fo(n,8))+Ce(fo(r,8));if(dt(i).byteLength!==49)throw Error("Invalid signature hash length");return jE(dt(i))}function x8(e,t,n){const r=33+em,s=zu(t.data)?Ot.Compressed:Ot.Uncompressed,i=e+YP(s.toString(16))+n,a=dt(i);if(a.byteLength>r)throw Error("Invalid signature hash length");return jE(a)}function g9(e,t,n,r,s){const i=C8(e,t,n,r),a=l9(s,i),o=ju(a9(s)),c=x8(i,o,a);return{nextSig:a,nextSigHash:c}}function _8(e,t,n,r,s,i){const a=C8(e,t,n,r),o=ju(s9(a,i,s)),c=x8(a,o,i);return{pubKey:o,nextSigHash:c}}function m9(){const e=A8(ft.P2PKH,"",0,0);return e.signer=wP().hash160,e.keyEncoding=Ot.Compressed,e.signature=HE(),e}function pC(e,t,n){return Pd(e)?y9(e,t,n):w9(e,t,n)}function y9(e,t,n){const{pubKey:r,nextSigHash:s}=_8(t,n,e.fee,e.nonce,e.keyEncoding,e.signature.data),i=BE(0,e.hashMode,1,[r]).hash160;if(i!==e.signer)throw new Ko(`Signer hash does not equal hash of public key(s): ${i} != ${e.signer}`);return s}function w9(e,t,n){const r=[];let s=t,i=!1,a=0;for(const c of e.fields)switch(c.contents.type){case ie.PublicKey:zu(c.contents.data)||(i=!0),r.push(c.contents);break;case ie.MessageSignature:c.pubKeyEncoding===Ot.Uncompressed&&(i=!0);const{pubKey:l,nextSigHash:u}=_8(s,n,e.fee,e.nonce,c.pubKeyEncoding,c.contents.data);if(dC(e.hashMode)&&(s=u),r.push(l),a+=1,a===65536)throw new Ko("Too many signatures");break}if(dC(e.hashMode)&&a!==e.signaturesRequired||u9(e.hashMode)&&a<e.signaturesRequired)throw new Ko("Incorrect number of signatures");if(i&&(e.hashMode===ft.P2WSH||e.hashMode===ft.P2WSHNonSequential))throw new Ko("Uncompressed keys are not allowed in this hash mode");const o=BE(0,e.hashMode,e.signaturesRequired,r).hash160;if(o!==e.signer)throw new Ko(`Signer hash does not equal hash of public key(s): ${o} != ${e.signer}`);return s}function N8(e){return{authType:$t.Standard,spendingCondition:e}}function I8(e,t){return{authType:$t.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||A8(ft.P2PKH,"0".repeat(66),0,0)}}function gC(e){if(e.spendingCondition)switch(e.authType){case $t.Standard:return N8(hC(e.spendingCondition));case $t.Sponsored:return I8(hC(e.spendingCondition),m9());default:throw new c0("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}function b9(e,t){switch(e.authType){case $t.Standard:return pC(e.spendingCondition,t,$t.Standard);case $t.Sponsored:return pC(e.spendingCondition,t,$t.Standard);default:throw new c0("Invalid origin auth type")}}function v9(e,t){switch(e.authType){case $t.Standard:const n={...e.spendingCondition,fee:Fn(t)};return{...e,spendingCondition:n};case $t.Sponsored:const r={...e.sponsorSpendingCondition,fee:Fn(t)};return{...e,sponsorSpendingCondition:r}}}function E9(e,t){const n={...e.spendingCondition,nonce:Fn(t)};return{...e,spendingCondition:n}}function S9(e,t){const n={...e.sponsorSpendingCondition,nonce:Fn(t)};return{...e,sponsorSpendingCondition:n}}function A9(e,t){const n={...t,nonce:Fn(t.nonce),fee:Fn(t.fee)};return{...e,sponsorSpendingCondition:n}}function C9(e){const t=[];switch(t.push(e.authType),e.authType){case $t.Standard:t.push(Uy(e.spendingCondition));break;case $t.Sponsored:t.push(Uy(e.spendingCondition)),t.push(Uy(e.sponsorSpendingCondition));break}return Pt(t)}function x9(e){const t=e.readUInt8Enum($t,r=>{throw new Or(`Could not parse ${r} as AuthType`)});let n;switch(t){case $t.Standard:return n=$y(e),N8(n);case $t.Sponsored:n=$y(e);const r=$y(e);return I8(n,r)}}class _9{constructor({auth:t,payload:n,postConditions:r=$E([]),postConditionMode:s=yu.Deny,transactionVersion:i,chainId:a,network:o="mainnet"}){o=jL(o),this.transactionVersion=i??o.transactionVersion,this.chainId=a??o.chainId,this.auth=t,"amount"in n?this.payload={...n,amount:Fn(n.amount)}:this.payload=n,this.postConditionMode=s,this.postConditions=r,this.anchorMode=vr.Any}signBegin(){const t=t1(this);return t.auth=gC(t.auth),t.txid()}verifyBegin(){const t=t1(this);return t.auth=gC(t.auth),t.txid()}verifyOrigin(){return b9(this.auth,this.verifyBegin())}signNextOrigin(t,n){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,$t.Standard,n)}signNextSponsor(t,n){if(this.auth.authType===$t.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,$t.Sponsored,n);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){const n=typeof t=="object"&&"type"in t?t:ju(t),r=this.auth.spendingCondition;if(r&&!Pd(r)){const s=zu(n.data);r.fields.push(zl(s?Ot.Compressed:Ot.Uncompressed,n))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,n,r,s){const{nextSig:i,nextSigHash:a}=g9(n,r,t.fee,t.nonce,s);if(Pd(t))t.signature=Zb(i);else{const o=S8(s);t.fields.push(zl(o?Ot.Compressed:Ot.Uncompressed,Zb(i)))}return a}txid(){const t=this.serializeBytes();return jE(t)}setSponsor(t){if(this.auth.authType!=$t.Sponsored)throw new c0("Cannot sponsor sign a non-sponsored transaction");this.auth=A9(this.auth,t)}setFee(t){this.auth=v9(this.auth,t)}setNonce(t){this.auth=E9(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=$t.Sponsored)throw new c0("Cannot sponsor sign a non-sponsored transaction");this.auth=S9(this.auth,t)}serialize(){return Ce(this.serializeBytes())}serializeBytes(){if(this.transactionVersion===void 0)throw new jl('"transactionVersion" is undefined');if(this.chainId===void 0)throw new jl('"chainId" is undefined');if(this.auth===void 0)throw new jl('"auth" is undefined');if(this.payload===void 0)throw new jl('"payload" is undefined');const t=[];t.push(this.transactionVersion);const n=new Uint8Array(4);return pc(n,this.chainId,0),t.push(n),t.push(C9(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push(ME(this.postConditions)),t.push(d8(this.payload)),Pt(t)}}function N9(e){const t=pr(e,wt)?e:new wt(e),n=t.readUInt8Enum(gc,u=>{throw new Error(`Could not parse ${u} as TransactionVersion`)}),r=t.readUInt32BE(),s=x9(t),i=t.readUInt8Enum(vr,u=>{throw new Error(`Could not parse ${u} as AnchorMode`)}),a=t.readUInt8Enum(yu,u=>{throw new Error(`Could not parse ${u} as PostConditionMode`)}),o=u8(t,ie.PostCondition),c=UP(t),l=new _9({transactionVersion:n,chainId:r,auth:s,payload:c,postConditions:o,postConditionMode:a});return l.anchorMode=i,l}var n1;(function(e){e[e.eq=1]="eq",e[e.gt=2]="gt",e[e.lt=4]="lt",e[e.gte=3]="gte",e[e.lte=5]="lte",e[e.sent=16]="sent",e[e["not-sent"]=17]="not-sent"})(n1||(n1={}));function I9(e){switch(e.type){case"stx-postcondition":return{type:ie.PostCondition,conditionType:wn.STX,principal:e.address==="origin"?{type:ie.Principal,prefix:Br.Origin}:Dy(e.address),conditionCode:My(e.condition),amount:BigInt(e.amount)};case"ft-postcondition":return{type:ie.PostCondition,conditionType:wn.Fungible,principal:e.address==="origin"?{type:ie.Principal,prefix:Br.Origin}:Dy(e.address),conditionCode:My(e.condition),amount:BigInt(e.amount),asset:fC(e.asset)};case"nft-postcondition":return{type:ie.PostCondition,conditionType:wn.NonFungible,principal:e.address==="origin"?{type:ie.Principal,prefix:Br.Origin}:Dy(e.address),conditionCode:My(e.condition),asset:fC(e.asset),assetName:e.assetId};default:throw new Error("Invalid post condition type")}}function My(e){return n1[e]}function mC(e){const t=I9(e);return OP(t)}const T9="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function yC(e){const t="version"in e?e.version:T9.indexOf(e.versionChar.toUpperCase()),n=nm.c32address(t,e.hash160);return e.contractName?`${n}.${e.contractName}`:n}const wC=mP,O9=s8,D9=i8;function bce(e){const[t,n]=e.split(".");return n?PE(t,n):kE(t)}const U9=PE,$9=kE,M9=a8,R9=m8,B9=y8,L9=r8,k9=DE,P9=UE,j9=g8,z9=p8,H9=w8,r1=v8,F9=ss;(function(){(function(e){(function(t){var n=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof vn<"u"&&vn||{},r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function s(A){return A&&DataView.prototype.isPrototypeOf(A)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(A){return A&&i.indexOf(Object.prototype.toString.call(A))>-1};function o(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function c(A){return typeof A!="string"&&(A=String(A)),A}function l(A){var I={next:function(){var $=A.shift();return{done:$===void 0,value:$}}};return r.iterable&&(I[Symbol.iterator]=function(){return I}),I}function u(A){this.map={},A instanceof u?A.forEach(function(I,$){this.append($,I)},this):Array.isArray(A)?A.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(I){this.append(I,A[I])},this)}u.prototype.append=function(A,I){A=o(A),I=c(I);var $=this.map[A];this.map[A]=$?$+", "+I:I},u.prototype.delete=function(A){delete this.map[o(A)]},u.prototype.get=function(A){return A=o(A),this.has(A)?this.map[A]:null},u.prototype.has=function(A){return this.map.hasOwnProperty(o(A))},u.prototype.set=function(A,I){this.map[o(A)]=c(I)},u.prototype.forEach=function(A,I){for(var $ in this.map)this.map.hasOwnProperty($)&&A.call(I,this.map[$],$,this)},u.prototype.keys=function(){var A=[];return this.forEach(function(I,$){A.push($)}),l(A)},u.prototype.values=function(){var A=[];return this.forEach(function(I){A.push(I)}),l(A)},u.prototype.entries=function(){var A=[];return this.forEach(function(I,$){A.push([$,I])}),l(A)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function f(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function d(A){return new Promise(function(I,$){A.onload=function(){I(A.result)},A.onerror=function(){$(A.error)}})}function h(A){var I=new FileReader,$=d(I);return I.readAsArrayBuffer(A),$}function p(A){var I=new FileReader,$=d(I),L=/charset=([A-Za-z0-9_-]+)/.exec(A.type),P=L?L[1]:"utf-8";return I.readAsText(A,P),$}function g(A){for(var I=new Uint8Array(A),$=new Array(I.length),L=0;L<I.length;L++)$[L]=String.fromCharCode(I[L]);return $.join("")}function b(A){if(A.slice)return A.slice(0);var I=new Uint8Array(A.byteLength);return I.set(new Uint8Array(A)),I.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:r.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:r.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():r.arrayBuffer&&r.blob&&s(A)?(this._bodyArrayBuffer=b(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||a(A))?this._bodyArrayBuffer=b(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var A=f(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=f(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=f(this);if(A)return A;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(A){var I=A.toUpperCase();return m.indexOf(I)>-1?I:A}function v(A,I){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var $=I.body;if(A instanceof v){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,I.headers||(this.headers=new u(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!$&&A._bodyInit!=null&&($=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new u(I.headers)),this.method=w(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in n){var S=new AbortController;return S.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var L=/([?&])_=[^&]*/;if(L.test(this.url))this.url=this.url.replace(L,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})};function _(A){var I=new FormData;return A.trim().split("&").forEach(function($){if($){var L=$.split("="),P=L.shift().replace(/\+/g," "),S=L.join("=").replace(/\+/g," ");I.append(decodeURIComponent(P),decodeURIComponent(S))}}),I}function B(A){var I=new u,$=A.replace(/\r?\n[\t ]+/g," ");return $.split("\r").map(function(L){return L.indexOf(`
`)===0?L.substr(1,L.length):L}).forEach(function(L){var P=L.split(":"),S=P.shift().trim();if(S){var E=P.join(":").trim();try{I.append(S,E)}catch(O){console.warn("Response "+O.message)}}}),I}y.call(v.prototype);function U(A,I){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new u(I.headers),this.url=I.url||"",this._initBody(A)}y.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},U.error=function(){var A=new U(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var D=[301,302,303,307,308];U.redirect=function(A,I){if(D.indexOf(I)===-1)throw new RangeError("Invalid status code");return new U(null,{status:I,headers:{location:A}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function(I,$){this.message=I,this.name=$;var L=Error(I);this.stack=L.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(A,I){return new Promise(function($,L){var P=new v(A,I);if(P.signal&&P.signal.aborted)return L(new t.DOMException("Aborted","AbortError"));var S=new XMLHttpRequest;function E(){S.abort()}S.onload=function(){var M={statusText:S.statusText,headers:B(S.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(S.status<200||S.status>599)?M.status=200:M.status=S.status,M.url="responseURL"in S?S.responseURL:M.headers.get("X-Request-URL");var R="response"in S?S.response:S.responseText;setTimeout(function(){$(new U(R,M))},0)},S.onerror=function(){setTimeout(function(){L(new TypeError("Network request failed"))},0)},S.ontimeout=function(){setTimeout(function(){L(new TypeError("Network request timed out"))},0)},S.onabort=function(){setTimeout(function(){L(new t.DOMException("Aborted","AbortError"))},0)};function O(M){try{return M===""&&n.location.href?n.location.href:M}catch{return M}}if(S.open(P.method,O(P.url),!0),P.credentials==="include"?S.withCredentials=!0:P.credentials==="omit"&&(S.withCredentials=!1),"responseType"in S&&(r.blob?S.responseType="blob":r.arrayBuffer&&(S.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof u||n.Headers&&I.headers instanceof n.Headers)){var T=[];Object.getOwnPropertyNames(I.headers).forEach(function(M){T.push(o(M)),S.setRequestHeader(M,c(I.headers[M]))}),P.headers.forEach(function(M,R){T.indexOf(R)===-1&&S.setRequestHeader(R,M)})}else P.headers.forEach(function(M,R){S.setRequestHeader(R,M)});P.signal&&(P.signal.addEventListener("abort",E),S.onreadystatechange=function(){S.readyState===4&&P.signal.removeEventListener("abort",E)}),S.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return x.polyfill=!0,n.fetch||(n.fetch=x,n.Headers=u,n.Request=v,n.Response=U),t.Headers=u,t.Request=v,t.Response=U,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:vn)})();const q9={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function V9(e,t){const n={};return Object.assign(n,q9,t),await fetch(e,n)}function K9(e){let t=V9,n=[];return e.length>0&&typeof e[0]=="function"&&(t=e.shift()),e.length>0&&(n=e),{fetchLib:t,middlewares:n}}function W9(...e){const{fetchLib:t,middlewares:n}=K9(e);return async(s,i)=>{let a={url:s,init:i??{}};for(const c of n)typeof c.pre=="function"&&(a=await Promise.resolve(c.pre({fetch:t,...a}))??a);let o=await t(a.url,a.init);for(const c of n)typeof c.post=="function"&&(o=await Promise.resolve(c.post({fetch:t,url:a.url,init:a.init,response:(o==null?void 0:o.clone())??o}))??o);return o}}var Au;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(Au||(Au={}));var wc;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(wc||(wc={}));var bC;(function(e){e[e.Mainnet=385875968]="Mainnet",e[e.Testnet=4278190080]="Testnet"})(bC||(bC={}));const G9="https://api.mainnet.hiro.so",Y9="https://api.testnet.hiro.so",Z9="http://localhost:3999",X9=["mainnet","testnet","devnet","mocknet"];class Cu{constructor(t){this.version=wc.Mainnet,this.chainId=Au.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===wc.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=n=>`${this.coreApiUrl}${this.accountEndpoint}/${n}?proof=0`,this.getAccountExtendedBalancesApiUrl=n=>`${this.coreApiUrl}/extended/v1/address/${n}/balances`,this.getAbiApiUrl=(n,r)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${n}/${r}`,this.getReadOnlyFunctionCallApiUrl=(n,r,s)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${n}/${r}/${encodeURIComponent(s)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(n,r)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}`;return r&&(s=`${s}?limit=${r.limit}&offset=${r.offset}`),s},this.getRewardsTotalUrl=n=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}/total`,this.getRewardHoldersUrl=(n,r)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${n}`;return r&&(s=`${s}?limit=${r.limit}&offset=${r.offset}`),s},this.getStackerInfoUrl=(n,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${n}/${r}/get-stacker-info`,this.getDataVarUrl=(n,r,s)=>`${this.coreApiUrl}/v2/data_var/${n}/${r}/${s}?proof=0`,this.getMapEntryUrl=(n,r,s)=>`${this.coreApiUrl}/v2/map_entry/${n}/${r}/${s}?proof=0`,this.coreApiUrl=t.url,this.fetchFn=t.fetchFn??W9()}getNameInfo(t){const n=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetchFn(n).then(r=>{if(r.status===404)throw new Error("Name not found");if(r.status!==200)throw new Error(`Bad response status: ${r.status}`);return r.json()}).then(r=>r.address?Object.assign({},r,{address:r.address}):r)}}Cu.fromName=e=>{switch(e){case"mainnet":return new T8;case"testnet":return new O8;case"devnet":return new D8;case"mocknet":return new FE;default:throw new Error(`Invalid network name provided. Must be one of the following: ${X9.join(", ")}`)}};Cu.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:Cu.fromName(e);class T8 extends Cu{constructor(t){super({url:(t==null?void 0:t.url)??G9,fetchFn:t==null?void 0:t.fetchFn}),this.version=wc.Mainnet,this.chainId=Au.Mainnet}}class O8 extends Cu{constructor(t){super({url:(t==null?void 0:t.url)??Y9,fetchFn:t==null?void 0:t.fetchFn}),this.version=wc.Testnet,this.chainId=Au.Testnet}}class FE extends Cu{constructor(t){super({url:(t==null?void 0:t.url)??Z9,fetchFn:t==null?void 0:t.fetchFn}),this.version=wc.Testnet,this.chainId=Au.Testnet}}const D8=FE;function Q9(e,t,n){return VE(U8(e),n)}function U8(e,t){let n=e;if(typeof n=="number"){if(!Number.isInteger(n))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(n>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(n)}if(typeof n=="string")if(n.toLowerCase().startsWith("0x")){let r=n.slice(2);r=r.padStart(r.length+r.length%2,"0"),n=jd(r)}else try{return BigInt(n)}catch(r){if(r instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${n}' is not finite.`)}if(typeof n=="bigint")return n;if(n instanceof Uint8Array)return BigInt(`0x${t7(n)}`);if(n!=null&&typeof n=="object"&&n.constructor.name==="BN")return BigInt(n.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}function qE(e,t=8){return(typeof e=="bigint"?e:U8(e)).toString(16).padStart(t*2,"0")}function VE(e,t=16){const n=qE(e,t);return jd(n)}function J9(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}const e7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function t7(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(const n of e)t+=e7[n];return t}function jd(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);e=e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e;const t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function KE(e){return new TextEncoder().encode(e)}function n7(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function r7(e){return!Number.isInteger(e)||e<0||e>255}function vC(e){if(e.some(r7))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}function WE(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function ea(e){return WE(...e.map(t=>typeof t=="number"?vC([t]):t instanceof Array?vC(t):t))}function sm(e,t,n=0){return e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t,e}var s1;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(s1||(s1={}));s1.Mainnet;const s7=128,i7=128,$8=16;var i1;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(i1||(i1={}));var EC;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(EC||(EC={}));var SC;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3"})(SC||(SC={}));var Es;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(Es||(Es={}));const Ry=["onChainOnly","offChainOnly","any"];Ry[0]+"",Es.OnChainOnly,Ry[1]+"",Es.OffChainOnly,Ry[2]+"",Es.Any,Es.OnChainOnly+"",Es.OnChainOnly,Es.OffChainOnly+"",Es.OffChainOnly,Es.Any+"",Es.Any;var a1;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(a1||(a1={}));a1.Mainnet;var AC;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(AC||(AC={}));var zo;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(zo||(zo={}));var CC;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(CC||(CC={}));var xC;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH",e[e.SerializeP2SHNonSequential=5]="SerializeP2SHNonSequential",e[e.SerializeP2WSHNonSequential=7]="SerializeP2WSHNonSequential"})(xC||(xC={}));var _C;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(_C||(_C={}));var NC;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(NC||(NC={}));var IC;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(IC||(IC={}));var TC;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(TC||(TC={}));var o1;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(o1||(o1={}));var OC;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(OC||(OC={}));var DC;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.TooMuchChaining="TooMuchChaining",e.ConflictingNonceInMempool="ConflictingNonceInMempool",e.BadTransactionVersion="BadTransactionVersion",e.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",e.TransferAmountMustBePositive="TransferAmountMustBePositive",e.ServerFailureDatabase="ServerFailureDatabase",e.EstimatorError="EstimatorError",e.TemporarilyBlacklisted="TemporarilyBlacklisted",e.ServerFailureOther="ServerFailureOther"})(DC||(DC={}));function c1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function a7(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function M8(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o7(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");c1(e.outputLen),c1(e.blockLen)}function c7(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l7(e,t){M8(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const By={number:c1,bool:a7,bytes:M8,hash:o7,exists:c7,output:l7};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ly=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Bs=(e,t)=>e<<32-t|e>>>t,u7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!u7)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function f7(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function R8(e){if(typeof e=="string"&&(e=f7(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class d7{clone(){return this._cloneInto()}}function $c(e){const t=r=>e().update(R8(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function h7(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+l,o,r)}class GE extends d7{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ly(this.buffer)}update(t){By.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=R8(t);const i=t.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=Ly(t);for(;s<=i-a;a+=s)this.process(c,a);continue}r.set(t.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){By.exists(this),By.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;h7(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=Ly(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return t.length=s,t.pos=o,t.finished=i,t.destroyed=a,s%n&&t.buffer.set(r),t}}const p7=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),B8=Uint8Array.from({length:16},(e,t)=>t),g7=B8.map(e=>(9*e+5)%16);let YE=[B8],ZE=[g7];for(let e=0;e<4;e++)for(let t of[YE,ZE])t.push(t[e].map(n=>p7[n]));const L8=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),m7=YE.map((e,t)=>e.map(n=>L8[t][n])),y7=ZE.map((e,t)=>e.map(n=>L8[t][n])),w7=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),b7=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),wp=(e,t)=>e<<t|e>>>32-t;function UC(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const bp=new Uint32Array(16);class v7 extends GE{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:i}=this;return[t,n,r,s,i]}set(t,n,r,s,i){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(t,n){for(let h=0;h<16;h++,n+=4)bp[h]=t.getUint32(n,!0);let r=this.h0|0,s=r,i=this.h1|0,a=i,o=this.h2|0,c=o,l=this.h3|0,u=l,f=this.h4|0,d=f;for(let h=0;h<5;h++){const p=4-h,g=w7[h],b=b7[h],y=YE[h],m=ZE[h],w=m7[h],v=y7[h];for(let _=0;_<16;_++){const B=wp(r+UC(h,i,o,l)+bp[y[_]]+g,w[_])+f|0;r=f,f=l,l=wp(o,10)|0,o=i,i=B}for(let _=0;_<16;_++){const B=wp(s+UC(p,a,c,u)+bp[m[_]]+b,v[_])+d|0;s=d,d=u,u=wp(c,10)|0,c=a,a=B}}this.set(this.h1+o+u|0,this.h2+l+d|0,this.h3+f+s|0,this.h4+r+a|0,this.h0+i+c|0)}roundClean(){bp.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}$c(()=>new v7);const E7=(e,t,n)=>e&t^~e&n,S7=(e,t,n)=>e&t^e&n^t&n,A7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),aa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oa=new Uint32Array(64);class k8 extends GE{constructor(){super(64,32,8,!1),this.A=aa[0]|0,this.B=aa[1]|0,this.C=aa[2]|0,this.D=aa[3]|0,this.E=aa[4]|0,this.F=aa[5]|0,this.G=aa[6]|0,this.H=aa[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:a,G:o,H:c}=this;return[t,n,r,s,i,a,o,c]}set(t,n,r,s,i,a,o,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)oa[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=oa[f-15],h=oa[f-2],p=Bs(d,7)^Bs(d,18)^d>>>3,g=Bs(h,17)^Bs(h,19)^h>>>10;oa[f]=g+oa[f-7]+p+oa[f-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Bs(o,6)^Bs(o,11)^Bs(o,25),h=u+d+E7(o,c,l)+A7[f]+oa[f]|0,g=(Bs(r,2)^Bs(r,13)^Bs(r,22))+S7(r,s,i)|0;u=l,l=c,c=o,o=a+h|0,a=i,i=s,s=r,r=h+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,a,o,c,l,u)}roundClean(){oa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class C7 extends k8{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}$c(()=>new k8);$c(()=>new C7);const vp=BigInt(2**32-1),l1=BigInt(32);function P8(e,t=!1){return t?{h:Number(e&vp),l:Number(e>>l1&vp)}:{h:Number(e>>l1&vp)|0,l:Number(e&vp)|0}}function x7(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=P8(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const _7=(e,t)=>BigInt(e>>>0)<<l1|BigInt(t>>>0),N7=(e,t,n)=>e>>>n,I7=(e,t,n)=>e<<32-n|t>>>n,T7=(e,t,n)=>e>>>n|t<<32-n,O7=(e,t,n)=>e<<32-n|t>>>n,D7=(e,t,n)=>e<<64-n|t>>>n-32,U7=(e,t,n)=>e>>>n-32|t<<64-n,$7=(e,t)=>t,M7=(e,t)=>e,R7=(e,t,n)=>e<<n|t>>>32-n,B7=(e,t,n)=>t<<n|e>>>32-n,L7=(e,t,n)=>t<<n-32|e>>>64-n,k7=(e,t,n)=>e<<n-32|t>>>64-n;function P7(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const j7=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),z7=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,H7=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),F7=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,q7=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),V7=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,_e={fromBig:P8,split:x7,toBig:_7,shrSH:N7,shrSL:I7,rotrSH:T7,rotrSL:O7,rotrBH:D7,rotrBL:U7,rotr32H:$7,rotr32L:M7,rotlSH:R7,rotlSL:B7,rotlBH:L7,rotlBL:k7,add:P7,add3L:j7,add3H:z7,add4L:H7,add4H:F7,add5H:V7,add5L:q7},[K7,W7]=_e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ca=new Uint32Array(80),la=new Uint32Array(80);class im extends GE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:b}=this;return[t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b]}set(t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=b|0}process(t,n){for(let w=0;w<16;w++,n+=4)ca[w]=t.getUint32(n),la[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const v=ca[w-15]|0,_=la[w-15]|0,B=_e.rotrSH(v,_,1)^_e.rotrSH(v,_,8)^_e.shrSH(v,_,7),U=_e.rotrSL(v,_,1)^_e.rotrSL(v,_,8)^_e.shrSL(v,_,7),D=ca[w-2]|0,x=la[w-2]|0,A=_e.rotrSH(D,x,19)^_e.rotrBH(D,x,61)^_e.shrSH(D,x,6),I=_e.rotrSL(D,x,19)^_e.rotrBL(D,x,61)^_e.shrSL(D,x,6),$=_e.add4L(U,I,la[w-7],la[w-16]),L=_e.add4H($,B,A,ca[w-7],ca[w-16]);ca[w]=L|0,la[w]=$|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:b,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const v=_e.rotrSH(f,d,14)^_e.rotrSH(f,d,18)^_e.rotrBH(f,d,41),_=_e.rotrSL(f,d,14)^_e.rotrSL(f,d,18)^_e.rotrBL(f,d,41),B=f&h^~f&g,U=d&p^~d&b,D=_e.add5L(m,_,U,W7[w],la[w]),x=_e.add5H(D,y,v,B,K7[w],ca[w]),A=D|0,I=_e.rotrSH(r,s,28)^_e.rotrBH(r,s,34)^_e.rotrBH(r,s,39),$=_e.rotrSL(r,s,28)^_e.rotrBL(r,s,34)^_e.rotrBL(r,s,39),L=r&i^r&o^i&o,P=s&a^s&c^a&c;y=g|0,m=b|0,g=h|0,b=p|0,h=f|0,p=d|0,{h:f,l:d}=_e.add(l|0,u|0,x|0,A|0),l=o|0,u=c|0,o=i|0,c=a|0,i=r|0,a=s|0;const S=_e.add3L(A,$,P);r=_e.add3H(S,x,I,L),s=S|0}({h:r,l:s}=_e.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=_e.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=_e.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=_e.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=_e.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=_e.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:b}=_e.add(this.Gh|0,this.Gl|0,g|0,b|0),{h:y,l:m}=_e.add(this.Hh|0,this.Hl|0,y|0,m|0),this.set(r,s,i,a,o,c,l,u,f,d,h,p,g,b,y,m)}roundClean(){ca.fill(0),la.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class G7 extends im{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Y7 extends im{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Z7 extends im{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}$c(()=>new im);$c(()=>new G7);$c(()=>new Y7);$c(()=>new Z7);function X7(e,t,n){const s=s7;if(pj(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:i1.LengthPrefixedString,content:e,lengthPrefixBytes:1,maxLengthBytes:s}}var je;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(je||(je={}));class Q7 extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class j8 extends Q7{constructor(t){super(t)}}function am(e){const t=[];return t.push(jd(qE(e.version,1))),t.push(jd(e.hash160)),ea(t)}function J7(e){const t=[];return t.push(e.prefix),t.push(am(e.address)),e.prefix===o1.Contract&&t.push(zd(e.contractName)),ea(t)}function zd(e){const t=[],n=KE(e.content),r=n.byteLength;return t.push(jd(qE(r,e.lengthPrefixBytes))),t.push(n),ea(t)}function ej(e){const t=[];return t.push(am(e.address)),t.push(zd(e.contractName)),t.push(zd(e.assetName)),ea(t)}function tj(e){const t=[];if(t.push(e.conditionType),t.push(J7(e.principal)),(e.conditionType===zo.Fungible||e.conditionType===zo.NonFungible)&&t.push(ej(e.assetInfo)),e.conditionType===zo.NonFungible&&t.push(bh(e.assetName)),t.push(e.conditionCode),e.conditionType===zo.STX||e.conditionType===zo.Fungible){if(e.amount>BigInt("0xffffffffffffffff"))throw new j8("The post-condition amount may not be larger than 8 bytes");t.push(Q9(e.amount,!1,8))}return ea(t)}function fi(e,t){return ea([e,t])}function nj(e){return new Uint8Array([e.type])}function rj(e){return e.type===je.OptionalNone?new Uint8Array([e.type]):fi(e.type,bh(e.value))}function sj(e){const t=new Uint8Array(4);return sm(t,e.buffer.length,0),fi(e.type,WE(t,e.buffer))}function ij(e){const t=VE(J9(e.value,BigInt(i7)),$8);return fi(e.type,t)}function aj(e){const t=VE(e.value,$8);return fi(e.type,t)}function oj(e){return fi(e.type,am(e.address))}function cj(e){return fi(e.type,WE(am(e.address),zd(e.contractName)))}function lj(e){return fi(e.type,bh(e.value))}function uj(e){const t=[],n=new Uint8Array(4);sm(n,e.list.length,0),t.push(n);for(const r of e.list){const s=bh(r);t.push(s)}return fi(e.type,ea(t))}function fj(e){const t=[],n=new Uint8Array(4);sm(n,Object.keys(e.data).length,0),t.push(n);const r=Object.keys(e.data).sort((s,i)=>s.localeCompare(i));for(const s of r){const i=X7(s);t.push(zd(i));const a=bh(e.data[s]);t.push(a)}return fi(e.type,ea(t))}function z8(e,t){const n=[],r=t=="ascii"?n7(e.data):KE(e.data),s=new Uint8Array(4);return sm(s,r.length,0),n.push(s),n.push(r),fi(e.type,ea(n))}function dj(e){return z8(e,"ascii")}function hj(e){return z8(e,"utf8")}function bh(e){switch(e.type){case je.BoolTrue:case je.BoolFalse:return nj(e);case je.OptionalNone:case je.OptionalSome:return rj(e);case je.Buffer:return sj(e);case je.UInt:return aj(e);case je.Int:return ij(e);case je.PrincipalStandard:return oj(e);case je.PrincipalContract:return cj(e);case je.ResponseOk:case je.ResponseErr:return lj(e);case je.List:return uj(e);case je.Tuple:return fj(e);case je.StringASCII:return dj(e);case je.StringUTF8:return hj(e);default:throw new j8("Unable to serialize. Invalid Clarity Value.")}}const pj=(e,t)=>e?KE(e).length>t:!1;var XE={exports:{}},tu=typeof Reflect=="object"?Reflect:null,$C=tu&&typeof tu.apply=="function"?tu.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},ug;tu&&typeof tu.ownKeys=="function"?ug=tu.ownKeys:Object.getOwnPropertySymbols?ug=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ug=function(t){return Object.getOwnPropertyNames(t)};function gj(e){console&&console.warn&&console.warn(e)}var H8=Number.isNaN||function(t){return t!==t};function lt(){lt.init.call(this)}XE.exports=lt;XE.exports.once=bj;lt.EventEmitter=lt;lt.prototype._events=void 0;lt.prototype._eventsCount=0;lt.prototype._maxListeners=void 0;var MC=10;function om(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(lt,"defaultMaxListeners",{enumerable:!0,get:function(){return MC},set:function(e){if(typeof e!="number"||e<0||H8(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");MC=e}});lt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};lt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||H8(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function F8(e){return e._maxListeners===void 0?lt.defaultMaxListeners:e._maxListeners}lt.prototype.getMaxListeners=function(){return F8(this)};lt.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")$C(c,this,n);else for(var l=c.length,u=G8(c,l),r=0;r<l;++r)$C(u[r],this,n);return!0};function q8(e,t,n,r){var s,i,a;if(om(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),a===void 0)a=i[t]=n,++e._eventsCount;else if(typeof a=="function"?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),s=F8(e),s>0&&a.length>s&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=a.length,gj(o)}return e}lt.prototype.addListener=function(t,n){return q8(this,t,n,!1)};lt.prototype.on=lt.prototype.addListener;lt.prototype.prependListener=function(t,n){return q8(this,t,n,!0)};function mj(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V8(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=mj.bind(r);return s.listener=n,r.wrapFn=s,s}lt.prototype.once=function(t,n){return om(n),this.on(t,V8(this,t,n)),this};lt.prototype.prependOnceListener=function(t,n){return om(n),this.prependListener(t,V8(this,t,n)),this};lt.prototype.removeListener=function(t,n){var r,s,i,a,o;if(om(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){o=r[a].listener,i=a;break}if(i<0)return this;i===0?r.shift():yj(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,o||n)}return this};lt.prototype.off=lt.prototype.removeListener;lt.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),a;for(s=0;s<i.length;++s)a=i[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function K8(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?wj(s):G8(s,s.length)}lt.prototype.listeners=function(t){return K8(this,t,!0)};lt.prototype.rawListeners=function(t){return K8(this,t,!1)};lt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):W8.call(e,t)};lt.prototype.listenerCount=W8;function W8(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}lt.prototype.eventNames=function(){return this._eventsCount>0?ug(this._events):[]};function G8(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function yj(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function wj(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function bj(e,t){return new Promise(function(n,r){function s(a){e.removeListener(t,i),r(a)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}Y8(e,t,i,{once:!0}),t!=="error"&&vj(e,s,{once:!0})})}function vj(e,t,n){typeof e.on=="function"&&Y8(e,"error",t,n)}function Y8(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var fs=XE.exports;const QE=rh(fs);var Q={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u1=function(e,t){return u1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},u1(e,t)};function Ej(e,t){u1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var f1=function(){return f1=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},f1.apply(this,arguments)};function Sj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Aj(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function Cj(e,t){return function(n,r){t(n,r,e)}}function xj(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _j(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{l(r.next(u))}catch(f){a(f)}}function c(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?i(u.value):s(u.value).then(o,c)}l((r=r.apply(e,t||[])).next())})}function Nj(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ij(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function Tj(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z8(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function Oj(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Z8(arguments[t]));return e}function Dj(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}function Hd(e){return this instanceof Hd?(this.v=e,this):new Hd(e)}function Uj(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(d){r[d]&&(s[d]=function(h){return new Promise(function(p,g){i.push([d,h,p,g])>1||o(d,h)})})}function o(d,h){try{c(r[d](h))}catch(p){f(i[0][3],p)}}function c(d){d.value instanceof Hd?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){o("next",d)}function u(d){o("throw",d)}function f(d,h){d(h),i.shift(),i.length&&o(i[0][0],i[0][1])}}function $j(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(a){return(n=!n)?{value:Hd(e[s](a)),done:s==="return"}:i?i(a):a}:i}}function Mj(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof d1=="function"?d1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(o,c){a=e[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(l){i({value:l,done:o})},a)}}function Rj(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Bj(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Lj(e){return e&&e.__esModule?e:{default:e}}function kj(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Pj(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const jj=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return f1},__asyncDelegator:$j,__asyncGenerator:Uj,__asyncValues:Mj,__await:Hd,__awaiter:_j,__classPrivateFieldGet:kj,__classPrivateFieldSet:Pj,__createBinding:Ij,__decorate:Aj,__exportStar:Tj,__extends:Ej,__generator:Nj,__importDefault:Lj,__importStar:Bj,__makeTemplateObject:Rj,__metadata:xj,__param:Cj,__read:Z8,__rest:Sj,__spread:Oj,__spreadArrays:Dj,__values:d1},Symbol.toStringTag,{value:"Module"})),cm=pN(jj);var ky={},hf={},RC;function zj(){if(RC)return hf;RC=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return hf.delay=e,hf}var No={},Py={},Io={},BC;function Hj(){return BC||(BC=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.ONE_THOUSAND=Io.ONE_HUNDRED=void 0,Io.ONE_HUNDRED=100,Io.ONE_THOUSAND=1e3),Io}var jy={},LC;function Fj(){return LC||(LC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(jy)),jy}var kC;function X8(){return kC||(kC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=cm;t.__exportStar(Hj(),e),t.__exportStar(Fj(),e)}(Py)),Py}var PC;function qj(){if(PC)return No;PC=1,Object.defineProperty(No,"__esModule",{value:!0}),No.fromMiliseconds=No.toMiliseconds=void 0;const e=X8();function t(r){return r*e.ONE_THOUSAND}No.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return No.fromMiliseconds=n,No}var jC;function Vj(){return jC||(jC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=cm;t.__exportStar(zj(),e),t.__exportStar(qj(),e)}(ky)),ky}var Qc={},zC;function Kj(){if(zC)return Qc;zC=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Qc.Watch=e,Qc.default=e,Qc}var zy={},pf={},HC;function Wj(){if(HC)return pf;HC=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.IWatch=void 0;class e{}return pf.IWatch=e,pf}var FC;function Gj(){return FC||(FC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),cm.__exportStar(Wj(),e)}(zy)),zy}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=cm;t.__exportStar(Vj(),e),t.__exportStar(Kj(),e),t.__exportStar(Gj(),e),t.__exportStar(X8(),e)})(Q);class Mc{}let Yj=class extends Mc{constructor(t){super()}};const qC=Q.FIVE_SECONDS,Rc={pulse:"heartbeat_pulse"};let Zj=class Q8 extends Yj{constructor(t){super(t),this.events=new fs.EventEmitter,this.interval=qC,this.interval=(t==null?void 0:t.interval)||qC}static async init(t){const n=new Q8(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Q.toMiliseconds(this.interval))}pulse(){this.events.emit(Rc.pulse)}};const Xj=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Qj=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Jj=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ez(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){tz(e);return}return t}function tz(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Ep(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Jj.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Xj.test(e)||Qj.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,ez)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function nz(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function rn(e,...t){try{return nz(e(...t))}catch(n){return Promise.reject(n)}}function rz(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function sz(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function fg(e){if(rz(e))return String(e);if(sz(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return fg(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const h1="base64:";function iz(e){return typeof e=="string"?e:h1+cz(e)}function az(e){return typeof e!="string"||!e.startsWith(h1)?e:oz(e.slice(h1.length))}function oz(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function cz(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function rr(e){var t;return e&&((t=e.split("?")[0])==null?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function lz(...e){return rr(e.join(":"))}function Sp(e){return e=rr(e),e?e+":":""}function uz(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function fz(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const dz="memory",hz=()=>{const e=new Map;return{name:dz,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function pz(e={}){const t={mounts:{"":e.driver||hz()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of t.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:t.mounts[u]};return{base:"",relativeKey:l,driver:t.mounts[""]}},r=(l,u)=>t.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:t.mounts[f]})),s=(l,u)=>{if(t.watching){u=rr(u);for(const f of t.watchListeners)f(l,u)}},i=async()=>{if(!t.watching){t.watching=!0;for(const l in t.mounts)t.unwatch[l]=await VC(t.mounts[l],s,l)}},a=async()=>{if(t.watching){for(const l in t.unwatch)await t.unwatch[l]();t.unwatch={},t.watching=!1}},o=(l,u,f)=>{const d=new Map,h=p=>{let g=d.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},d.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",b=rr(g?p:p.key),y=g?void 0:p.value,m=g||!p.options?u:{...u,...p.options},w=n(b);h(w).items.push({key:b,value:y,relativeKey:w.relativeKey,options:m})}return Promise.all([...d.values()].map(p=>f(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=rr(l);const{relativeKey:f,driver:d}=n(l);return rn(d.hasItem,f,u)},getItem(l,u={}){l=rr(l);const{relativeKey:f,driver:d}=n(l);return rn(d.getItem,f,u).then(h=>Ep(h))},getItems(l,u={}){return o(l,u,f=>f.driver.getItems?rn(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(h=>({key:lz(f.base,h.key),value:Ep(h.value)}))):Promise.all(f.items.map(d=>rn(f.driver.getItem,d.relativeKey,d.options).then(h=>({key:d.key,value:Ep(h)})))))},getItemRaw(l,u={}){l=rr(l);const{relativeKey:f,driver:d}=n(l);return d.getItemRaw?rn(d.getItemRaw,f,u):rn(d.getItem,f,u).then(h=>az(h))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=rr(l);const{relativeKey:d,driver:h}=n(l);h.setItem&&(await rn(h.setItem,d,fg(u),f),h.watch||s("update",l))},async setItems(l,u){await o(l,u,async f=>{if(f.driver.setItems)return rn(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:fg(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>rn(f.driver.setItem,d.relativeKey,fg(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=rr(l);const{relativeKey:d,driver:h}=n(l);if(h.setItemRaw)await rn(h.setItemRaw,d,u,f);else if(h.setItem)await rn(h.setItem,d,iz(u),f);else return;h.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=rr(l);const{relativeKey:f,driver:d}=n(l);d.removeItem&&(await rn(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await rn(d.removeItem,f+"$",u),d.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=rr(l);const{relativeKey:f,driver:d}=n(l),h=Object.create(null);if(d.getMeta&&Object.assign(h,await rn(d.getMeta,f,u)),!u.nativeOnly){const p=await rn(d.getItem,f+"$",u).then(g=>Ep(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var b;l=Sp(l);const f=r(l,!0);let d=[];const h=[];let p=!0;for(const y of f){(b=y.driver.flags)!=null&&b.maxDepth||(p=!1);const m=await rn(y.driver.getKeys,y.relativeBase,u);for(const w of m){const v=y.mountpoint+rr(w);d.some(_=>v.startsWith(_))||h.push(v)}d=[y.mountpoint,...d.filter(w=>!w.startsWith(y.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return h.filter(y=>(!g||uz(y,u.maxDepth))&&fz(y,l))},async clear(l,u={}){l=Sp(l),await Promise.all(r(l,!1).map(async f=>{if(f.driver.clear)return rn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(h=>f.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(l=>KC(l)))},async watch(l){return await i(),t.watchListeners.push(l),async()=>{t.watchListeners=t.watchListeners.filter(u=>u!==l),t.watchListeners.length===0&&await a()}},async unwatch(){t.watchListeners=[],await a()},mount(l,u){if(l=Sp(l),l&&t.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(t.mountpoints.push(l),t.mountpoints.sort((f,d)=>d.length-f.length)),t.mounts[l]=u,t.watching&&Promise.resolve(VC(u,s,l)).then(f=>{t.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){var f,d;l=Sp(l),!(!l||!t.mounts[l])&&(t.watching&&l in t.unwatch&&((d=(f=t.unwatch)[l])==null||d.call(f),delete t.unwatch[l]),u&&await KC(t.mounts[l]),t.mountpoints=t.mountpoints.filter(h=>h!==l),delete t.mounts[l])},getMount(l=""){l=rr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=rr(l),r(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function VC(e,t,n){return e.watch?e.watch((r,s)=>t(r,n+s)):()=>{}}async function KC(e){typeof e.dispose=="function"&&await rn(e.dispose)}function Bc(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function J8(e,t){let n;const r=()=>{if(n)return n;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),n=Bc(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(a=>i(a.transaction(t,s).objectStore(t)))}let Hy;function vh(){return Hy||(Hy=J8("keyval-store","keyval")),Hy}function WC(e,t=vh()){return t("readonly",n=>Bc(n.get(e)))}function gz(e,t,n=vh()){return n("readwrite",r=>(r.put(t,e),Bc(r.transaction)))}function mz(e,t=vh()){return t("readwrite",n=>(n.delete(e),Bc(n.transaction)))}function yz(e=vh()){return e("readwrite",t=>(t.clear(),Bc(t.transaction)))}function wz(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Bc(e.transaction)}function bz(e=vh()){return e("readonly",t=>{if(t.getAllKeys)return Bc(t.getAllKeys());const n=[];return wz(t,r=>n.push(r.key)).then(()=>n)})}const vz=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),Ez=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function bc(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return Ez(e)}catch{return e}}function Xi(e){return typeof e=="string"?e:vz(e)||""}const Sz="idb-keyval";var Az=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=s=>t+s;let r;return e.dbName&&e.storeName&&(r=J8(e.dbName,e.storeName)),{name:Sz,options:e,async hasItem(s){return!(typeof await WC(n(s),r)>"u")},async getItem(s){return await WC(n(s),r)??null},setItem(s,i){return gz(n(s),i,r)},removeItem(s){return mz(n(s),r)},getKeys(){return bz(r)},clear(){return yz(r)}}};const Cz="WALLET_CONNECT_V2_INDEXED_DB",xz="keyvaluestorage";let _z=class{constructor(){this.indexedDb=pz({driver:Az({dbName:Cz,storeName:xz})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,Xi(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dg={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Fy<"u"&&Fy.localStorage?dg.exports=Fy.localStorage:typeof window<"u"&&window.localStorage?dg.exports=window.localStorage:dg.exports=new t})();function Nz(e){var t;return[e[0],bc((t=e[1])!=null?t:"")]}let Iz=class{constructor(){this.localStorage=dg.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Nz)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return bc(n)}async setItem(t,n){this.localStorage.setItem(t,Xi(n))}async removeItem(t){this.localStorage.removeItem(t)}};const Tz="wc_storage_version",GC=1,Oz=async(e,t,n)=>{const r=Tz,s=await t.getItem(r);if(s&&s>=GC){n(t);return}const i=await e.getKeys();if(!i.length){n(t);return}const a=[];for(;i.length;){const o=i.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await e.getItem(o);await t.setItem(o,l),a.push(o)}}await t.setItem(r,GC),n(t),Dz(e,a)},Dz=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let Uz=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new Iz;this.storage=t;try{const n=new _z;Oz(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};function $z(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var Mz=Rz;function Rz(e,t,n){var r=n&&n.stringify||$z,s=1;if(typeof e=="object"&&e!==null){var i=t.length+s;if(i===1)return e;var a=new Array(i);a[0]=r(e);for(var o=1;o<i;o++)a[o]=r(t[o]);return a.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var l="",u=1-s,f=-1,d=e&&e.length||0,h=0;h<d;){if(e.charCodeAt(h)===37&&h+1<d){switch(f=f>-1?f:0,e.charCodeAt(h+1)){case 100:case 102:if(u>=c||t[u]==null)break;f<h&&(l+=e.slice(f,h)),l+=Number(t[u]),f=h+2,h++;break;case 105:if(u>=c||t[u]==null)break;f<h&&(l+=e.slice(f,h)),l+=Math.floor(Number(t[u])),f=h+2,h++;break;case 79:case 111:case 106:if(u>=c||t[u]===void 0)break;f<h&&(l+=e.slice(f,h));var p=typeof t[u];if(p==="string"){l+="'"+t[u]+"'",f=h+2,h++;break}if(p==="function"){l+=t[u].name||"<anonymous>",f=h+2,h++;break}l+=r(t[u]),f=h+2,h++;break;case 115:if(u>=c)break;f<h&&(l+=e.slice(f,h)),l+=String(t[u]),f=h+2,h++;break;case 37:f<h&&(l+=e.slice(f,h)),l+="%",f=h+2,h++,u--;break}++u}++h}return f===-1?e:(f<d&&(l+=e.slice(f)),l)}const YC=Mz;var Sl=ni;const Fd=Vz().console||{},Bz={mapHttpRequest:Ap,mapHttpResponse:Ap,wrapRequestSerializer:qy,wrapResponseSerializer:qy,wrapErrorSerializer:qy,req:Ap,res:Ap,err:zz};function Lz(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function ni(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||Fd;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=Lz(e.browser.serialize,r);let i=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),e.enabled===!1&&(e.level="silent");const o=e.level||"info",c=Object.create(n);c.log||(c.log=qd),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:d});const l={transmit:t,serialize:s,asObject:e.browser.asObject,levels:a,timestamp:Hz(e)};c.levels=ni.levels,c.level=o,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=qd,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=h,t&&(c._logEvent=p1());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function d(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Jc(l,c,"error","log"),Jc(l,c,"fatal","error"),Jc(l,c,"warn","error"),Jc(l,c,"info","log"),Jc(l,c,"debug","log"),Jc(l,c,"trace","log")}function h(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const b=g.serializers;if(s&&b){var y=Object.assign({},r,b),m=e.browser.serialize===!0?Object.keys(y):s;delete p.serializers,lm([p],m,y,this._stdErrSerialize)}function w(v){this._childLevel=(v._childLevel|0)+1,this.error=el(v,p,"error"),this.fatal=el(v,p,"fatal"),this.warn=el(v,p,"warn"),this.info=el(v,p,"info"),this.debug=el(v,p,"debug"),this.trace=el(v,p,"trace"),y&&(this.serializers=y,this._serialize=m),t&&(this._logEvent=p1([].concat(v._logEvent.bindings,p)))}return w.prototype=this,new w(this)}return c}ni.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ni.stdSerializers=Bz;ni.stdTimeFunctions=Object.assign({},{nullTime:eO,epochTime:tO,unixTime:Fz,isoTime:qz});function Jc(e,t,n,r){const s=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?qd:s[n]?s[n]:Fd[n]||Fd[r]||qd,kz(e,t,n)}function kz(e,t,n){!e.transmit&&t[n]===qd||(t[n]=function(r){return function(){const i=e.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Fd?Fd:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(e.serialize&&!e.asObject&&lm(a,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?r.call(o,Pz(this,n,a,i)):r.apply(o,a),e.transmit){const l=e.transmit.level||t.level,u=ni.levels.values[l],f=ni.levels.values[n];if(f<u)return;jz(this,{ts:i,methodLevel:n,methodValue:f,transmitValue:ni.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},a)}}}(t[n]))}function Pz(e,t,n,r){e._serialize&&lm(n,e._serialize,e.serializers,e._stdErrSerialize);const s=n.slice();let i=s[0];const a={};r&&(a.time=r),a.level=ni.levels.values[t];let o=(e._childLevel|0)+1;if(o<1&&(o=1),i!==null&&typeof i=="object"){for(;o--&&typeof s[0]=="object";)Object.assign(a,s.shift());i=s.length?YC(s.shift(),s):void 0}else typeof i=="string"&&(i=YC(s.shift(),s));return i!==void 0&&(a.msg=i),a}function lm(e,t,n,r){for(const s in e)if(r&&e[s]instanceof Error)e[s]=ni.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s]))for(const i in e[s])t&&t.indexOf(i)>-1&&i in n&&(e[s][i]=n[i](e[s][i]))}function el(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return e[n].apply(this,r)}}function jz(e,t,n){const r=t.send,s=t.ts,i=t.methodLevel,a=t.methodValue,o=t.val,c=e._logEvent.bindings;lm(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),e._logEvent.level.label=i,e._logEvent.level.value=a,r(i,e._logEvent,o),e._logEvent=p1(c)}function p1(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function zz(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function Hz(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?eO:tO}function Ap(){return{}}function qy(e){return e}function qd(){}function eO(){return!1}function tO(){return Date.now()}function Fz(){return Math.round(Date.now()/1e3)}function qz(){return new Date(Date.now()).toISOString()}function Vz(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const Eh=rh(Sl),Kz={level:"info"},Sh="custom_context",JE=1e3*1024;let Wz=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},ZC=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new Wz(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}},nO=class{constructor(t,n=JE){this.level=t??"error",this.levelValue=Sl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new ZC(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===Sl.levels.values.error?console.error(t):n===Sl.levels.values.warn?console.warn(t):n===Sl.levels.values.debug?console.debug(t):n===Sl.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Xi({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new ZC(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(Xi({extraMetadata:t})),new Blob(n,{type:"application/json"})}},Gz=class{constructor(t,n=JE){this.baseChunkLogger=new nO(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Yz=class{constructor(t,n=JE){this.baseChunkLogger=new nO(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var Zz=Object.defineProperty,Xz=Object.defineProperties,Qz=Object.getOwnPropertyDescriptors,XC=Object.getOwnPropertySymbols,Jz=Object.prototype.hasOwnProperty,eH=Object.prototype.propertyIsEnumerable,QC=(e,t,n)=>t in e?Zz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h0=(e,t)=>{for(var n in t||(t={}))Jz.call(t,n)&&QC(e,n,t[n]);if(XC)for(var n of XC(t))eH.call(t,n)&&QC(e,n,t[n]);return e},p0=(e,t)=>Xz(e,Qz(t));function Ah(e){return p0(h0({},e),{level:(e==null?void 0:e.level)||Kz.level})}function tH(e,t=Sh){return e[t]||""}function nH(e,t,n=Sh){return e[n]=t,e}function gr(e,t=Sh){let n="";return typeof e.bindings>"u"?n=tH(e,t):n=e.bindings().context||"",n}function rH(e,t,n=Sh){const r=gr(e,n);return r.trim()?`${r}/${t}`:t}function qn(e,t,n=Sh){const r=rH(e,t,n),s=e.child({context:r});return nH(s,r,n)}function sH(e){var t,n;const r=new Gz((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Eh(p0(h0({},e.opts),{level:"trace",browser:p0(h0({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function iH(e){var t;const n=new Yz((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Eh(p0(h0({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function rO(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?sH(e):iH(e)}var aH=Object.defineProperty,oH=(e,t,n)=>t in e?aH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JC=(e,t,n)=>oH(e,typeof t!="symbol"?t+"":t,n);let cH=class extends Mc{constructor(t){super(),this.opts=t,JC(this,"protocol","wc"),JC(this,"version",2)}};var lH=Object.defineProperty,uH=(e,t,n)=>t in e?lH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fH=(e,t,n)=>uH(e,t+"",n);let dH=class extends Mc{constructor(t,n){super(),this.core=t,this.logger=n,fH(this,"records",new Map)}},hH=class{constructor(t,n){this.logger=t,this.core=n}},pH=class extends Mc{constructor(t,n){super(),this.relayer=t,this.logger=n}},gH=class extends Mc{constructor(t){super()}},mH=class{constructor(t,n,r,s){this.core=t,this.logger=n,this.name=r}},yH=class extends Mc{constructor(t,n){super(),this.relayer=t,this.logger=n}},wH=class extends Mc{constructor(t,n){super(),this.core=t,this.logger=n}},bH=class{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}},vH=class{constructor(t,n){this.projectId=t,this.logger=n}},EH=class{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}};var SH=Object.defineProperty,AH=(e,t,n)=>t in e?SH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ex=(e,t,n)=>AH(e,typeof t!="symbol"?t+"":t,n);let CH=class{constructor(t){this.opts=t,ex(this,"protocol","wc"),ex(this,"version",2)}},xH=class{constructor(t){this.client=t}};function _H(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function sO(e,...t){if(!_H(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function tx(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function NH(e,t){sO(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const tl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vy=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function IH(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function iO(e){return typeof e=="string"&&(e=IH(e)),sO(e),e}let TH=class{clone(){return this._cloneInto()}};function OH(e){const t=r=>e().update(iO(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function aO(e=32){if(tl&&typeof tl.getRandomValues=="function")return tl.getRandomValues(new Uint8Array(e));if(tl&&typeof tl.randomBytes=="function")return tl.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function DH(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+l,o,r)}let UH=class extends TH{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Vy(this.buffer)}update(t){tx(this);const{view:n,buffer:r,blockLen:s}=this;t=iO(t);const i=t.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=Vy(t);for(;s<=i-a;a+=s)this.process(c,a);continue}r.set(t.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){tx(this),NH(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;DH(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=Vy(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return t.length=s,t.pos=o,t.finished=i,t.destroyed=a,s%n&&t.buffer.set(r),t}};const Cp=BigInt(2**32-1),g1=BigInt(32);function oO(e,t=!1){return t?{h:Number(e&Cp),l:Number(e>>g1&Cp)}:{h:Number(e>>g1&Cp)|0,l:Number(e&Cp)|0}}function $H(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=oO(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const MH=(e,t)=>BigInt(e>>>0)<<g1|BigInt(t>>>0),RH=(e,t,n)=>e>>>n,BH=(e,t,n)=>e<<32-n|t>>>n,LH=(e,t,n)=>e>>>n|t<<32-n,kH=(e,t,n)=>e<<32-n|t>>>n,PH=(e,t,n)=>e<<64-n|t>>>n-32,jH=(e,t,n)=>e>>>n-32|t<<64-n,zH=(e,t)=>t,HH=(e,t)=>e,FH=(e,t,n)=>e<<n|t>>>32-n,qH=(e,t,n)=>t<<n|e>>>32-n,VH=(e,t,n)=>t<<n-32|e>>>64-n,KH=(e,t,n)=>e<<n-32|t>>>64-n;function WH(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const GH=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),YH=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,ZH=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),XH=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,QH=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),JH=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Ne={fromBig:oO,split:$H,toBig:MH,shrSH:RH,shrSL:BH,rotrSH:LH,rotrSL:kH,rotrBH:PH,rotrBL:jH,rotr32H:zH,rotr32L:HH,rotlSH:FH,rotlSL:qH,rotlBH:VH,rotlBL:KH,add:WH,add3L:GH,add3H:YH,add4L:ZH,add4H:XH,add5H:JH,add5L:QH},[eF,tF]=Ne.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ua=new Uint32Array(80),fa=new Uint32Array(80);let nF=class extends UH{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:b}=this;return[t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b]}set(t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=b|0}process(t,n){for(let w=0;w<16;w++,n+=4)ua[w]=t.getUint32(n),fa[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const v=ua[w-15]|0,_=fa[w-15]|0,B=Ne.rotrSH(v,_,1)^Ne.rotrSH(v,_,8)^Ne.shrSH(v,_,7),U=Ne.rotrSL(v,_,1)^Ne.rotrSL(v,_,8)^Ne.shrSL(v,_,7),D=ua[w-2]|0,x=fa[w-2]|0,A=Ne.rotrSH(D,x,19)^Ne.rotrBH(D,x,61)^Ne.shrSH(D,x,6),I=Ne.rotrSL(D,x,19)^Ne.rotrBL(D,x,61)^Ne.shrSL(D,x,6),$=Ne.add4L(U,I,fa[w-7],fa[w-16]),L=Ne.add4H($,B,A,ua[w-7],ua[w-16]);ua[w]=L|0,fa[w]=$|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:b,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const v=Ne.rotrSH(f,d,14)^Ne.rotrSH(f,d,18)^Ne.rotrBH(f,d,41),_=Ne.rotrSL(f,d,14)^Ne.rotrSL(f,d,18)^Ne.rotrBL(f,d,41),B=f&h^~f&g,U=d&p^~d&b,D=Ne.add5L(m,_,U,tF[w],fa[w]),x=Ne.add5H(D,y,v,B,eF[w],ua[w]),A=D|0,I=Ne.rotrSH(r,s,28)^Ne.rotrBH(r,s,34)^Ne.rotrBH(r,s,39),$=Ne.rotrSL(r,s,28)^Ne.rotrBL(r,s,34)^Ne.rotrBL(r,s,39),L=r&i^r&o^i&o,P=s&a^s&c^a&c;y=g|0,m=b|0,g=h|0,b=p|0,h=f|0,p=d|0,{h:f,l:d}=Ne.add(l|0,u|0,x|0,A|0),l=o|0,u=c|0,o=i|0,c=a|0,i=r|0,a=s|0;const S=Ne.add3L(A,$,P);r=Ne.add3H(S,x,I,L),s=S|0}({h:r,l:s}=Ne.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=Ne.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Ne.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Ne.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Ne.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=Ne.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:b}=Ne.add(this.Gh|0,this.Gl|0,g|0,b|0),{h:y,l:m}=Ne.add(this.Hh|0,this.Hl|0,y|0,m|0),this.set(r,s,i,a,o,c,l,u,f,d,h,p,g,b,y,m)}roundClean(){ua.fill(0),fa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const rF=OH(()=>new nF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e2=BigInt(0),cO=BigInt(1),sF=BigInt(2);function t2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function n2(e){if(!t2(e))throw new Error("Uint8Array expected")}function Ky(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const iF=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function r2(e){n2(e);let t="";for(let n=0;n<e.length;n++)t+=iF[e[n]];return t}function lO(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?e2:BigInt("0x"+e)}const vi={_0:48,_9:57,A:65,F:70,a:97,f:102};function nx(e){if(e>=vi._0&&e<=vi._9)return e-vi._0;if(e>=vi.A&&e<=vi.F)return e-(vi.A-10);if(e>=vi.a&&e<=vi.f)return e-(vi.a-10)}function uO(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=nx(e.charCodeAt(i)),o=nx(e.charCodeAt(i+1));if(a===void 0||o===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=a*16+o}return r}function aF(e){return lO(r2(e))}function hg(e){return n2(e),lO(r2(Uint8Array.from(e).reverse()))}function fO(e,t){return uO(e.toString(16).padStart(t*2,"0"))}function m1(e,t){return fO(e,t).reverse()}function Ei(e,t,n){let r;if(typeof t=="string")try{r=uO(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(t2(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function rx(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];n2(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const Wy=e=>typeof e=="bigint"&&e2<=e;function oF(e,t,n){return Wy(e)&&Wy(t)&&Wy(n)&&t<=e&&e<n}function gf(e,t,n,r){if(!oF(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function cF(e){let t;for(t=0;e>e2;e>>=cO,t+=1);return t}const lF=e=>(sF<<BigInt(e-1))-cO,uF={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||t2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function s2(e,t,n={}){const r=(s,i,a)=>{const o=uF[i];if(typeof o!="function")throw new Error("invalid validator function");const c=e[s];if(!(a&&c===void 0)&&!o(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function sx(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const ln=BigInt(0),Rt=BigInt(1),Ho=BigInt(2),fF=BigInt(3),y1=BigInt(4),ix=BigInt(5),ax=BigInt(8);function Qt(e,t){const n=e%t;return n>=ln?n:t+n}function dF(e,t,n){if(t<ln)throw new Error("invalid exponent, negatives unsupported");if(n<=ln)throw new Error("invalid modulus");if(n===Rt)return ln;let r=Rt;for(;t>ln;)t&Rt&&(r=r*e%n),e=e*e%n,t>>=Rt;return r}function Ls(e,t,n){let r=e;for(;t-- >ln;)r*=r,r%=n;return r}function ox(e,t){if(e===ln)throw new Error("invert: expected non-zero number");if(t<=ln)throw new Error("invert: expected positive modulus, got "+t);let n=Qt(e,t),r=t,s=ln,i=Rt;for(;n!==ln;){const a=r/n,o=r%n,c=s-i*a;r=n,n=o,s=i,i=c}if(r!==Rt)throw new Error("invert: does not exist");return Qt(s,t)}function hF(e){const t=(e-Rt)/Ho;let n,r,s;for(n=e-Rt,r=0;n%Ho===ln;n/=Ho,r++);for(s=Ho;s<e&&dF(s,t,e)!==e-Rt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(e+Rt)/y1;return function(o,c){const l=o.pow(c,a);if(!o.eql(o.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+Rt)/Ho;return function(a,o){if(a.pow(o,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,l=a.pow(a.mul(a.ONE,s),n),u=a.pow(o,i),f=a.pow(o,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let d=1;for(let p=a.sqr(f);d<c&&!a.eql(p,a.ONE);d++)p=a.sqr(p);const h=a.pow(l,Rt<<BigInt(c-d-1));l=a.sqr(h),u=a.mul(u,h),f=a.mul(f,l),c=d}return u}}function pF(e){if(e%y1===fF){const t=(e+Rt)/y1;return function(n,r){const s=n.pow(r,t);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(e%ax===ix){const t=(e-ix)/ax;return function(n,r){const s=n.mul(r,Ho),i=n.pow(s,t),a=n.mul(r,i),o=n.mul(n.mul(a,Ho),i),c=n.mul(a,n.sub(o,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return hF(e)}const gF=(e,t)=>(Qt(e,t)&Rt)===Rt,mF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yF(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=mF.reduce((r,s)=>(r[s]="function",r),t);return s2(e,n)}function wF(e,t,n){if(n<ln)throw new Error("invalid exponent, negatives unsupported");if(n===ln)return e.ONE;if(n===Rt)return t;let r=e.ONE,s=t;for(;n>ln;)n&Rt&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Rt;return r}function bF(e,t){const n=new Array(t.length),r=t.reduce((i,a,o)=>e.is0(a)?i:(n[o]=i,e.mul(i,a)),e.ONE),s=e.inv(r);return t.reduceRight((i,a,o)=>e.is0(a)?i:(n[o]=e.mul(i,n[o]),e.mul(i,a)),s),n}function dO(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function hO(e,t,n=!1,r={}){if(e<=ln)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=dO(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:lF(s),ZERO:ln,ONE:Rt,create:c=>Qt(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ln<=c&&c<e},is0:c=>c===ln,isOdd:c=>(c&Rt)===Rt,neg:c=>Qt(-c,e),eql:(c,l)=>c===l,sqr:c=>Qt(c*c,e),add:(c,l)=>Qt(c+l,e),sub:(c,l)=>Qt(c-l,e),mul:(c,l)=>Qt(c*l,e),pow:(c,l)=>wF(o,c,l),div:(c,l)=>Qt(c*ox(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ox(c,e),sqrt:r.sqrt||(c=>(a||(a=pF(e)),a(o,c))),invertBatch:c=>bF(o,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?m1(c,i):fO(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?hg(c):aF(c)}});return Object.freeze(o)}const cx=BigInt(0),xp=BigInt(1);function Gy(e,t){const n=t.negate();return e?n:t}function pO(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Yy(e,t){pO(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function vF(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function EF(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Zy=new WeakMap,gO=new WeakMap;function Xy(e){return gO.get(e)||1}function SF(e,t){return{constTimeNegate:Gy,hasPrecomputes(n){return Xy(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>cx;)r&xp&&(s=s.add(i)),i=i.double(),r>>=xp;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Yy(r,t),a=[];let o=n,c=o;for(let l=0;l<s;l++){c=o,a.push(c);for(let u=1;u<i;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(n,r,s){const{windows:i,windowSize:a}=Yy(n,t);let o=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let d=0;d<i;d++){const h=d*a;let p=Number(s&l);s>>=f,p>a&&(p-=u,s+=xp);const g=h,b=h+Math.abs(p)-1,y=d%2!==0,m=p<0;p===0?c=c.add(Gy(y,r[g])):o=o.add(Gy(m,r[b]))}return{p:o,f:c}},wNAFUnsafe(n,r,s,i=e.ZERO){const{windows:a,windowSize:o}=Yy(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let f=0;f<a;f++){const d=f*o;if(s===cx)break;let h=Number(s&c);if(s>>=u,h>o&&(h-=l,s+=xp),h===0)continue;let p=r[d+Math.abs(h)-1];h<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=Zy.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Zy.set(r,s(i))),i},wNAFCached(n,r,s){const i=Xy(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const a=Xy(n);return a===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(a,this.getPrecomputes(a,n,s),r,i)},setWindowSize(n,r){pO(r,t),gO.set(n,r),Zy.delete(n)}}}function AF(e,t,n,r){if(vF(n,e),EF(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,i=cF(BigInt(n.length)),a=i>12?i-3:i>4?i-2:i?2:1,o=(1<<a)-1,c=new Array(o+1).fill(s),l=Math.floor((t.BITS-1)/a)*a;let u=s;for(let f=l;f>=0;f-=a){c.fill(s);for(let h=0;h<r.length;h++){const p=r[h],g=Number(p>>BigInt(f)&BigInt(o));c[g]=c[g].add(n[h])}let d=s;for(let h=c.length-1,p=s;h>0;h--)p=p.add(c[h]),d=d.add(p);if(u=u.add(d),f!==0)for(let h=0;h<a;h++)u=u.double()}return u}function CF(e){return yF(e.Fp),s2(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dO(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const ms=BigInt(0),Zn=BigInt(1),_p=BigInt(2),xF=BigInt(8),_F={zip215:!0};function NF(e){const t=CF(e);return s2(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function IF(e){const t=NF(e),{Fp:n,n:r,prehash:s,hash:i,randomBytes:a,nByteLength:o,h:c}=t,l=_p<<BigInt(o*8)-Zn,u=n.create,f=hO(t.n,t.nBitLength),d=t.uvRatio||((S,E)=>{try{return{isValid:!0,value:n.sqrt(S*n.inv(E))}}catch{return{isValid:!1,value:ms}}}),h=t.adjustScalarBytes||(S=>S),p=t.domain||((S,E,O)=>{if(Ky("phflag",O),E.length||O)throw new Error("Contexts/pre-hash are not supported");return S});function g(S,E){gf("coordinate "+S,E,ms,l)}function b(S){if(!(S instanceof w))throw new Error("ExtendedPoint expected")}const y=sx((S,E)=>{const{ex:O,ey:T,ez:M}=S,R=S.is0();E==null&&(E=R?xF:n.inv(M));const z=u(O*E),Z=u(T*E),W=u(M*E);if(R)return{x:ms,y:Zn};if(W!==Zn)throw new Error("invZ was invalid");return{x:z,y:Z}}),m=sx(S=>{const{a:E,d:O}=t;if(S.is0())throw new Error("bad point: ZERO");const{ex:T,ey:M,ez:R,et:z}=S,Z=u(T*T),W=u(M*M),V=u(R*R),te=u(V*V),be=u(Z*E),me=u(V*u(be+W)),De=u(te+u(O*u(Z*W)));if(me!==De)throw new Error("bad point: equation left != right (1)");const ve=u(T*M),st=u(R*z);if(ve!==st)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(E,O,T,M){this.ex=E,this.ey=O,this.ez=T,this.et=M,g("x",E),g("y",O),g("z",T),g("t",M),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof w)throw new Error("extended point not allowed");const{x:O,y:T}=E||{};return g("x",O),g("y",T),new w(O,T,Zn,u(O*T))}static normalizeZ(E){const O=n.invertBatch(E.map(T=>T.ez));return E.map((T,M)=>T.toAffine(O[M])).map(w.fromAffine)}static msm(E,O){return AF(w,f,E,O)}_setWindowSize(E){B.setWindowSize(this,E)}assertValidity(){m(this)}equals(E){b(E);const{ex:O,ey:T,ez:M}=this,{ex:R,ey:z,ez:Z}=E,W=u(O*Z),V=u(R*M),te=u(T*Z),be=u(z*M);return W===V&&te===be}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:E}=t,{ex:O,ey:T,ez:M}=this,R=u(O*O),z=u(T*T),Z=u(_p*u(M*M)),W=u(E*R),V=O+T,te=u(u(V*V)-R-z),be=W+z,me=be-Z,De=W-z,ve=u(te*me),st=u(be*De),xt=u(te*De),Vn=u(me*be);return new w(ve,st,Vn,xt)}add(E){b(E);const{a:O,d:T}=t,{ex:M,ey:R,ez:z,et:Z}=this,{ex:W,ey:V,ez:te,et:be}=E;if(O===BigInt(-1)){const Bh=u((R-M)*(V+W)),bo=u((R+M)*(V-W)),vo=u(bo-Bh);if(vo===ms)return this.double();const Qu=u(z*_p*be),Ju=u(Z*_p*te),ps=Ju+Qu,Eo=bo+Bh,Lh=Ju-Qu,kh=u(ps*vo),Ph=u(Eo*Lh),jh=u(ps*Lh),Om=u(vo*Eo);return new w(kh,Ph,Om,jh)}const me=u(M*W),De=u(R*V),ve=u(Z*T*be),st=u(z*te),xt=u((M+R)*(W+V)-me-De),Vn=st-ve,Fc=st+ve,di=u(De-O*me),qc=u(xt*Vn),Xu=u(Fc*di),Rh=u(xt*di),Tm=u(Vn*Fc);return new w(qc,Xu,Tm,Rh)}subtract(E){return this.add(E.negate())}wNAF(E){return B.wNAFCached(this,E,w.normalizeZ)}multiply(E){const O=E;gf("scalar",O,Zn,r);const{p:T,f:M}=this.wNAF(O);return w.normalizeZ([T,M])[0]}multiplyUnsafe(E,O=w.ZERO){const T=E;return gf("scalar",T,ms,r),T===ms?_:this.is0()||T===Zn?this:B.wNAFCachedUnsafe(this,T,w.normalizeZ,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return B.unsafeLadder(this,r).is0()}toAffine(E){return y(this,E)}clearCofactor(){const{h:E}=t;return E===Zn?this:this.multiplyUnsafe(E)}static fromHex(E,O=!1){const{d:T,a:M}=t,R=n.BYTES;E=Ei("pointHex",E,R),Ky("zip215",O);const z=E.slice(),Z=E[R-1];z[R-1]=Z&-129;const W=hg(z),V=O?l:n.ORDER;gf("pointHex.y",W,ms,V);const te=u(W*W),be=u(te-Zn),me=u(T*te-M);let{isValid:De,value:ve}=d(be,me);if(!De)throw new Error("Point.fromHex: invalid y coordinate");const st=(ve&Zn)===Zn,xt=(Z&128)!==0;if(!O&&ve===ms&&xt)throw new Error("Point.fromHex: x=0 and x_0=1");return xt!==st&&(ve=u(-ve)),w.fromAffine({x:ve,y:W})}static fromPrivateKey(E){return x(E).point}toRawBytes(){const{x:E,y:O}=this.toAffine(),T=m1(O,n.BYTES);return T[T.length-1]|=E&Zn?128:0,T}toHex(){return r2(this.toRawBytes())}}w.BASE=new w(t.Gx,t.Gy,Zn,u(t.Gx*t.Gy)),w.ZERO=new w(ms,Zn,Zn,ms);const{BASE:v,ZERO:_}=w,B=SF(w,o*8);function U(S){return Qt(S,r)}function D(S){return U(hg(S))}function x(S){const E=n.BYTES;S=Ei("private key",S,E);const O=Ei("hashed private key",i(S),2*E),T=h(O.slice(0,E)),M=O.slice(E,2*E),R=D(T),z=v.multiply(R),Z=z.toRawBytes();return{head:T,prefix:M,scalar:R,point:z,pointBytes:Z}}function A(S){return x(S).pointBytes}function I(S=new Uint8Array,...E){const O=rx(...E);return D(i(p(O,Ei("context",S),!!s)))}function $(S,E,O={}){S=Ei("message",S),s&&(S=s(S));const{prefix:T,scalar:M,pointBytes:R}=x(E),z=I(O.context,T,S),Z=v.multiply(z).toRawBytes(),W=I(O.context,Z,R,S),V=U(z+W*M);gf("signature.s",V,ms,r);const te=rx(Z,m1(V,n.BYTES));return Ei("result",te,n.BYTES*2)}const L=_F;function P(S,E,O,T=L){const{context:M,zip215:R}=T,z=n.BYTES;S=Ei("signature",S,2*z),E=Ei("message",E),O=Ei("publicKey",O,z),R!==void 0&&Ky("zip215",R),s&&(E=s(E));const Z=hg(S.slice(z,2*z));let W,V,te;try{W=w.fromHex(O,R),V=w.fromHex(S.slice(0,z),R),te=v.multiplyUnsafe(Z)}catch{return!1}if(!R&&W.isSmallOrder())return!1;const be=I(M,V.toRawBytes(),W.toRawBytes(),E);return V.add(W.multiplyUnsafe(be)).subtract(te).clearCofactor().equals(w.ZERO)}return v._setWindowSize(8),{CURVE:t,getPublicKey:A,sign:$,verify:P,ExtendedPoint:w,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>a(n.BYTES),precompute(S=8,E=w.BASE){return E._setWindowSize(S),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const i2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),lx=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const TF=BigInt(1),ux=BigInt(2);BigInt(3);const OF=BigInt(5),DF=BigInt(8);function UF(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=i2,a=e*e%i*e%i,o=Ls(a,ux,i)*a%i,c=Ls(o,TF,i)*e%i,l=Ls(c,OF,i)*c%i,u=Ls(l,t,i)*l%i,f=Ls(u,n,i)*u%i,d=Ls(f,r,i)*f%i,h=Ls(d,s,i)*d%i,p=Ls(h,s,i)*d%i,g=Ls(p,t,i)*l%i;return{pow_p_5_8:Ls(g,ux,i)*e%i,b2:a}}function $F(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function MF(e,t){const n=i2,r=Qt(t*t*t,n),s=Qt(r*r*t,n),i=UF(e*s).pow_p_5_8;let a=Qt(e*r*i,n);const o=Qt(t*a*a,n),c=a,l=Qt(a*lx,n),u=o===e,f=o===Qt(-e,n),d=o===Qt(-e*lx,n);return u&&(a=c),(f||d)&&(a=l),gF(a,n)&&(a=Qt(-a,n)),{isValid:u||f,value:a}}const RF=hO(i2,void 0,!0),BF={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:RF,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:DF,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:rF,randomBytes:aO,adjustScalarBytes:$F,uvRatio:MF},mO=IF(BF),LF="EdDSA",kF="JWT",g0=".",um="base64url",yO="utf8",wO="utf8",PF=":",jF="did",zF="key",fx="base58btc",HF="z",FF="K36",qF=32;function a2(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function bO(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?a2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function vO(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const n=bO(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return a2(n)}function VF(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var o=e.length,c=e.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,b=0,y=0,m=p.length;y!==m&&p[y]===0;)y++,g++;for(var w=(m-y)*u+1>>>0,v=new Uint8Array(w);y!==m;){for(var _=p[y],B=0,U=w-1;(_!==0||B<b)&&U!==-1;U--,B++)_+=256*v[U]>>>0,v[U]=_%o>>>0,_=_/o>>>0;if(_!==0)throw new Error("Non-zero carry");b=B,y++}for(var D=w-b;D!==w&&v[D]===0;)D++;for(var x=c.repeat(g);D<w;++D)x+=e.charAt(v[D]);return x}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var b=0,y=0;p[g]===c;)b++,g++;for(var m=(p.length-g)*l+1>>>0,w=new Uint8Array(m);p[g];){var v=n[p.charCodeAt(g)];if(v===255)return;for(var _=0,B=m-1;(v!==0||_<y)&&B!==-1;B--,_++)v+=o*w[B]>>>0,w[B]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");y=_,g++}if(p[g]!==" "){for(var U=m-y;U!==m&&w[U]===0;)U++;for(var D=new Uint8Array(b+(m-U)),x=b;U!==m;)D[x++]=w[U++];return D}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var KF=VF,WF=KF;const EO=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},GF=e=>new TextEncoder().encode(e),YF=e=>new TextDecoder().decode(e);let ZF=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},XF=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return SO(this,t)}},QF=class{constructor(t){this.decoders=t}or(t){return SO(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const SO=(e,t)=>new QF({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let JF=class{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new ZF(t,n,r),this.decoder=new XF(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const fm=({name:e,prefix:t,encode:n,decode:r})=>new JF(e,t,n,r),Ch=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=WF(n,t);return fm({prefix:e,name:t,encode:r,decode:i=>EO(s(i))})},eq=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*n/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},tq=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",a=0,o=0;for(let c=0;c<e.length;++c)for(o=o<<8|e[c],a+=8;a>n;)a-=n,i+=t[s&o>>a];if(a&&(i+=t[s&o<<n-a]),r)for(;i.length*n&7;)i+="=";return i},In=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>fm({prefix:t,name:e,encode(s){return tq(s,r,n)},decode(s){return eq(s,r,n,e)}}),nq=fm({prefix:"\0",name:"identity",encode:e=>YF(e),decode:e=>GF(e)});var rq=Object.freeze({__proto__:null,identity:nq});const sq=In({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var iq=Object.freeze({__proto__:null,base2:sq});const aq=In({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var oq=Object.freeze({__proto__:null,base8:aq});const cq=Ch({prefix:"9",name:"base10",alphabet:"0123456789"});var lq=Object.freeze({__proto__:null,base10:cq});const uq=In({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fq=In({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var dq=Object.freeze({__proto__:null,base16:uq,base16upper:fq});const hq=In({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pq=In({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gq=In({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mq=In({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yq=In({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wq=In({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bq=In({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vq=In({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Eq=In({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Sq=Object.freeze({__proto__:null,base32:hq,base32upper:pq,base32pad:gq,base32padupper:mq,base32hex:yq,base32hexupper:wq,base32hexpad:bq,base32hexpadupper:vq,base32z:Eq});const Aq=Ch({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Cq=Ch({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var xq=Object.freeze({__proto__:null,base36:Aq,base36upper:Cq});const _q=Ch({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Nq=Ch({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Iq=Object.freeze({__proto__:null,base58btc:_q,base58flickr:Nq});const Tq=In({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Oq=In({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Dq=In({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Uq=In({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $q=Object.freeze({__proto__:null,base64:Tq,base64pad:Oq,base64url:Dq,base64urlpad:Uq});const AO=Array.from(""),Mq=AO.reduce((e,t,n)=>(e[n]=t,e),[]),Rq=AO.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function Bq(e){return e.reduce((t,n)=>(t+=Mq[n],t),"")}function Lq(e){const t=[];for(const n of e){const r=Rq[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const kq=fm({prefix:"",name:"base256emoji",encode:Bq,decode:Lq});var Pq=Object.freeze({__proto__:null,base256emoji:kq}),jq=CO,dx=128,zq=-128,Hq=Math.pow(2,31);function CO(e,t,n){t=t||[],n=n||0;for(var r=n;e>=Hq;)t[n++]=e&255|dx,e/=128;for(;e&zq;)t[n++]=e&255|dx,e>>>=7;return t[n]=e|0,CO.bytes=n-r+1,t}var Fq=w1,qq=128,hx=127;function w1(e,r){var n=0,r=r||0,s=0,i=r,a,o=e.length;do{if(i>=o)throw w1.bytes=0,new RangeError("Could not decode varint");a=e[i++],n+=s<28?(a&hx)<<s:(a&hx)*Math.pow(2,s),s+=7}while(a>=qq);return w1.bytes=i-r,n}var Vq=Math.pow(2,7),Kq=Math.pow(2,14),Wq=Math.pow(2,21),Gq=Math.pow(2,28),Yq=Math.pow(2,35),Zq=Math.pow(2,42),Xq=Math.pow(2,49),Qq=Math.pow(2,56),Jq=Math.pow(2,63),eV=function(e){return e<Vq?1:e<Kq?2:e<Wq?3:e<Gq?4:e<Yq?5:e<Zq?6:e<Xq?7:e<Qq?8:e<Jq?9:10},tV={encode:jq,decode:Fq,encodingLength:eV},xO=tV;const px=(e,t,n=0)=>(xO.encode(e,t,n),t),gx=e=>xO.encodingLength(e),b1=(e,t)=>{const n=t.byteLength,r=gx(e),s=r+gx(n),i=new Uint8Array(s+n);return px(e,i,0),px(n,i,r),i.set(t,s),new nV(e,n,t,i)};let nV=class{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}};const _O=({name:e,code:t,encode:n})=>new rV(e,t,n);let rV=class{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?b1(this.code,n):n.then(r=>b1(this.code,r))}else throw Error("Unknown type, must be binary type")}};const NO=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),sV=_O({name:"sha2-256",code:18,encode:NO("SHA-256")}),iV=_O({name:"sha2-512",code:19,encode:NO("SHA-512")});var aV=Object.freeze({__proto__:null,sha256:sV,sha512:iV});const IO=0,oV="identity",TO=EO,cV=e=>b1(IO,TO(e)),lV={code:IO,name:oV,encode:TO,digest:cV};var uV=Object.freeze({__proto__:null,identity:lV});new TextEncoder,new TextDecoder;const mx={...rq,...iq,...oq,...lq,...dq,...Sq,...xq,...Iq,...$q,...Pq};({...aV,...uV});function OO(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const yx=OO("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Qy=OO("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=bO(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),DO={utf8:yx,"utf-8":yx,hex:mx.base16,latin1:Qy,ascii:Qy,binary:Qy,...mx};function dm(e,t="utf8"){const n=DO[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function Hu(e,t="utf8"){const n=DO[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?a2(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function wx(e){return bc(dm(Hu(e,um),yO))}function m0(e){return dm(Hu(Xi(e),yO),um)}function UO(e){const t=Hu(FF,fx),n=HF+dm(vO([t,e]),fx);return[jF,zF,n].join(PF)}function fV(e){return dm(e,um)}function dV(e){return Hu(e,um)}function hV(e){return Hu([m0(e.header),m0(e.payload)].join(g0),wO)}function pV(e){return[m0(e.header),m0(e.payload),fV(e.signature)].join(g0)}function v1(e){const t=e.split(g0),n=wx(t[0]),r=wx(t[1]),s=dV(t[2]),i=Hu(t.slice(0,2).join(g0),wO);return{header:n,payload:r,signature:s,data:i}}function bx(e=aO(qF)){const t=mO.getPublicKey(e);return{secretKey:vO([e,t]),publicKey:t}}async function gV(e,t,n,r,s=Q.fromMiliseconds(Date.now())){const i={alg:LF,typ:kF},a=UO(r.publicKey),o=s+n,c={iss:a,sub:e,aud:t,iat:s,exp:o},l=hV({header:i,payload:c}),u=mO.sign(l,r.secretKey.slice(0,32));return pV({header:i,payload:c,signature:u})}var vx=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},mV=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),yV=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),wV=function(){function e(t,n,r,s){this.name=t,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return e}(),bV=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),vV=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),EV=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SV=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ex=3,AV=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",EV]],Sx=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function CV(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new vV:typeof navigator<"u"?_V(navigator.userAgent):IV()}function xV(e){return e!==""&&AV.reduce(function(t,n){var r=n[0],s=n[1];if(t)return t;var i=s.exec(e);return!!i&&[r,i]},!1)}function _V(e){var t=xV(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new bV;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<Ex&&(s=vx(vx([],s,!0),TV(Ex-s.length),!0)):s=[];var i=s.join("."),a=NV(e),o=SV.exec(e);return o&&o[1]?new wV(n,i,a,o[1]):new mV(n,i,a)}function NV(e){for(var t=0,n=Sx.length;t<n;t++){var r=Sx[t],s=r[0],i=r[1],a=i.exec(e);if(a)return s}return null}function IV(){var e=typeof process<"u"&&process.version;return e?new yV(process.version.slice(1)):null}function TV(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.getLocalStorage=gt.getLocalStorageOrThrow=gt.getCrypto=gt.getCryptoOrThrow=$O=gt.getLocation=gt.getLocationOrThrow=o2=gt.getNavigator=gt.getNavigatorOrThrow=vc=gt.getDocument=gt.getDocumentOrThrow=gt.getFromWindowOrThrow=gt.getFromWindow=void 0;function Lc(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}gt.getFromWindow=Lc;function Fu(e){const t=Lc(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}gt.getFromWindowOrThrow=Fu;function OV(){return Fu("document")}gt.getDocumentOrThrow=OV;function DV(){return Lc("document")}var vc=gt.getDocument=DV;function UV(){return Fu("navigator")}gt.getNavigatorOrThrow=UV;function $V(){return Lc("navigator")}var o2=gt.getNavigator=$V;function MV(){return Fu("location")}gt.getLocationOrThrow=MV;function RV(){return Lc("location")}var $O=gt.getLocation=RV;function BV(){return Fu("crypto")}gt.getCryptoOrThrow=BV;function LV(){return Lc("crypto")}gt.getCrypto=LV;function kV(){return Fu("localStorage")}gt.getLocalStorageOrThrow=kV;function PV(){return Lc("localStorage")}gt.getLocalStorage=PV;var c2={};Object.defineProperty(c2,"__esModule",{value:!0});var MO=c2.getWindowMetadata=void 0;const Ax=gt;function jV(){let e,t;try{e=Ax.getDocumentOrThrow(),t=Ax.getLocationOrThrow()}catch{return null}function n(){const f=e.getElementsByTagName("link"),d=[];for(let h=0;h<f.length;h++){const p=f[h],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const b=p.getAttribute("href");if(b)if(b.toLowerCase().indexOf("https:")===-1&&b.toLowerCase().indexOf("http:")===-1&&b.indexOf("//")!==0){let y=t.protocol+"//"+t.host;if(b.indexOf("/")===0)y+=b;else{const m=t.pathname.split("/");m.pop();const w=m.join("/");y+=w+"/"+b}d.push(y)}else if(b.indexOf("//")===0){const y=t.protocol+b;d.push(y)}else d.push(b)}}return d}function r(...f){const d=e.getElementsByTagName("meta");for(let h=0;h<d.length;h++){const p=d[h],g=["itemprop","property","name"].map(b=>p.getAttribute(b)).filter(b=>b?f.includes(b):!1);if(g.length&&g){const b=p.getAttribute("content");if(b)return b}}return""}function s(){let f=r("name","og:site_name","og:title","twitter:title");return f||(f=e.title),f}function i(){return r("description","og:description","twitter:description","keywords")}const a=s(),o=i(),c=t.origin,l=n();return{description:o,url:c,icons:l,name:a}}MO=c2.getWindowMetadata=jV;function Vd(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function E1(e){return Vd(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const RO="2.31.0";let mf={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${RO}`};class Ec extends Error{constructor(t,n={}){var o;const r=(()=>{var c;return n.cause instanceof Ec?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Ec&&n.cause.docsPath||n.docsPath,i=(o=mf.getDocsUrl)==null?void 0:o.call(mf,{...n,docsPath:s}),a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...mf.version?[`Version: ${mf.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=RO}walk(t){return BO(this,t)}}function BO(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?BO(e.cause,t):t?null:e}class LO extends Ec{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function qu(e,{dir:t,size:n=32}={}){return typeof e=="string"?zV(e,{dir:t,size:n}):HV(e,{dir:t,size:n})}function zV(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new LO({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function HV(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new LO({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class FV extends Ec{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class qV extends Ec{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Vu(e,{size:t}){if(E1(e)>t)throw new qV({givenSize:E1(e),maxSize:t})}function S1(e,t={}){const{signed:n}=t;t.size&&Vu(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function VV(e,t={}){return Number(S1(e,t))}const KV=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function A1(e,t={}){return typeof e=="number"||typeof e=="bigint"?PO(e,t):typeof e=="string"?YV(e,t):typeof e=="boolean"?WV(e,t):kO(e,t)}function WV(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Vu(n,{size:t.size}),qu(n,{size:t.size})):n}function kO(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=KV[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Vu(r,{size:t.size}),qu(r,{dir:"right",size:t.size})):r}function PO(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const c=typeof e=="bigint"?"n":"";throw new FV({max:i?`${i}${c}`:void 0,min:`${a}${c}`,signed:n,size:r,value:`${e}${c}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?qu(o,{size:r}):o}const GV=new TextEncoder;function YV(e,t={}){const n=GV.encode(e);return kO(n,t)}const ZV=new TextEncoder;function XV(e,t={}){return typeof e=="number"||typeof e=="bigint"?JV(e,t):typeof e=="boolean"?QV(e,t):Vd(e)?jO(e,t):zO(e,t)}function QV(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Vu(n,{size:t.size}),qu(n,{size:t.size})):n}const Si={zero:48,nine:57,A:65,F:70,a:97,f:102};function Cx(e){if(e>=Si.zero&&e<=Si.nine)return e-Si.zero;if(e>=Si.A&&e<=Si.F)return e-(Si.A-10);if(e>=Si.a&&e<=Si.f)return e-(Si.a-10)}function jO(e,t={}){let n=e;t.size&&(Vu(n,{size:t.size}),n=qu(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let a=0,o=0;a<s;a++){const c=Cx(r.charCodeAt(o++)),l=Cx(r.charCodeAt(o++));if(c===void 0||l===void 0)throw new Ec(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);i[a]=c*16+l}return i}function JV(e,t){const n=PO(e,t);return jO(n)}function zO(e,t={}){const n=ZV.encode(e);return typeof t.size=="number"?(Vu(n,{size:t.size}),qu(n,{dir:"right",size:t.size})):n}function HO(e,t){const n=t||"hex",r=LU(Vd(e,{strict:!1})?XV(e):e);return n==="bytes"?r:A1(r)}class eK extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Jy=new eK(8192);function tK(e,t){if(Jy.has(`${e}.${t}`))return Jy.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=HO(zO(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const i=`0x${s.join("")}`;return Jy.set(`${e}.${t}`,i),i}function nK(e){const t=HO(`0x${e.substring(4)}`).substring(26);return tK(`0x${t}`)}async function rK({hash:e,signature:t}){const n=Vd(e)?e:A1(e),{secp256k1:r}=await Hn(async()=>{const{secp256k1:a}=await import("./secp256k1-D_X4hvUI.js");return{secp256k1:a}},__vite__mapDeps([5,1,2]));return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:l,s:u,v:f,yParity:d}=t,h=Number(d??f),p=xx(h);return new r.Signature(S1(l),S1(u)).addRecoveryBit(p)}const a=Vd(t)?t:A1(t);if(E1(a)!==65)throw new Error("invalid signature length");const o=VV(`0x${a.slice(130)}`),c=xx(o);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function xx(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function sK({hash:e,signature:t}){return nK(await rK({hash:e,signature:t}))}function iK(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let l=0;l<t.length;l++)t[l]=255;for(let l=0;l<e.length;l++){const u=e.charAt(l),f=u.charCodeAt(0);if(t[f]!==255)throw new TypeError(u+" is ambiguous");t[f]=l}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0;const h=l.length;for(;d!==h&&l[d]===0;)d++,u++;const p=(h-d)*i+1>>>0,g=new Uint8Array(p);for(;d!==h;){let m=l[d],w=0;for(let v=p-1;(m!==0||w<f)&&v!==-1;v--,w++)m+=256*g[v]>>>0,g[v]=m%n>>>0,m=m/n>>>0;if(m!==0)throw new Error("Non-zero carry");f=w,d++}let b=p-f;for(;b!==p&&g[b]===0;)b++;let y=r.repeat(u);for(;b<p;++b)y+=e.charAt(g[b]);return y}function o(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===r;)f++,u++;const h=(l.length-u)*s+1>>>0,p=new Uint8Array(h);for(;u<l.length;){const m=l.charCodeAt(u);if(m>255)return;let w=t[m];if(w===255)return;let v=0;for(let _=h-1;(w!==0||v<d)&&_!==-1;_--,v++)w+=n*p[_]>>>0,p[_]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");d=v,u++}let g=h-d;for(;g!==h&&p[g]===0;)g++;const b=new Uint8Array(f+(h-g));let y=f;for(;g!==h;)b[y++]=p[g++];return b}function c(l){const u=o(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:o,decode:c}}var aK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Ku=iK(aK);function oK(e){const t=e.length;let n=0,r=0;for(;r<t;){let s=e.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<t){const i=e.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function cK(e,t,n){const r=e.length;let s=n,i=0;for(;i<r;){let a=e.charCodeAt(i++);if(a&4294967168)if(!(a&4294965248))t[s++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&i<r){const o=e.charCodeAt(i);(o&64512)===56320&&(++i,a=((a&1023)<<10)+(o&1023)+65536)}a&4294901760?(t[s++]=a>>18&7|240,t[s++]=a>>12&63|128,t[s++]=a>>6&63|128):(t[s++]=a>>12&15|224,t[s++]=a>>6&63|128)}else{t[s++]=a;continue}t[s++]=a&63|128}}const lK=new TextEncoder,uK=50;function fK(e,t,n){lK.encodeInto(e,t.subarray(n))}function dK(e,t,n){e.length>uK?fK(e,t,n):cK(e,t,n)}const hK=4096;function FO(e,t,n){let r=t;const s=r+n,i=[];let a="";for(;r<s;){const o=e[r++];if(!(o&128))i.push(o);else if((o&224)===192){const c=e[r++]&63;i.push((o&31)<<6|c)}else if((o&240)===224){const c=e[r++]&63,l=e[r++]&63;i.push((o&31)<<12|c<<6|l)}else if((o&248)===240){const c=e[r++]&63,l=e[r++]&63,u=e[r++]&63;let f=(o&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f)}else i.push(o);i.length>=hK&&(a+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(a+=String.fromCharCode(...i)),a}const pK=new TextDecoder,gK=200;function mK(e,t,n){const r=e.subarray(t,t+n);return pK.decode(r)}function yK(e,t,n){return n>gK?mK(e,t,n):FO(e,t,n)}class Np{constructor(t,n){this.type=t,this.data=n}}class Cr extends Error{constructor(t){super(t);const n=Object.create(Cr.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Cr.name})}}const yf=4294967295;function wK(e,t,n){const r=n/4294967296,s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function qO(e,t,n){const r=Math.floor(n/4294967296),s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function VO(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}function bK(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}const vK=-1,EK=4294967296-1,SK=17179869184-1;function AK({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=SK)if(t===0&&e<=EK){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}else{const n=e/4294967296,r=e&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,t<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),qO(r,4,e),n}}function CK(e){const t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function xK(e){if(e instanceof Date){const t=CK(e);return AK(t)}else return null}function _K(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const n=t.getUint32(0),r=t.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=VO(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new Cr(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function NK(e){const t=_K(e);return new Date(t.sec*1e3+t.nsec/1e6)}const IK={type:vK,encode:xK,decode:NK};class y0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(IK)}register({type:t,encode:n,decode:r}){if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const s=-1-t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(t,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(t,n);if(i!=null){const a=-1-r;return new Np(a,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(t,n);if(i!=null){const a=r;return new Np(a,i)}}}return t instanceof Np?t:null}decode(t,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(t,n,r):new Np(n,t)}}y0.defaultCodec=new y0;function TK(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function C1(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):TK(e)?new Uint8Array(e):Uint8Array.from(e)}const OK=100,DK=2048;let UK=class KO{constructor(t){this.entered=!1,this.extensionCodec=(t==null?void 0:t.extensionCodec)??y0.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(t==null?void 0:t.useBigInt64)??!1,this.maxDepth=(t==null?void 0:t.maxDepth)??OK,this.initialBufferSize=(t==null?void 0:t.initialBufferSize)??DK,this.sortKeys=(t==null?void 0:t.sortKeys)??!1,this.forceFloat32=(t==null?void 0:t.forceFloat32)??!1,this.ignoreUndefined=(t==null?void 0:t.ignoreUndefined)??!1,this.forceIntegerToFloat=(t==null?void 0:t.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new KO({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)}ensureBufferSizeToWrite(t){const n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(t){const n=new ArrayBuffer(t),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const r=oK(t);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),dK(t,this.bytes,this.pos),this.pos+=r}encodeObject(t,n){const r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=C1(t);this.writeU8a(r)}encodeArray(t,n){const r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of t)this.doEncode(s,n+1)}countWithoutUndefined(t,n){let r=0;for(const s of n)t[s]!==void 0&&r++;return r}encodeMap(t,n){const r=Object.keys(t);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const a=t[i];this.ignoreUndefined&&a===void 0||(this.encodeString(i),this.doEncode(a,n+1))}}encodeExtension(t){if(typeof t.data=="function"){const r=t.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(t.type),this.writeU8a(r);return}const n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),wK(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),qO(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}};function $K(e,t){return new UK(t).encodeSharedRef(e)}function ew(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const MK=16,RK=16;class BK{constructor(t=MK,n=RK){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,n,r){const s=this.caches[r-1];e:for(const i of s){const a=i.bytes;for(let o=0;o<r;o++)if(a[o]!==t[n+o])continue e;return i.str}return null}store(t,n){const r=this.caches[t.length-1],s={bytes:t,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(t,n,r){const s=this.find(t,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=FO(t,n,r),a=Uint8Array.prototype.slice.call(t,n,n+r);return this.store(a,i),i}}const x1="array",ad="map_key",WO="map_value",LK=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new Cr("The type of key must be string or number but "+typeof e)};class kK{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const n=this.getUninitializedStateFromPool();n.type=x1,n.position=0,n.size=t,n.array=new Array(t)}pushMapState(t){const n=this.getUninitializedStateFromPool();n.type=ad,n.readCount=0,n.size=t,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===x1){const r=t;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(t.type===ad||t.type===WO){const r=t;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const wf=-1,l2=new DataView(new ArrayBuffer(0)),PK=new Uint8Array(l2.buffer);try{l2.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const _x=new RangeError("Insufficient data"),jK=new BK;let zK=class GO{constructor(t){this.totalPos=0,this.pos=0,this.view=l2,this.bytes=PK,this.headByte=wf,this.stack=new kK,this.entered=!1,this.extensionCodec=(t==null?void 0:t.extensionCodec)??y0.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(t==null?void 0:t.useBigInt64)??!1,this.rawStrings=(t==null?void 0:t.rawStrings)??!1,this.maxStrLength=(t==null?void 0:t.maxStrLength)??yf,this.maxBinLength=(t==null?void 0:t.maxBinLength)??yf,this.maxArrayLength=(t==null?void 0:t.maxArrayLength)??yf,this.maxMapLength=(t==null?void 0:t.maxMapLength)??yf,this.maxExtLength=(t==null?void 0:t.maxExtLength)??yf,this.keyDecoder=(t==null?void 0:t.keyDecoder)!==void 0?t.keyDecoder:jK,this.mapKeyConverter=(t==null?void 0:t.mapKeyConverter)??LK}clone(){return new GO({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=wf,this.stack.reset()}setBuffer(t){const n=C1(t);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===wf&&!this.hasRemaining(1))this.setBuffer(t);else{const n=this.bytes.subarray(this.pos),r=C1(t),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let n=!1,r;for await(const o of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${ew(s)} at ${a} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,n){if(this.entered){yield*this.clone().decodeMultiAsync(t,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of t){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let n;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){const s=t-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t<160){const s=t-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=t-160;n=this.decodeString(s,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(t===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(t===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(t===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(t===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(t===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(t===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(t===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(t===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new Cr(`Unrecognized type byte: ${ew(t)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===x1)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===ad){if(n==="__proto__")throw new Cr("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=WO;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=ad;continue e}}return n}}readHeadByte(){return this.headByte===wf&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=wf}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new Cr(`Unrecognized array type byte: ${ew(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new Cr(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new Cr(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,n):this.decodeBinary(t,n)}decodeUtf8String(t,n){var i;if(t>this.maxStrLength)throw new Cr(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+t)throw _x;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(t))?s=this.keyDecoder.decode(this.bytes,r,t):s=yK(this.bytes,r,t),this.pos+=n+t,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===ad:!1}decodeBinary(t,n){if(t>this.maxBinLength)throw new Cr(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+n))throw _x;const r=this.pos+n,s=this.bytes.subarray(r,r+t);return this.pos+=n+t,s}decodeExtension(t,n){if(t>this.maxExtLength)throw new Cr(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(t,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=bK(this.view,this.pos);return this.pos+=8,t}readI64(){const t=VO(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}};function HK(e,t){return new zK(t).decode(e)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function FK(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function YO(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function w0(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function u2(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function _1(e){if(!Array.isArray(e))throw new Error("array expected")}function b0(e,t){if(!YO(!0,t))throw new Error(`${e}: array of strings expected`)}function qK(e,t){if(!YO(!1,t))throw new Error(`${e}: array of numbers expected`)}function VK(...e){const t=i=>i,n=(i,a)=>o=>i(a(o)),r=e.map(i=>i.encode).reduceRight(n,t),s=e.map(i=>i.decode).reduce(n,t);return{encode:r,decode:s}}function KK(e){const t=typeof e=="string"?e.split(""):e,n=t.length;b0("alphabet",t);const r=new Map(t.map((s,i)=>[s,i]));return{encode:s=>(_1(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${e}`);return t[i]})),decode:s=>(_1(s),s.map(i=>{w0("alphabet.decode",i);const a=r.get(i);if(a===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${e}`);return a}))}}function WK(e=""){return w0("join",e),{encode:t=>(b0("join.decode",t),t.join(e)),decode:t=>(w0("join.decode",t),t.split(e))}}function GK(e,t="="){return u2(e),w0("padding",t),{encode(n){for(b0("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){b0("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const ZO=(e,t)=>t===0?e:ZO(t,e%t),v0=(e,t)=>e+(t-ZO(e,t)),tw=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Nx(e,t,n,r){if(_1(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(v0(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${v0(t,n)}`);let s=0,i=0;const a=tw[t],o=tw[n]-1,c=[];for(const l of e){if(u2(l),l>=a)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(s=s<<t|l,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((s>>i-n&o)>>>0);const u=tw[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&o,!r&&i>=t)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function YK(e,t=!1){if(u2(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(v0(8,e)>32||v0(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!FK(n))throw new Error("radix2.encode input should be Uint8Array");return Nx(Array.from(n),8,e,!t)},decode:n=>(qK("radix2.decode",n),Uint8Array.from(Nx(n,e,8,t)))}}const ZK=VK(YK(5),KK("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),GK(5),WK(""));function f2(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function XO(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?f2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function od(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const n=XO(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return f2(n)}function XK(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var o=e.length,c=e.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,b=0,y=0,m=p.length;y!==m&&p[y]===0;)y++,g++;for(var w=(m-y)*u+1>>>0,v=new Uint8Array(w);y!==m;){for(var _=p[y],B=0,U=w-1;(_!==0||B<b)&&U!==-1;U--,B++)_+=256*v[U]>>>0,v[U]=_%o>>>0,_=_/o>>>0;if(_!==0)throw new Error("Non-zero carry");b=B,y++}for(var D=w-b;D!==w&&v[D]===0;)D++;for(var x=c.repeat(g);D<w;++D)x+=e.charAt(v[D]);return x}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var b=0,y=0;p[g]===c;)b++,g++;for(var m=(p.length-g)*l+1>>>0,w=new Uint8Array(m);p[g];){var v=n[p.charCodeAt(g)];if(v===255)return;for(var _=0,B=m-1;(v!==0||_<y)&&B!==-1;B--,_++)v+=o*w[B]>>>0,w[B]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");y=_,g++}if(p[g]!==" "){for(var U=m-y;U!==m&&w[U]===0;)U++;for(var D=new Uint8Array(b+(m-U)),x=b;U!==m;)D[x++]=w[U++];return D}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var QK=XK,JK=QK;const eW=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},tW=e=>new TextEncoder().encode(e),nW=e=>new TextDecoder().decode(e);class rW{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class sW{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return QO(this,t)}}class iW{constructor(t){this.decoders=t}or(t){return QO(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const QO=(e,t)=>new iW({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class aW{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new rW(t,n,r),this.decoder=new sW(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const hm=({name:e,prefix:t,encode:n,decode:r})=>new aW(e,t,n,r),xh=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=JK(n,t);return hm({prefix:e,name:t,encode:r,decode:i=>eW(s(i))})},oW=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*n/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},cW=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",a=0,o=0;for(let c=0;c<e.length;++c)for(o=o<<8|e[c],a+=8;a>n;)a-=n,i+=t[s&o>>a];if(a&&(i+=t[s&o<<n-a]),r)for(;i.length*n&7;)i+="=";return i},Tn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>hm({prefix:t,name:e,encode(s){return cW(s,r,n)},decode(s){return oW(s,r,n,e)}}),lW=hm({prefix:"\0",name:"identity",encode:e=>nW(e),decode:e=>tW(e)}),uW=Object.freeze(Object.defineProperty({__proto__:null,identity:lW},Symbol.toStringTag,{value:"Module"})),fW=Tn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),dW=Object.freeze(Object.defineProperty({__proto__:null,base2:fW},Symbol.toStringTag,{value:"Module"})),hW=Tn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),pW=Object.freeze(Object.defineProperty({__proto__:null,base8:hW},Symbol.toStringTag,{value:"Module"})),gW=xh({prefix:"9",name:"base10",alphabet:"0123456789"}),mW=Object.freeze(Object.defineProperty({__proto__:null,base10:gW},Symbol.toStringTag,{value:"Module"})),yW=Tn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wW=Tn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),bW=Object.freeze(Object.defineProperty({__proto__:null,base16:yW,base16upper:wW},Symbol.toStringTag,{value:"Module"})),vW=Tn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),EW=Tn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),SW=Tn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),AW=Tn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),CW=Tn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),xW=Tn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_W=Tn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),NW=Tn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),IW=Tn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),TW=Object.freeze(Object.defineProperty({__proto__:null,base32:vW,base32hex:CW,base32hexpad:_W,base32hexpadupper:NW,base32hexupper:xW,base32pad:SW,base32padupper:AW,base32upper:EW,base32z:IW},Symbol.toStringTag,{value:"Module"})),OW=xh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),DW=xh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),UW=Object.freeze(Object.defineProperty({__proto__:null,base36:OW,base36upper:DW},Symbol.toStringTag,{value:"Module"})),$W=xh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),MW=xh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),RW=Object.freeze(Object.defineProperty({__proto__:null,base58btc:$W,base58flickr:MW},Symbol.toStringTag,{value:"Module"})),BW=Tn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),LW=Tn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),kW=Tn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),PW=Tn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),jW=Object.freeze(Object.defineProperty({__proto__:null,base64:BW,base64pad:LW,base64url:kW,base64urlpad:PW},Symbol.toStringTag,{value:"Module"})),JO=Array.from(""),zW=JO.reduce((e,t,n)=>(e[n]=t,e),[]),HW=JO.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function FW(e){return e.reduce((t,n)=>(t+=zW[n],t),"")}function qW(e){const t=[];for(const n of e){const r=HW[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const VW=hm({prefix:"",name:"base256emoji",encode:FW,decode:qW}),KW=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:VW},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Ix={...uW,...dW,...pW,...mW,...bW,...TW,...UW,...RW,...jW,...KW};function eD(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Tx=eD("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),nw=eD("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=XO(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),tD={utf8:Tx,"utf-8":Tx,hex:Ix.base16,latin1:nw,ascii:nw,binary:nw,...Ix};function is(e,t="utf8"){const n=tD[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?f2(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function fr(e,t="utf8"){const n=tD[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}const WW={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},GW="Input must be an string, Buffer or Uint8Array";function YW(e){let t;if(e instanceof Uint8Array)t=e;else if(typeof e=="string")t=new TextEncoder().encode(e);else throw new Error(GW);return t}function ZW(e){return Array.prototype.map.call(e,function(t){return(t<16?"0":"")+t.toString(16)}).join("")}function Ip(e){return(4294967296+e).toString(16).substring(1)}function XW(e,t,n){let r=`
`+e+" = ";for(let s=0;s<t.length;s+=2){if(n===32)r+=Ip(t[s]).toUpperCase(),r+=" ",r+=Ip(t[s+1]).toUpperCase();else if(n===64)r+=Ip(t[s+1]).toUpperCase(),r+=Ip(t[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(e.length+4).join(" "):s<t.length-2&&(r+=" ")}console.log(r)}function QW(e,t,n){let r=new Date().getTime();const s=new Uint8Array(t);for(let a=0;a<t;a++)s[a]=a%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let a=0;a<n;a++){const o=e(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+o.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var nD={normalizeInput:YW,toHex:ZW,debugPrint:XW,testSpeed:QW};const pg=nD;function Tp(e,t,n){const r=e[t]+e[n];let s=e[t+1]+e[n+1];r>=4294967296&&s++,e[t]=r,e[t+1]=s}function Ox(e,t,n,r){let s=e[t]+n;n<0&&(s+=4294967296);let i=e[t+1]+r;s>=4294967296&&i++,e[t]=s,e[t+1]=i}function rD(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function da(e,t,n,r,s,i){const a=Lf[s],o=Lf[s+1],c=Lf[i],l=Lf[i+1];Tp(Se,e,t),Ox(Se,e,a,o);let u=Se[r]^Se[e],f=Se[r+1]^Se[e+1];Se[r]=f,Se[r+1]=u,Tp(Se,n,r),u=Se[t]^Se[n],f=Se[t+1]^Se[n+1],Se[t]=u>>>24^f<<8,Se[t+1]=f>>>24^u<<8,Tp(Se,e,t),Ox(Se,e,c,l),u=Se[r]^Se[e],f=Se[r+1]^Se[e+1],Se[r]=u>>>16^f<<16,Se[r+1]=f>>>16^u<<16,Tp(Se,n,r),u=Se[t]^Se[n],f=Se[t+1]^Se[n+1],Se[t]=f>>>31^u<<1,Se[t+1]=u>>>31^f<<1}const sD=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),JW=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Dn=new Uint8Array(JW.map(function(e){return e*2})),Se=new Uint32Array(32),Lf=new Uint32Array(32);function iD(e,t){let n=0;for(n=0;n<16;n++)Se[n]=e.h[n],Se[n+16]=sD[n];for(Se[24]=Se[24]^e.t,Se[25]=Se[25]^e.t/4294967296,t&&(Se[28]=~Se[28],Se[29]=~Se[29]),n=0;n<32;n++)Lf[n]=rD(e.b,4*n);for(n=0;n<12;n++)da(0,8,16,24,Dn[n*16+0],Dn[n*16+1]),da(2,10,18,26,Dn[n*16+2],Dn[n*16+3]),da(4,12,20,28,Dn[n*16+4],Dn[n*16+5]),da(6,14,22,30,Dn[n*16+6],Dn[n*16+7]),da(0,10,20,30,Dn[n*16+8],Dn[n*16+9]),da(2,12,22,24,Dn[n*16+10],Dn[n*16+11]),da(4,14,16,26,Dn[n*16+12],Dn[n*16+13]),da(6,8,18,28,Dn[n*16+14],Dn[n*16+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^Se[n]^Se[n+16]}const ha=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function aD(e,t,n,r){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};ha.fill(0),ha[0]=e,t&&(ha[1]=t.length),ha[2]=1,ha[3]=1,n&&ha.set(n,32),r&&ha.set(r,48);for(let i=0;i<16;i++)s.h[i]=sD[i]^rD(ha,i*4);return t&&(d2(s,t),s.c=128),s}function d2(e,t){for(let n=0;n<t.length;n++)e.c===128&&(e.t+=e.c,iD(e,!1),e.c=0),e.b[e.c++]=t[n]}function oD(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;iD(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3);return t}function cD(e,t,n,r,s){n=n||64,e=pg.normalizeInput(e),r&&(r=pg.normalizeInput(r)),s&&(s=pg.normalizeInput(s));const i=aD(n,t,r,s);return d2(i,e),oD(i)}function eG(e,t,n,r,s){const i=cD(e,t,n,r,s);return pg.toHex(i)}var tG={blake2b:cD,blake2bHex:eG,blake2bInit:aD,blake2bUpdate:d2,blake2bFinal:oD};const lD=nD;function nG(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function pa(e,t,n,r,s,i){Ve[e]=Ve[e]+Ve[t]+s,Ve[r]=Op(Ve[r]^Ve[e],16),Ve[n]=Ve[n]+Ve[r],Ve[t]=Op(Ve[t]^Ve[n],12),Ve[e]=Ve[e]+Ve[t]+i,Ve[r]=Op(Ve[r]^Ve[e],8),Ve[n]=Ve[n]+Ve[r],Ve[t]=Op(Ve[t]^Ve[n],7)}function Op(e,t){return e>>>t^e<<32-t}const uD=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Un=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Ve=new Uint32Array(16),dn=new Uint32Array(16);function fD(e,t){let n=0;for(n=0;n<8;n++)Ve[n]=e.h[n],Ve[n+8]=uD[n];for(Ve[12]^=e.t,Ve[13]^=e.t/4294967296,t&&(Ve[14]=~Ve[14]),n=0;n<16;n++)dn[n]=nG(e.b,4*n);for(n=0;n<10;n++)pa(0,4,8,12,dn[Un[n*16+0]],dn[Un[n*16+1]]),pa(1,5,9,13,dn[Un[n*16+2]],dn[Un[n*16+3]]),pa(2,6,10,14,dn[Un[n*16+4]],dn[Un[n*16+5]]),pa(3,7,11,15,dn[Un[n*16+6]],dn[Un[n*16+7]]),pa(0,5,10,15,dn[Un[n*16+8]],dn[Un[n*16+9]]),pa(1,6,11,12,dn[Un[n*16+10]],dn[Un[n*16+11]]),pa(2,7,8,13,dn[Un[n*16+12]],dn[Un[n*16+13]]),pa(3,4,9,14,dn[Un[n*16+14]],dn[Un[n*16+15]]);for(n=0;n<8;n++)e.h[n]^=Ve[n]^Ve[n+8]}function dD(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(uD),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(h2(r,t),r.c=64),r}function h2(e,t){for(let n=0;n<t.length;n++)e.c===64&&(e.t+=e.c,fD(e,!1),e.c=0),e.b[e.c++]=t[n]}function hD(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;fD(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3)&255;return t}function pD(e,t,n){n=n||32,e=lD.normalizeInput(e);const r=dD(n,t);return h2(r,e),hD(r)}function rG(e,t,n){const r=pD(e,t,n);return lD.toHex(r)}var sG={blake2s:pD,blake2sHex:rG,blake2sInit:dD,blake2sUpdate:h2,blake2sFinal:hD};const bf=tG,vf=sG;var iG={blake2b:bf.blake2b,blake2bHex:bf.blake2bHex,blake2bInit:bf.blake2bInit,blake2bUpdate:bf.blake2bUpdate,blake2bFinal:bf.blake2bFinal,blake2s:vf.blake2s,blake2sHex:vf.blake2sHex,blake2sInit:vf.blake2sInit,blake2sUpdate:vf.blake2sUpdate,blake2sFinal:vf.blake2sFinal},aG={};const oG=":";function nu(e){const[t,n]=e.split(oG);return{namespace:t,reference:n}}function gD(e,t){return e.includes(":")?[e]:t.chains||[]}var cG=Object.defineProperty,lG=Object.defineProperties,uG=Object.getOwnPropertyDescriptors,Dx=Object.getOwnPropertySymbols,fG=Object.prototype.hasOwnProperty,dG=Object.prototype.propertyIsEnumerable,N1=(e,t,n)=>t in e?cG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ux=(e,t)=>{for(var n in t||(t={}))fG.call(t,n)&&N1(e,n,t[n]);if(Dx)for(var n of Dx(t))dG.call(t,n)&&N1(e,n,t[n]);return e},hG=(e,t)=>lG(e,uG(t)),$x=(e,t,n)=>N1(e,typeof t!="symbol"?t+"":t,n);const pG="ReactNative",Dr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},gG="js";function E0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function wo(){return!vc()&&!!o2()&&navigator.product===pG}function mG(){return wo()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function yG(){return wo()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Wu(){return!E0()&&!!o2()&&!!vc()}function _h(){return wo()?Dr.reactNative:E0()?Dr.node:Wu()?Dr.browser:Dr.unknown}function Mx(){var e;try{return wo()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function wG(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const s=t[r];s!==void 0&&n.set(r,s)}return n.toString()}function bG(e){var t,n;const r=mD();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e==null?void 0:e.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(s=>s!=="")),hG(Ux(Ux({},r),e),{url:(e==null?void 0:e.url)||r.url,name:(e==null?void 0:e.name)||r.name,description:(e==null?void 0:e.description)||r.description,icons:(n=e==null?void 0:e.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),e||r}}function mD(){return MO()||{name:"",description:"",url:"",icons:[""]}}function vG(){if(_h()===Dr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=CV();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function EG(){var e;const t=_h();return t===Dr.browser?[t,((e=$O())==null?void 0:e.host)||"unknown"].join(":"):t}function yD(e,t,n){const r=vG(),s=EG();return[[e,t].join("-"),[gG,n].join("-"),r,s].join("/")}function SG({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o,packageName:c}){const l=n.split("?"),u=yD(e,t,r),f={auth:s,ua:u,projectId:i,useOnCloseEvent:a,packageName:c||void 0,bundleId:o||void 0},d=wG(l[1]||"",f);return l[0]+"?"+d}function Go(e,t){return e.filter(n=>t.includes(n)).length===e.length}function I1(e){return Object.fromEntries(e.entries())}function T1(e){return new Map(Object.entries(e))}function ko(e=Q.FIVE_MINUTES,t){const n=Q.toMiliseconds(e||Q.FIVE_MINUTES);let r,s,i,a;return{resolve:o=>{i&&r&&(clearTimeout(i),r(o),a=Promise.resolve(o))},reject:o=>{i&&s&&(clearTimeout(i),s(o))},done:()=>new Promise((o,c)=>{if(a)return o(a);i=setTimeout(()=>{const l=new Error(t);a=Promise.reject(l),c(l)},n),r=o,s=c})}}function Fa(e,t,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),t);try{const a=await e;r(a)}catch(a){s(a)}clearTimeout(i)})}function wD(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function AG(e){return wD("topic",e)}function CG(e){return wD("id",e)}function bD(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function Xt(e,t){return Q.fromMiliseconds(Date.now()+Q.toMiliseconds(e))}function xa(e){return Date.now()>=Q.toMiliseconds(e)}function Xe(e,t){return`${e}${t?`:${t}`:""}`}function ri(e=[],t=[]){return[...new Set([...e,...t])]}async function xG({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const a=_G(i,e,t),o=_h();if(o===Dr.browser){if(!((r=vc())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}NG(a)}else o===Dr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(s){console.error(s)}}function _G(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){const i=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${DG(r,!0)}`}else s=`${s}/wc?${r}`;return s}function NG(e){let t="_self";OG()?t="_top":(TG()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function IG(e,t){let n="";try{if(Wu()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function Rx(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function Bx(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function p2(){return typeof process<"u"&&aG.IS_VITEST==="true"}function TG(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function OG(){try{return window.self!==window.top}catch{return!1}}function DG(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function vD(e){return Buffer.from(e,"base64").toString("utf-8")}function UG(e){return new Promise(t=>setTimeout(t,e))}let $G=class{constructor({limit:t}){$x(this,"limit"),$x(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}};const Dp=BigInt(2**32-1),Lx=BigInt(32);function ED(e,t=!1){return t?{h:Number(e&Dp),l:Number(e>>Lx&Dp)}:{h:Number(e>>Lx&Dp)|0,l:Number(e&Dp)|0}}function SD(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:o}=ED(e[i],t);[r[i],s[i]]=[a,o]}return[r,s]}const kx=(e,t,n)=>e>>>n,Px=(e,t,n)=>e<<32-n|t>>>n,_a=(e,t,n)=>e>>>n|t<<32-n,Na=(e,t,n)=>e<<32-n|t>>>n,kf=(e,t,n)=>e<<64-n|t>>>n-32,Pf=(e,t,n)=>e>>>n-32|t<<64-n,MG=(e,t)=>t,RG=(e,t)=>e,BG=(e,t,n)=>e<<n|t>>>32-n,LG=(e,t,n)=>t<<n|e>>>32-n,kG=(e,t,n)=>t<<n-32|e>>>64-n,PG=(e,t,n)=>e<<n-32|t>>>64-n;function Ss(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const g2=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),m2=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,jG=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),zG=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,HG=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),FG=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,nl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function y2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Qi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ls(e,...t){if(!y2(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function w2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Qi(e.outputLen),Qi(e.blockLen)}function ho(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function b2(e,t){ls(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Kd(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function us(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function rw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ks(e,t){return e<<32-t|e>>>t}const AD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function CD(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Oi=AD?e=>e:e=>CD(e);function qG(e){for(let t=0;t<e.length;t++)e[t]=CD(e[t]);return e}const Ia=AD?e=>e:qG,xD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",VG=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wd(e){if(ls(e),xD)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=VG[e[n]];return t}const Ai={_0:48,_9:57,A:65,F:70,a:97,f:102};function jx(e){if(e>=Ai._0&&e<=Ai._9)return e-Ai._0;if(e>=Ai.A&&e<=Ai.F)return e-(Ai.A-10);if(e>=Ai.a&&e<=Ai.f)return e-(Ai.a-10)}function v2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(xD)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=jx(e.charCodeAt(i)),o=jx(e.charCodeAt(i+1));if(a===void 0||o===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=a*16+o}return r}function KG(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Os(e){return typeof e=="string"&&(e=KG(e)),ls(e),e}function Yo(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ls(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}let pm=class{};function Nh(e){const t=r=>e().update(Os(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function WG(e){const t=(r,s)=>e(s).update(Os(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function Gu(e=32){if(nl&&typeof nl.getRandomValues=="function")return nl.getRandomValues(new Uint8Array(e));if(nl&&typeof nl.randomBytes=="function")return Uint8Array.from(nl.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const GG=BigInt(0),Ef=BigInt(1),YG=BigInt(2),ZG=BigInt(7),XG=BigInt(256),QG=BigInt(113),_D=[],ND=[],ID=[];for(let e=0,t=Ef,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],_D.push(2*(5*r+n)),ND.push((e+1)*(e+2)/2%64);let s=GG;for(let i=0;i<7;i++)t=(t<<Ef^(t>>ZG)*QG)%XG,t&YG&&(s^=Ef<<(Ef<<BigInt(i))-Ef);ID.push(s)}const TD=SD(ID,!0),JG=TD[0],eY=TD[1],zx=(e,t,n)=>n>32?kG(e,t,n):BG(e,t,n),Hx=(e,t,n)=>n>32?PG(e,t,n):LG(e,t,n);function tY(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],f=zx(l,u,1)^n[o],d=Hx(l,u,1)^n[o+1];for(let h=0;h<50;h+=10)e[a+h]^=f,e[a+h+1]^=d}let s=e[2],i=e[3];for(let a=0;a<24;a++){const o=ND[a],c=zx(s,i,o),l=Hx(s,i,o),u=_D[a];s=e[u],i=e[u+1],e[u]=c,e[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=e[a+o];for(let o=0;o<10;o++)e[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}e[0]^=JG[r],e[1]^=eY[r]}us(n)}let nY=class OD extends pm{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Qi(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Kd(this.state)}clone(){return this._cloneInto()}keccak(){Ia(this.state32),tY(this.state32,this.rounds),Ia(this.state32),this.posOut=0,this.pos=0}update(t){ho(this),t=Os(t),ls(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let o=0;o<a;o++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){ho(this,!1),ls(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Qi(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(b2(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,us(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return t||(t=new OD(n,r,s,a,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}};const rY=(e,t,n)=>Nh(()=>new nY(t,e,n)),sY=rY(1,136,256/8);function iY(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+l,o,r)}function aY(e,t,n){return e&t^~e&n}function oY(e,t,n){return e&t^e&n^t&n}let DD=class extends pm{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=rw(this.buffer)}update(t){ho(this),t=Os(t),ls(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=rw(t);for(;s<=i-a;a+=s)this.process(c,a);continue}r.set(t.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ho(this),b2(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,us(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;iY(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=rw(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return t.destroyed=a,t.finished=i,t.length=s,t.pos=o,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const ga=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$n=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Mn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),cY=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ma=new Uint32Array(64);let lY=class extends DD{constructor(t=32){super(64,t,8,!1),this.A=ga[0]|0,this.B=ga[1]|0,this.C=ga[2]|0,this.D=ga[3]|0,this.E=ga[4]|0,this.F=ga[5]|0,this.G=ga[6]|0,this.H=ga[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:a,G:o,H:c}=this;return[t,n,r,s,i,a,o,c]}set(t,n,r,s,i,a,o,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)ma[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=ma[f-15],h=ma[f-2],p=ks(d,7)^ks(d,18)^d>>>3,g=ks(h,17)^ks(h,19)^h>>>10;ma[f]=g+ma[f-7]+p+ma[f-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=ks(o,6)^ks(o,11)^ks(o,25),h=u+d+aY(o,c,l)+cY[f]+ma[f]|0,p=(ks(r,2)^ks(r,13)^ks(r,22))+oY(r,s,i)|0;u=l,l=c,c=o,o=a+h|0,a=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,a,o,c,l,u)}roundClean(){us(ma)}destroy(){this.set(0,0,0,0,0,0,0,0),us(this.buffer)}};const UD=SD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),uY=UD[0],fY=UD[1],ya=new Uint32Array(80),wa=new Uint32Array(80);let E2=class extends DD{constructor(t=64){super(128,t,16,!1),this.Ah=Mn[0]|0,this.Al=Mn[1]|0,this.Bh=Mn[2]|0,this.Bl=Mn[3]|0,this.Ch=Mn[4]|0,this.Cl=Mn[5]|0,this.Dh=Mn[6]|0,this.Dl=Mn[7]|0,this.Eh=Mn[8]|0,this.El=Mn[9]|0,this.Fh=Mn[10]|0,this.Fl=Mn[11]|0,this.Gh=Mn[12]|0,this.Gl=Mn[13]|0,this.Hh=Mn[14]|0,this.Hl=Mn[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:b}=this;return[t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b]}set(t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=b|0}process(t,n){for(let w=0;w<16;w++,n+=4)ya[w]=t.getUint32(n),wa[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const v=ya[w-15]|0,_=wa[w-15]|0,B=_a(v,_,1)^_a(v,_,8)^kx(v,_,7),U=Na(v,_,1)^Na(v,_,8)^Px(v,_,7),D=ya[w-2]|0,x=wa[w-2]|0,A=_a(D,x,19)^kf(D,x,61)^kx(D,x,6),I=Na(D,x,19)^Pf(D,x,61)^Px(D,x,6),$=jG(U,I,wa[w-7],wa[w-16]),L=zG($,B,A,ya[w-7],ya[w-16]);ya[w]=L|0,wa[w]=$|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:b,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const v=_a(f,d,14)^_a(f,d,18)^kf(f,d,41),_=Na(f,d,14)^Na(f,d,18)^Pf(f,d,41),B=f&h^~f&g,U=d&p^~d&b,D=HG(m,_,U,fY[w],wa[w]),x=FG(D,y,v,B,uY[w],ya[w]),A=D|0,I=_a(r,s,28)^kf(r,s,34)^kf(r,s,39),$=Na(r,s,28)^Pf(r,s,34)^Pf(r,s,39),L=r&i^r&o^i&o,P=s&a^s&c^a&c;y=g|0,m=b|0,g=h|0,b=p|0,h=f|0,p=d|0,{h:f,l:d}=Ss(l|0,u|0,x|0,A|0),l=o|0,u=c|0,o=i|0,c=a|0,i=r|0,a=s|0;const S=g2(A,$,P);r=m2(S,x,I,L),s=S|0}({h:r,l:s}=Ss(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=Ss(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Ss(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Ss(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Ss(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=Ss(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:b}=Ss(this.Gh|0,this.Gl|0,g|0,b|0),{h:y,l:m}=Ss(this.Hh|0,this.Hl|0,y|0,m|0),this.set(r,s,i,a,o,c,l,u,f,d,h,p,g,b,y,m)}roundClean(){us(ya,wa)}destroy(){us(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},dY=class extends E2{constructor(){super(48),this.Ah=$n[0]|0,this.Al=$n[1]|0,this.Bh=$n[2]|0,this.Bl=$n[3]|0,this.Ch=$n[4]|0,this.Cl=$n[5]|0,this.Dh=$n[6]|0,this.Dl=$n[7]|0,this.Eh=$n[8]|0,this.El=$n[9]|0,this.Fh=$n[10]|0,this.Fl=$n[11]|0,this.Gh=$n[12]|0,this.Gl=$n[13]|0,this.Hh=$n[14]|0,this.Hl=$n[15]|0}};const Rn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class hY extends E2{constructor(){super(32),this.Ah=Rn[0]|0,this.Al=Rn[1]|0,this.Bh=Rn[2]|0,this.Bl=Rn[3]|0,this.Ch=Rn[4]|0,this.Cl=Rn[5]|0,this.Dh=Rn[6]|0,this.Dl=Rn[7]|0,this.Eh=Rn[8]|0,this.El=Rn[9]|0,this.Fh=Rn[10]|0,this.Fl=Rn[11]|0,this.Gh=Rn[12]|0,this.Gl=Rn[13]|0,this.Hh=Rn[14]|0,this.Hl=Rn[15]|0}}const gm=Nh(()=>new lY),pY=Nh(()=>new E2),gY=Nh(()=>new dY),mY=Nh(()=>new hY),yY=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Gt=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),re=new Uint32Array(32);function ba(e,t,n,r,s,i){const a=s[i],o=s[i+1];let c=re[2*e],l=re[2*e+1],u=re[2*t],f=re[2*t+1],d=re[2*n],h=re[2*n+1],p=re[2*r],g=re[2*r+1],b=g2(c,u,a);l=m2(b,l,f,o),c=b|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:MG(g,p),Dl:RG(g)},{h,l:d}=Ss(h,d,g,p),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:_a(f,u,24),Bl:Na(f,u,24)},re[2*e]=c,re[2*e+1]=l,re[2*t]=u,re[2*t+1]=f,re[2*n]=d,re[2*n+1]=h,re[2*r]=p,re[2*r+1]=g}function va(e,t,n,r,s,i){const a=s[i],o=s[i+1];let c=re[2*e],l=re[2*e+1],u=re[2*t],f=re[2*t+1],d=re[2*n],h=re[2*n+1],p=re[2*r],g=re[2*r+1],b=g2(c,u,a);l=m2(b,l,f,o),c=b|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:_a(g,p,16),Dl:Na(g,p,16)},{h,l:d}=Ss(h,d,g,p),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:kf(f,u,63),Bl:Pf(f,u,63)},re[2*e]=c,re[2*e+1]=l,re[2*t]=u,re[2*t+1]=f,re[2*n]=d,re[2*n+1]=h,re[2*r]=p,re[2*r+1]=g}function wY(e,t={},n,r,s){if(Qi(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:a,personalization:o}=t;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(o!==void 0&&o.length!==s)throw new Error("personalization must be undefined or "+s)}class bY extends pm{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Qi(t),Qi(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=Kd(this.buffer)}update(t){ho(this),t=Os(t),ls(t);const{blockLen:n,buffer:r,buffer32:s}=this,i=t.length,a=t.byteOffset,o=t.buffer;for(let c=0;c<i;){this.pos===n&&(Ia(s),this.compress(s,0,!1),Ia(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=a+c;if(l===n&&!(u%4)&&c+l<i){const f=new Uint32Array(o,u,Math.floor((i-c)/4));Ia(f);for(let d=0;c+n<i;d+=s.length,c+=n)this.length+=n,this.compress(f,d,!1);Ia(f);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){ho(this),b2(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,us(this.buffer.subarray(n)),Ia(r),this.compress(r,0,!0),Ia(r);const s=Kd(t);this.get().forEach((i,a)=>s[a]=Oi(i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:a,pos:o}=this;return t||(t=new this.constructor({dkLen:a})),t.set(...this.get()),t.buffer.set(n),t.destroyed=i,t.finished=s,t.length=r,t.pos=o,t.outputLen=a,t}clone(){return this._cloneInto()}}class vY extends bY{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=Gt[0]|0,this.v0h=Gt[1]|0,this.v1l=Gt[2]|0,this.v1h=Gt[3]|0,this.v2l=Gt[4]|0,this.v2h=Gt[5]|0,this.v3l=Gt[6]|0,this.v3h=Gt[7]|0,this.v4l=Gt[8]|0,this.v4h=Gt[9]|0,this.v5l=Gt[10]|0,this.v5h=Gt[11]|0,this.v6l=Gt[12]|0,this.v6h=Gt[13]|0,this.v7l=Gt[14]|0,this.v7h=Gt[15]|0,wY(n,t,64,16,16);let{key:r,personalization:s,salt:i}=t,a=0;if(r!==void 0&&(r=Os(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,i!==void 0){i=Os(i);const o=Kd(i);this.v4l^=Oi(o[0]),this.v4h^=Oi(o[1]),this.v5l^=Oi(o[2]),this.v5h^=Oi(o[3])}if(s!==void 0){s=Os(s);const o=Kd(s);this.v6l^=Oi(o[0]),this.v6h^=Oi(o[1]),this.v7l^=Oi(o[2]),this.v7h^=Oi(o[3])}if(r!==void 0){const o=new Uint8Array(this.blockLen);o.set(r),this.update(o)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:s,v2l:i,v2h:a,v3l:o,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:h,v6h:p,v7l:g,v7h:b}=this;return[t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b]}set(t,n,r,s,i,a,o,c,l,u,f,d,h,p,g,b){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=a|0,this.v3l=o|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=p|0,this.v7l=g|0,this.v7h=b|0}compress(t,n,r){this.get().forEach((c,l)=>re[l]=c),re.set(Gt,16);let{h:s,l:i}=ED(BigInt(this.length));re[24]=Gt[8]^i,re[25]=Gt[9]^s,r&&(re[28]=~re[28],re[29]=~re[29]);let a=0;const o=yY;for(let c=0;c<12;c++)ba(0,4,8,12,t,n+2*o[a++]),va(0,4,8,12,t,n+2*o[a++]),ba(1,5,9,13,t,n+2*o[a++]),va(1,5,9,13,t,n+2*o[a++]),ba(2,6,10,14,t,n+2*o[a++]),va(2,6,10,14,t,n+2*o[a++]),ba(3,7,11,15,t,n+2*o[a++]),va(3,7,11,15,t,n+2*o[a++]),ba(0,5,10,15,t,n+2*o[a++]),va(0,5,10,15,t,n+2*o[a++]),ba(1,6,11,12,t,n+2*o[a++]),va(1,6,11,12,t,n+2*o[a++]),ba(2,7,8,13,t,n+2*o[a++]),va(2,7,8,13,t,n+2*o[a++]),ba(3,4,9,14,t,n+2*o[a++]),va(3,4,9,14,t,n+2*o[a++]);this.v0l^=re[0]^re[16],this.v0h^=re[1]^re[17],this.v1l^=re[2]^re[18],this.v1h^=re[3]^re[19],this.v2l^=re[4]^re[20],this.v2h^=re[5]^re[21],this.v3l^=re[6]^re[22],this.v3h^=re[7]^re[23],this.v4l^=re[8]^re[24],this.v4h^=re[9]^re[25],this.v5l^=re[10]^re[26],this.v5h^=re[11]^re[27],this.v6l^=re[12]^re[28],this.v6h^=re[13]^re[29],this.v7l^=re[14]^re[30],this.v7h^=re[15]^re[31],us(re)}destroy(){this.destroyed=!0,us(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const EY=WG(e=>new vY(e)),SY="https://rpc.walletconnect.org/v1";function $D(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(sY(n)).toString("hex")}async function AY(e,t,n,r,s,i){switch(n.t){case"eip191":return await CY(e,t,n.s);case"eip1271":return await xY(e,t,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function CY(e,t,n){return(await sK({hash:$D(t),signature:n})).toLowerCase()===e.toLowerCase()}async function xY(e,t,n,r,s,i){const a=nu(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(t.startsWith("0x")?t:$D(t)).substring(2),d=o+f+c+u+l,h=await fetch(`${i||SY}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:_Y(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function _Y(){return Date.now()+Math.floor(Math.random()*1e3)}function NY(e){const t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(e,"base64").slice(1,65);return Ku.encode(i)}function IY(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const s=EY(r,{dkLen:32});return Ku.encode(s)}function Fx(e){const t=new Uint8Array(gm(TY(e)));return Ku.encode(t)}function TY(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function qx(e){const t=Buffer.from(e,"base64"),n=HK(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=$K(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),a=mY(i);return ZK.encode(a).replace(/=+$/,"")}function sw(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function OY(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(sw(t.length)),s.push(t),s.push(Buffer.from([18])),s.push(sw(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(sw(r.length)),s.push(r);const i=Buffer.concat(s),a=gm(i);return Buffer.from(a).toString("hex").toUpperCase()}var DY=Object.defineProperty,UY=Object.defineProperties,$Y=Object.getOwnPropertyDescriptors,Vx=Object.getOwnPropertySymbols,MY=Object.prototype.hasOwnProperty,RY=Object.prototype.propertyIsEnumerable,Kx=(e,t,n)=>t in e?DY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BY=(e,t)=>{for(var n in t||(t={}))MY.call(t,n)&&Kx(e,n,t[n]);if(Vx)for(var n of Vx(t))RY.call(t,n)&&Kx(e,n,t[n]);return e},LY=(e,t)=>UY(e,$Y(t));const kY="did:pkh:",S2=e=>e==null?void 0:e.split(":"),PY=e=>{const t=e&&S2(e);if(t)return e.includes(kY)?t[3]:t[1]},O1=e=>{const t=e&&S2(e);if(t)return t[2]+":"+t[3]},S0=e=>{const t=e&&S2(e);if(t)return t.pop()};async function Wx(e){const{cacao:t,projectId:n}=e,{s:r,p:s}=t,i=MD(s,s.iss),a=S0(s.iss);return await AY(a,i,r,O1(s.iss),n)}const MD=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=S0(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const i=`URI: ${e.aud||e.uri}`,a=`Version: ${e.version}`,o=`Chain ID: ${PY(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=gg(e.resources);if(p){const g=Gd(p);s=GY(s,g)}return[n,r,"",s,"",i,a,o,c,l,u,f,d,h].filter(g=>g!=null).join(`
`)};function jY(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function zY(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Sc(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${a}`)})})})}function HY(e,t,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[e]:FY(t,n,r)}}}function FY(e,t,n={}){t=t==null?void 0:t.sort((s,i)=>s.localeCompare(i));const r=t.map(s=>({[`${e}/${s}`]:[n]}));return Object.assign({},...r)}function RD(e){return Sc(e),`urn:recap:${jY(e).replace(/=/g,"")}`}function Gd(e){const t=zY(e.replace("urn:recap:",""));return Sc(t),t}function qY(e,t,n){const r=HY(e,t,n);return RD(r)}function VY(e){return e&&e.includes("urn:recap:")}function KY(e,t){const n=Gd(e),r=Gd(t),s=WY(n,r);return RD(s)}function WY(e,t){Sc(e),Sc(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,a;Object.keys(((i=e.att)==null?void 0:i[s])||{}).concat(Object.keys(((a=t.att)==null?void 0:a[s])||{})).sort((o,c)=>o.localeCompare(c)).forEach(o=>{var c,l;r.att[s]=LY(BY({},r.att[s]),{[o]:((c=e.att[s])==null?void 0:c[o])||((l=t.att[s])==null?void 0:l[o])})})}),r}function GY(e="",t){Sc(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let s=0;Object.keys(t.att).forEach(o=>{const c=Object.keys(t.att[o]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(s++,`(${s}) '${f}': '${l[f].join("', '")}' for '${o}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),a=`${n}${i}`;return`${e?e+" ":""}${a}`}function Gx(e){var t;const n=Gd(e);Sc(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function Yx(e){const t=Gd(e);Sc(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function gg(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return VY(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function BD(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function D1(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function iw(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function cr(e,...t){if(!BD(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Zx(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function YY(e,t){cr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ro(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function xu(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ZY(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const XY=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function QY(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function U1(e){if(typeof e=="string")e=QY(e);else if(BD(e))e=$1(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function JY(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function eZ(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const tZ=(e,t)=>{function n(r,...s){if(cr(r),!XY)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?cr(l):cr(l,e.nonceLength)}const i=e.tagLength;i&&s[1]!==void 0&&cr(s[1]);const a=t(r,...s),o=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");cr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,cr(l),o(a.encrypt.length,u),a.encrypt(l,u)},decrypt(l,u){if(cr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return o(a.decrypt.length,u),a.decrypt(l,u)}}}return Object.assign(n,e),n};function Xx(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!rZ(t))throw new Error("invalid output, must be aligned");return t}function Qx(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i);e.setUint32(t+4,a,r),e.setUint32(t+0,o,r)}function nZ(e,t,n){D1(n);const r=new Uint8Array(16),s=ZY(r);return Qx(s,0,BigInt(t),n),Qx(s,8,BigInt(e),n),r}function rZ(e){return e.byteOffset%4===0}function $1(e){return Uint8Array.from(e)}const LD=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),sZ=LD("expand 16-byte k"),iZ=LD("expand 32-byte k"),aZ=ro(sZ),oZ=ro(iZ);function He(e,t){return e<<t|e>>>32-t}function M1(e){return e.byteOffset%4===0}const Up=64,cZ=16,kD=2**32-1,Jx=new Uint32Array;function lZ(e,t,n,r,s,i,a,o){const c=s.length,l=new Uint8Array(Up),u=ro(l),f=M1(s)&&M1(i),d=f?ro(s):Jx,h=f?ro(i):Jx;for(let p=0;p<c;a++){if(e(t,n,r,u,a,o),a>=kD)throw new Error("arx: counter overflow");const g=Math.min(Up,c-p);if(f&&g===Up){const b=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let y=0,m;y<cZ;y++)m=b+y,h[m]=d[m]^u[y];p+=Up;continue}for(let b=0,y;b<g;b++)y=p+b,i[y]=s[y]^l[b];p+=g}}function uZ(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:a}=JY({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return iw(s),iw(a),D1(i),D1(n),(o,c,l,u,f=0)=>{cr(o),cr(c),cr(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),cr(u),iw(f),f<0||f>=kD)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let p=o.length,g,b;if(p===32)h.push(g=$1(o)),b=oZ;else if(p===16&&n)g=new Uint8Array(32),g.set(o),g.set(o,16),b=aZ,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);M1(c)||h.push(c=$1(c));const y=ro(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(b,y,ro(c.subarray(0,16)),y),c=c.subarray(16)}const m=16-s;if(m!==c.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(m!==12){const v=new Uint8Array(12);v.set(c,i?0:12-c.length),c=v,h.push(c)}const w=ro(c);return lZ(e,b,y,w,l,u,f,a),xu(...h),u}}const hn=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class fZ{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=U1(t),cr(t,32);const n=hn(t,0),r=hn(t,2),s=hn(t,4),i=hn(t,6),a=hn(t,8),o=hn(t,10),c=hn(t,12),l=hn(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=hn(t,16+2*u)}process(t,n,r=!1){const s=r?0:2048,{h:i,r:a}=this,o=a[0],c=a[1],l=a[2],u=a[3],f=a[4],d=a[5],h=a[6],p=a[7],g=a[8],b=a[9],y=hn(t,n+0),m=hn(t,n+2),w=hn(t,n+4),v=hn(t,n+6),_=hn(t,n+8),B=hn(t,n+10),U=hn(t,n+12),D=hn(t,n+14);let x=i[0]+(y&8191),A=i[1]+((y>>>13|m<<3)&8191),I=i[2]+((m>>>10|w<<6)&8191),$=i[3]+((w>>>7|v<<9)&8191),L=i[4]+((v>>>4|_<<12)&8191),P=i[5]+(_>>>1&8191),S=i[6]+((_>>>14|B<<2)&8191),E=i[7]+((B>>>11|U<<5)&8191),O=i[8]+((U>>>8|D<<8)&8191),T=i[9]+(D>>>5|s),M=0,R=M+x*o+A*(5*b)+I*(5*g)+$*(5*p)+L*(5*h);M=R>>>13,R&=8191,R+=P*(5*d)+S*(5*f)+E*(5*u)+O*(5*l)+T*(5*c),M+=R>>>13,R&=8191;let z=M+x*c+A*o+I*(5*b)+$*(5*g)+L*(5*p);M=z>>>13,z&=8191,z+=P*(5*h)+S*(5*d)+E*(5*f)+O*(5*u)+T*(5*l),M+=z>>>13,z&=8191;let Z=M+x*l+A*c+I*o+$*(5*b)+L*(5*g);M=Z>>>13,Z&=8191,Z+=P*(5*p)+S*(5*h)+E*(5*d)+O*(5*f)+T*(5*u),M+=Z>>>13,Z&=8191;let W=M+x*u+A*l+I*c+$*o+L*(5*b);M=W>>>13,W&=8191,W+=P*(5*g)+S*(5*p)+E*(5*h)+O*(5*d)+T*(5*f),M+=W>>>13,W&=8191;let V=M+x*f+A*u+I*l+$*c+L*o;M=V>>>13,V&=8191,V+=P*(5*b)+S*(5*g)+E*(5*p)+O*(5*h)+T*(5*d),M+=V>>>13,V&=8191;let te=M+x*d+A*f+I*u+$*l+L*c;M=te>>>13,te&=8191,te+=P*o+S*(5*b)+E*(5*g)+O*(5*p)+T*(5*h),M+=te>>>13,te&=8191;let be=M+x*h+A*d+I*f+$*u+L*l;M=be>>>13,be&=8191,be+=P*c+S*o+E*(5*b)+O*(5*g)+T*(5*p),M+=be>>>13,be&=8191;let me=M+x*p+A*h+I*d+$*f+L*u;M=me>>>13,me&=8191,me+=P*l+S*c+E*o+O*(5*b)+T*(5*g),M+=me>>>13,me&=8191;let De=M+x*g+A*p+I*h+$*d+L*f;M=De>>>13,De&=8191,De+=P*u+S*l+E*c+O*o+T*(5*b),M+=De>>>13,De&=8191;let ve=M+x*b+A*g+I*p+$*h+L*d;M=ve>>>13,ve&=8191,ve+=P*f+S*u+E*l+O*c+T*o,M+=ve>>>13,ve&=8191,M=(M<<2)+M|0,M=M+R|0,R=M&8191,M=M>>>13,z+=M,i[0]=R,i[1]=z,i[2]=Z,i[3]=W,i[4]=V,i[5]=te,i[6]=be,i[7]=me,i[8]=De,i[9]=ve}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let o=2;o<10;o++)t[o]+=s,s=t[o]>>>13,t[o]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,r[0]=t[0]+5,s=r[0]>>>13,r[0]&=8191;for(let o=1;o<10;o++)r[o]=t[o]+s,s=r[o]>>>13,r[o]&=8191;r[9]-=8192;let i=(s^1)-1;for(let o=0;o<10;o++)r[o]&=i;i=~i;for(let o=0;o<10;o++)t[o]=t[o]&i|r[o];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let a=t[0]+n[0];t[0]=a&65535;for(let o=1;o<8;o++)a=(t[o]+n[o]|0)+(a>>>16)|0,t[o]=a&65535;xu(r)}update(t){Zx(this),t=U1(t),cr(t);const{buffer:n,blockLen:r}=this,s=t.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);if(a===r){for(;r<=s-i;i+=r)this.process(t,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){xu(this.h,this.r,this.buffer,this.pad)}digestInto(t){Zx(this),YY(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let a=0;a<8;a++)t[i++]=r[a]>>>0,t[i++]=r[a]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function dZ(e){const t=(r,s)=>e(s).update(U1(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const hZ=dZ(e=>new fZ(e));function pZ(e,t,n,r,s,i=20){let a=e[0],o=e[1],c=e[2],l=e[3],u=t[0],f=t[1],d=t[2],h=t[3],p=t[4],g=t[5],b=t[6],y=t[7],m=s,w=n[0],v=n[1],_=n[2],B=a,U=o,D=c,x=l,A=u,I=f,$=d,L=h,P=p,S=g,E=b,O=y,T=m,M=w,R=v,z=_;for(let W=0;W<i;W+=2)B=B+A|0,T=He(T^B,16),P=P+T|0,A=He(A^P,12),B=B+A|0,T=He(T^B,8),P=P+T|0,A=He(A^P,7),U=U+I|0,M=He(M^U,16),S=S+M|0,I=He(I^S,12),U=U+I|0,M=He(M^U,8),S=S+M|0,I=He(I^S,7),D=D+$|0,R=He(R^D,16),E=E+R|0,$=He($^E,12),D=D+$|0,R=He(R^D,8),E=E+R|0,$=He($^E,7),x=x+L|0,z=He(z^x,16),O=O+z|0,L=He(L^O,12),x=x+L|0,z=He(z^x,8),O=O+z|0,L=He(L^O,7),B=B+I|0,z=He(z^B,16),E=E+z|0,I=He(I^E,12),B=B+I|0,z=He(z^B,8),E=E+z|0,I=He(I^E,7),U=U+$|0,T=He(T^U,16),O=O+T|0,$=He($^O,12),U=U+$|0,T=He(T^U,8),O=O+T|0,$=He($^O,7),D=D+L|0,M=He(M^D,16),P=P+M|0,L=He(L^P,12),D=D+L|0,M=He(M^D,8),P=P+M|0,L=He(L^P,7),x=x+A|0,R=He(R^x,16),S=S+R|0,A=He(A^S,12),x=x+A|0,R=He(R^x,8),S=S+R|0,A=He(A^S,7);let Z=0;r[Z++]=a+B|0,r[Z++]=o+U|0,r[Z++]=c+D|0,r[Z++]=l+x|0,r[Z++]=u+A|0,r[Z++]=f+I|0,r[Z++]=d+$|0,r[Z++]=h+L|0,r[Z++]=p+P|0,r[Z++]=g+S|0,r[Z++]=b+E|0,r[Z++]=y+O|0,r[Z++]=m+T|0,r[Z++]=w+M|0,r[Z++]=v+R|0,r[Z++]=_+z|0}const gZ=uZ(pZ,{counterRight:!1,counterLength:4,allowShortKeys:!1}),mZ=new Uint8Array(16),e3=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(mZ.subarray(n))},yZ=new Uint8Array(32);function t3(e,t,n,r,s){const i=e(t,n,yZ),a=hZ.create(i);s&&e3(a,s),e3(a,r);const o=nZ(r.length,s?s.length:0,!0);a.update(o);const c=a.digest();return xu(i,o),c}const wZ=e=>(t,n,r)=>({encrypt(s,i){const a=s.length;i=Xx(a+16,i,!1),i.set(s);const o=i.subarray(0,-16);e(t,n,o,o,1);const c=t3(e,t,n,o,r);return i.set(c,a),xu(c),i},decrypt(s,i){i=Xx(s.length-16,i,!1);const a=s.subarray(0,-16),o=s.subarray(-16),c=t3(e,t,n,a,r);if(!eZ(o,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),xu(c),i}}),PD=tZ({blockSize:64,nonceLength:12,tagLength:16},wZ(gZ));let jD=class extends pm{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,w2(t);const r=Os(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),us(i)}update(t){return ho(this),this.iHash.update(t),this}digestInto(t){ho(this),ls(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=a,t.outputLen=o,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const mm=(e,t,n)=>new jD(e,t).update(n).digest();mm.create=(e,t)=>new jD(e,t);function bZ(e,t,n){return w2(e),n===void 0&&(n=new Uint8Array(e.outputLen)),mm(e,Os(n),Os(t))}const aw=Uint8Array.from([0]),n3=Uint8Array.of();function vZ(e,t,n,r=32){w2(e),Qi(r);const s=e.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=n3);const a=new Uint8Array(i*s),o=mm.create(e,t),c=o._cloneInto(),l=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)aw[0]=u+1,c.update(u===0?n3:l).update(n).update(aw).digestInto(l),a.set(l,s*u),o._cloneInto(c);return o.destroy(),c.destroy(),us(l,aw),a.slice(0,r)}const EZ=(e,t,n,r,s)=>vZ(e,bZ(e,t,n),r,s),ym=gm,A2=BigInt(0),R1=BigInt(1);function A0(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function $p(e){const t=e.toString(16);return t.length&1?"0"+t:t}function zD(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?A2:BigInt("0x"+e)}function wm(e){return zD(Wd(e))}function C0(e){return ls(e),zD(Wd(Uint8Array.from(e).reverse()))}function C2(e,t){return v2(e.toString(16).padStart(t*2,"0"))}function x2(e,t){return C2(e,t).reverse()}function or(e,t,n){let r;if(typeof t=="string")try{r=v2(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(y2(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const ow=e=>typeof e=="bigint"&&A2<=e;function SZ(e,t,n){return ow(e)&&ow(t)&&ow(n)&&t<=e&&e<n}function B1(e,t,n,r){if(!SZ(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function AZ(e){let t;for(t=0;e>A2;e>>=R1,t+=1);return t}const bm=e=>(R1<<BigInt(e))-R1;function CZ(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=d=>new Uint8Array(d),s=d=>Uint8Array.of(d);let i=r(e),a=r(e),o=0;const c=()=>{i.fill(1),a.fill(0),o=0},l=(...d)=>n(a,i,...d),u=(d=r(0))=>{a=l(s(0),d),i=l(),d.length!==0&&(a=l(s(1),d),i=l())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){i=l();const p=i.slice();h.push(p),d+=i.length}return Yo(...h)};return(d,h)=>{c(),u(d);let p;for(;!(p=h(f()));)u();return c(),p}}function vm(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,a){const o=e[s];if(a&&o===void 0)return;const c=typeof o;if(c!==i||o===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function r3(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const lr=BigInt(0),jn=BigInt(1),Zo=BigInt(2),xZ=BigInt(3),HD=BigInt(4),FD=BigInt(5),qD=BigInt(8);function Zr(e,t){const n=e%t;return n>=lr?n:t+n}function vs(e,t,n){let r=e;for(;t-- >lr;)r*=r,r%=n;return r}function s3(e,t){if(e===lr)throw new Error("invert: expected non-zero number");if(t<=lr)throw new Error("invert: expected positive modulus, got "+t);let n=Zr(e,t),r=t,s=lr,i=jn;for(;n!==lr;){const a=r/n,o=r%n,c=s-i*a;r=n,n=o,s=i,i=c}if(r!==jn)throw new Error("invert: does not exist");return Zr(s,t)}function VD(e,t){const n=(e.ORDER+jn)/HD,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function _Z(e,t){const n=(e.ORDER-FD)/qD,r=e.mul(t,Zo),s=e.pow(r,n),i=e.mul(t,s),a=e.mul(e.mul(i,Zo),s),o=e.mul(i,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),t))throw new Error("Cannot find square root");return o}function NZ(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-jn,n=0;for(;t%Zo===lr;)t/=Zo,n++;let r=Zo;const s=Yu(e);for(;i3(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return VD;let i=s.pow(r,t);const a=(t+jn)/Zo;return function(o,c){if(o.is0(c))return c;if(i3(o,c)!==1)throw new Error("Cannot find square root");let l=n,u=o.mul(o.ONE,i),f=o.pow(c,t),d=o.pow(c,a);for(;!o.eql(f,o.ONE);){if(o.is0(f))return o.ZERO;let h=1,p=o.sqr(f);for(;!o.eql(p,o.ONE);)if(h++,p=o.sqr(p),h===l)throw new Error("Cannot find square root");const g=jn<<BigInt(l-h-1),b=o.pow(u,g);l=h,u=o.sqr(b),f=o.mul(f,u),d=o.mul(d,b)}return d}}function IZ(e){return e%HD===xZ?VD:e%qD===FD?_Z:NZ(e)}const TZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function OZ(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=TZ.reduce((r,s)=>(r[s]="function",r),t);return vm(e,n),e}function DZ(e,t,n){if(n<lr)throw new Error("invalid exponent, negatives unsupported");if(n===lr)return e.ONE;if(n===jn)return t;let r=e.ONE,s=t;for(;n>lr;)n&jn&&(r=e.mul(r,s)),s=e.sqr(s),n>>=jn;return r}function KD(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((a,o,c)=>e.is0(o)?a:(r[c]=a,e.mul(a,o)),e.ONE),i=e.inv(s);return t.reduceRight((a,o,c)=>e.is0(o)?a:(r[c]=e.mul(a,r[c]),e.mul(a,o)),i),r}function i3(e,t){const n=(e.ORDER-jn)/Zo,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),a=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function UZ(e,t){t!==void 0&&Qi(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Yu(e,t,n=!1,r={}){if(e<=lr)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=t;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:a,nByteLength:o}=UZ(e,s);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:e,isLE:n,BITS:a,BYTES:o,MASK:bm(a),ZERO:lr,ONE:jn,create:u=>Zr(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return lr<=u&&u<e},is0:u=>u===lr,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&jn)===jn,neg:u=>Zr(-u,e),eql:(u,f)=>u===f,sqr:u=>Zr(u*u,e),add:(u,f)=>Zr(u+f,e),sub:(u,f)=>Zr(u-f,e),mul:(u,f)=>Zr(u*f,e),pow:(u,f)=>DZ(l,u,f),div:(u,f)=>Zr(u*s3(f,e),e),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>s3(u,e),sqrt:i||(u=>(c||(c=IZ(e)),c(l,u))),toBytes:u=>n?x2(u,o):C2(u,o),fromBytes:u=>{if(u.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+u.length);return n?C0(u):wm(u)},invertBatch:u=>KD(l,u),cmov:(u,f,d)=>d?f:u});return Object.freeze(l)}function WD(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function GD(e){const t=WD(e);return t+Math.ceil(t/2)}function $Z(e,t,n=!1){const r=e.length,s=WD(t),i=GD(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?C0(e):wm(e),o=Zr(a,t-jn)+jn;return n?x2(o,s):C2(o,s)}const _u=BigInt(0),Xo=BigInt(1);function cd(e,t){const n=t.negate();return e?n:t}function MZ(e,t,n){const r=i=>i.pz,s=KD(e.Fp,n.map(r));return n.map((i,a)=>i.toAffine(s[a])).map(e.fromAffine)}function YD(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function cw(e,t){YD(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=bm(e),a=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:a}}function a3(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:a}=n;let o=Number(e&s),c=e>>a;o>r&&(o-=i,c+=Xo);const l=t*r,u=l+Math.abs(o)-1,f=o===0,d=o<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function RZ(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function BZ(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const lw=new WeakMap,ZD=new WeakMap;function uw(e){return ZD.get(e)||1}function o3(e){if(e!==_u)throw new Error("invalid wNAF")}function LZ(e,t){return{constTimeNegate:cd,hasPrecomputes(n){return uw(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>_u;)r&Xo&&(s=s.add(i)),i=i.double(),r>>=Xo;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=cw(r,t),a=[];let o=n,c=o;for(let l=0;l<s;l++){c=o,a.push(c);for(let u=1;u<i;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(n,r,s){let i=e.ZERO,a=e.BASE;const o=cw(n,t);for(let c=0;c<o.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:p}=a3(s,c,o);s=l,f?a=a.add(cd(h,r[p])):i=i.add(cd(d,r[u]))}return o3(s),{p:i,f:a}},wNAFUnsafe(n,r,s,i=e.ZERO){const a=cw(n,t);for(let o=0;o<a.windows&&s!==_u;o++){const{nextN:c,offset:l,isZero:u,isNeg:f}=a3(s,o,a);if(s=c,!u){const d=r[l];i=i.add(f?d.negate():d)}}return o3(s),i},getPrecomputes(n,r,s){let i=lw.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),lw.set(r,i))),i},wNAFCached(n,r,s){const i=uw(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const a=uw(n);return a===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(a,this.getPrecomputes(a,n,s),r,i)},setWindowSize(n,r){YD(r,t),ZD.set(n,r),lw.delete(n)}}}function kZ(e,t,n,r){let s=t,i=e.ZERO,a=e.ZERO;for(;n>_u||r>_u;)n&Xo&&(i=i.add(s)),r&Xo&&(a=a.add(s)),s=s.double(),n>>=Xo,r>>=Xo;return{p1:i,p2:a}}function PZ(e,t,n,r){RZ(n,e),BZ(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,o=AZ(BigInt(s));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=bm(c),u=new Array(Number(l)+1).fill(a),f=Math.floor((t.BITS-1)/c)*c;let d=a;for(let h=f;h>=0;h-=c){u.fill(a);for(let g=0;g<i;g++){const b=r[g],y=Number(b>>BigInt(h)&l);u[y]=u[y].add(n[g])}let p=a;for(let g=u.length-1,b=a;g>0;g--)b=b.add(u[g]),p=p.add(b);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function c3(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return OZ(t),t}else return Yu(e)}function jZ(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const o=t[a];if(!(typeof o=="bigint"&&o>_u))throw new Error(`CURVE.${a} must be positive bigint`)}const r=c3(t.p,n.Fp),s=c3(t.n,n.Fn),i=["Gx","Gy","a","b"];for(const a of i)if(!r.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Sf=BigInt(0),rl=BigInt(1),Mp=BigInt(2);function zZ(e){return vm(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function HZ(e){const t=zZ(e),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:a}=t,o=r==="x25519";if(!o&&r!=="x448")throw new Error("invalid type");const c=a||Gu,l=o?255:448,u=o?32:56,f=BigInt(o?9:5),d=BigInt(o?121665:39081),h=o?Mp**BigInt(254):Mp**BigInt(447),p=o?BigInt(8)*Mp**BigInt(251)-rl:BigInt(4)*Mp**BigInt(445)-rl,g=h+p+rl,b=x=>Zr(x,n),y=m(f);function m(x){return x2(b(x),u)}function w(x){const A=or("u coordinate",x,u);return o&&(A[31]&=127),b(C0(A))}function v(x){return C0(s(or("scalar",x,u)))}function _(x,A){const I=D(w(A),v(x));if(I===Sf)throw new Error("invalid private or public key received");return m(I)}function B(x){return _(x,y)}function U(x,A,I){const $=b(x*(A-I));return A=b(A-$),I=b(I+$),{x_2:A,x_3:I}}function D(x,A){B1("u",x,Sf,n),B1("scalar",A,h,g);const I=A,$=x;let L=rl,P=Sf,S=x,E=rl,O=Sf;for(let M=BigInt(l-1);M>=Sf;M--){const R=I>>M&rl;O^=R,{x_2:L,x_3:S}=U(O,L,S),{x_2:P,x_3:E}=U(O,P,E),O=R;const z=L+P,Z=b(z*z),W=L-P,V=b(W*W),te=Z-V,be=S+E,me=S-E,De=b(me*z),ve=b(be*W),st=De+ve,xt=De-ve;S=b(st*st),E=b($*b(xt*xt)),L=b(Z*V),P=b(te*(Z+b(d*te)))}({x_2:L,x_3:S}=U(O,L,S)),{x_2:P,x_3:E}=U(O,P,E);const T=i(P);return b(L*T)}return{scalarMult:_,scalarMultBase:B,getSharedSecret:(x,A)=>_(x,A),getPublicKey:x=>B(x),utils:{randomPrivateKey:()=>c(u)},GuBytes:y.slice()}}BigInt(0);const FZ=BigInt(1),l3=BigInt(2),qZ=BigInt(3),VZ=BigInt(5);BigInt(8);const XD={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function KZ(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=XD.p,a=e*e%i*e%i,o=vs(a,l3,i)*a%i,c=vs(o,FZ,i)*e%i,l=vs(c,VZ,i)*c%i,u=vs(l,t,i)*l%i,f=vs(u,n,i)*u%i,d=vs(f,r,i)*f%i,h=vs(d,s,i)*d%i,p=vs(h,s,i)*d%i,g=vs(p,t,i)*l%i;return{pow_p_5_8:vs(g,l3,i)*e%i,b2:a}}function WZ(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const L1=(()=>{const e=XD.p;return HZ({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=KZ(t);return Zr(vs(n,qZ,e)*r,e)},adjustScalarBytes:WZ})})();function u3(e){e.lowS!==void 0&&A0("lowS",e.lowS),e.prehash!==void 0&&A0("prehash",e.prehash)}class GZ extends Error{constructor(t=""){super(t)}}const $i={Err:GZ,_tlv:{encode:(e,t)=>{const{Err:n}=$i;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=$p(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?$p(s.length/2|128):"";return $p(e)+i+s+t},decode(e,t){const{Err:n}=$i;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let a=0;if(!i)a=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=t.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=$i;if(e<ld)throw new t("integer: negative integers are not allowed");let n=$p(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=$i;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return wm(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=$i,s=or("signature",e),{v:i,l:a}=r.decode(48,s);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=$i,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},ld=BigInt(0),ud=BigInt(1),YZ=BigInt(2),Rp=BigInt(3),ZZ=BigInt(4);function XZ(e,t,n){function r(s){const i=e.sqr(s),a=e.mul(i,s);return e.add(e.add(a,e.mul(s,t)),n)}return r}function QD(e,t,n){const{BYTES:r}=e;function s(i){let a;if(typeof i=="bigint")a=i;else{let o=or("private key",i);if(t){if(!t.includes(o.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(o,c.length-o.length),o=c}try{a=e.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(a=e.create(a)),!e.isValidNot0(a))throw new Error("invalid private key: out of range [1..N-1]");return a}return s}function QZ(e,t={}){const{Fp:n,Fn:r}=jZ("weierstrass",e,t),{h:s,n:i}=e;vm(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:a}=t;if(a&&(!n.is0(e.a)||typeof a.beta!="bigint"||typeof a.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function o(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(D,x,A){const{x:I,y:$}=x.toAffine(),L=n.toBytes(I);if(A0("isCompressed",A),A){o();const P=!n.isOdd($);return Yo(JD(P),L)}else return Yo(Uint8Array.of(4),L,n.toBytes($))}function l(D){ls(D);const x=n.BYTES,A=x+1,I=2*x+1,$=D.length,L=D[0],P=D.subarray(1);if($===A&&(L===2||L===3)){const S=n.fromBytes(P);if(!n.isValid(S))throw new Error("bad point: is not on curve, wrong x");const E=d(S);let O;try{O=n.sqrt(E)}catch(M){const R=M instanceof Error?": "+M.message:"";throw new Error("bad point: is not on curve, sqrt error"+R)}o();const T=n.isOdd(O);return(L&1)===1!==T&&(O=n.neg(O)),{x:S,y:O}}else if($===I&&L===4){const S=n.fromBytes(P.subarray(x*0,x*1)),E=n.fromBytes(P.subarray(x*1,x*2));if(!h(S,E))throw new Error("bad point: is not on curve");return{x:S,y:E}}else throw new Error(`bad point: got length ${$}, expected compressed=${A} or uncompressed=${I}`)}const u=t.toBytes||c,f=t.fromBytes||l,d=XZ(n,e.a,e.b);function h(D,x){const A=n.sqr(x),I=d(D);return n.eql(A,I)}if(!h(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(e.a,Rp),ZZ),g=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function b(D,x,A=!1){if(!n.isValid(x)||A&&n.is0(x))throw new Error(`bad point coordinate ${D}`);return x}function y(D){if(!(D instanceof _))throw new Error("ProjectivePoint expected")}const m=r3((D,x)=>{const{px:A,py:I,pz:$}=D;if(n.eql($,n.ONE))return{x:A,y:I};const L=D.is0();x==null&&(x=L?n.ONE:n.inv($));const P=n.mul(A,x),S=n.mul(I,x),E=n.mul($,x);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:P,y:S}}),w=r3(D=>{if(D.is0()){if(t.allowInfinityPoint&&!n.is0(D.py))return;throw new Error("bad point: ZERO")}const{x,y:A}=D.toAffine();if(!n.isValid(x)||!n.isValid(A))throw new Error("bad point: x or y not field elements");if(!h(x,A))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function v(D,x,A,I,$){return A=new _(n.mul(A.px,D),A.py,A.pz),x=cd(I,x),A=cd($,A),x.add(A)}class _{constructor(x,A,I){this.px=b("x",x),this.py=b("y",A,!0),this.pz=b("z",I),Object.freeze(this)}static fromAffine(x){const{x:A,y:I}=x||{};if(!x||!n.isValid(A)||!n.isValid(I))throw new Error("invalid affine point");if(x instanceof _)throw new Error("projective point not allowed");return n.is0(A)&&n.is0(I)?_.ZERO:new _(A,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){return MZ(_,"pz",x)}static fromBytes(x){return ls(x),_.fromHex(x)}static fromHex(x){const A=_.fromAffine(f(or("pointHex",x)));return A.assertValidity(),A}static fromPrivateKey(x){const A=QD(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return _.BASE.multiply(A(x))}static msm(x,A){return PZ(_,r,x,A)}precompute(x=8,A=!0){return U.setWindowSize(this,x),A||this.multiply(Rp),this}_setWindowSize(x){this.precompute(x)}assertValidity(){w(this)}hasEvenY(){const{y:x}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(x)}equals(x){y(x);const{px:A,py:I,pz:$}=this,{px:L,py:P,pz:S}=x,E=n.eql(n.mul(A,S),n.mul(L,$)),O=n.eql(n.mul(I,S),n.mul(P,$));return E&&O}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:A}=e,I=n.mul(A,Rp),{px:$,py:L,pz:P}=this;let S=n.ZERO,E=n.ZERO,O=n.ZERO,T=n.mul($,$),M=n.mul(L,L),R=n.mul(P,P),z=n.mul($,L);return z=n.add(z,z),O=n.mul($,P),O=n.add(O,O),S=n.mul(x,O),E=n.mul(I,R),E=n.add(S,E),S=n.sub(M,E),E=n.add(M,E),E=n.mul(S,E),S=n.mul(z,S),O=n.mul(I,O),R=n.mul(x,R),z=n.sub(T,R),z=n.mul(x,z),z=n.add(z,O),O=n.add(T,T),T=n.add(O,T),T=n.add(T,R),T=n.mul(T,z),E=n.add(E,T),R=n.mul(L,P),R=n.add(R,R),T=n.mul(R,z),S=n.sub(S,T),O=n.mul(R,M),O=n.add(O,O),O=n.add(O,O),new _(S,E,O)}add(x){y(x);const{px:A,py:I,pz:$}=this,{px:L,py:P,pz:S}=x;let E=n.ZERO,O=n.ZERO,T=n.ZERO;const M=e.a,R=n.mul(e.b,Rp);let z=n.mul(A,L),Z=n.mul(I,P),W=n.mul($,S),V=n.add(A,I),te=n.add(L,P);V=n.mul(V,te),te=n.add(z,Z),V=n.sub(V,te),te=n.add(A,$);let be=n.add(L,S);return te=n.mul(te,be),be=n.add(z,W),te=n.sub(te,be),be=n.add(I,$),E=n.add(P,S),be=n.mul(be,E),E=n.add(Z,W),be=n.sub(be,E),T=n.mul(M,te),E=n.mul(R,W),T=n.add(E,T),E=n.sub(Z,T),T=n.add(Z,T),O=n.mul(E,T),Z=n.add(z,z),Z=n.add(Z,z),W=n.mul(M,W),te=n.mul(R,te),Z=n.add(Z,W),W=n.sub(z,W),W=n.mul(M,W),te=n.add(te,W),z=n.mul(Z,te),O=n.add(O,z),z=n.mul(be,te),E=n.mul(V,E),E=n.sub(E,z),z=n.mul(V,Z),T=n.mul(be,T),T=n.add(T,z),new _(E,O,T)}subtract(x){return this.add(x.negate())}is0(){return this.equals(_.ZERO)}multiply(x){const{endo:A}=t;if(!r.isValidNot0(x))throw new Error("invalid scalar: out of range");let I,$;const L=P=>U.wNAFCached(this,P,_.normalizeZ);if(A){const{k1neg:P,k1:S,k2neg:E,k2:O}=A.splitScalar(x),{p:T,f:M}=L(S),{p:R,f:z}=L(O);$=M.add(z),I=v(A.beta,T,R,P,E)}else{const{p:P,f:S}=L(x);I=P,$=S}return _.normalizeZ([I,$])[0]}multiplyUnsafe(x){const{endo:A}=t,I=this;if(!r.isValid(x))throw new Error("invalid scalar: out of range");if(x===ld||I.is0())return _.ZERO;if(x===ud)return I;if(U.hasPrecomputes(this))return this.multiply(x);if(A){const{k1neg:$,k1:L,k2neg:P,k2:S}=A.splitScalar(x),{p1:E,p2:O}=kZ(_,I,L,S);return v(A.beta,E,O,$,P)}else return U.wNAFCachedUnsafe(I,x)}multiplyAndAddUnsafe(x,A,I){const $=this.multiplyUnsafe(A).add(x.multiplyUnsafe(I));return $.is0()?void 0:$}toAffine(x){return m(this,x)}isTorsionFree(){const{isTorsionFree:x}=t;return s===ud?!0:x?x(_,this):U.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:x}=t;return s===ud?this:x?x(_,this):this.multiplyUnsafe(s)}toBytes(x=!0){return A0("isCompressed",x),this.assertValidity(),u(_,this,x)}toRawBytes(x=!0){return this.toBytes(x)}toHex(x=!0){return Wd(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(e.Gx,e.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const B=r.BITS,U=LZ(_,t.endo?Math.ceil(B/2):B);return _}function JD(e){return Uint8Array.of(e?2:3)}function JZ(e,t,n={}){vm(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||Gu,s=t.hmac||((I,...$)=>mm(t.hash,I,Yo(...$))),{Fp:i,Fn:a}=e,{ORDER:o,BITS:c}=a;function l(I){const $=o>>ud;return I>$}function u(I){return l(I)?a.neg(I):I}function f(I,$){if(!a.isValidNot0($))throw new Error(`invalid signature ${I}: out of range 1..CURVE.n`)}class d{constructor($,L,P){f("r",$),f("s",L),this.r=$,this.s=L,P!=null&&(this.recovery=P),Object.freeze(this)}static fromCompact($){const L=a.BYTES,P=or("compactSignature",$,L*2);return new d(a.fromBytes(P.subarray(0,L)),a.fromBytes(P.subarray(L,L*2)))}static fromDER($){const{r:L,s:P}=$i.toSig(or("DER",$));return new d(L,P)}assertValidity(){}addRecoveryBit($){return new d(this.r,this.s,$)}recoverPublicKey($){const L=i.ORDER,{r:P,s:S,recovery:E}=this;if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");if(o*YZ<L&&E>1)throw new Error("recovery id is ambiguous for h>1 curve");const O=E===2||E===3?P+o:P;if(!i.isValid(O))throw new Error("recovery id 2 or 3 invalid");const T=i.toBytes(O),M=e.fromHex(Yo(JD((E&1)===0),T)),R=a.inv(O),z=w(or("msgHash",$)),Z=a.create(-z*R),W=a.create(S*R),V=e.BASE.multiplyUnsafe(Z).add(M.multiplyUnsafe(W));if(V.is0())throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,a.neg(this.s),this.recovery):this}toBytes($){if($==="compact")return Yo(a.toBytes(this.r),a.toBytes(this.s));if($==="der")return v2($i.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Wd(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Wd(this.toBytes("compact"))}}const h=QD(a,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(I){try{return h(I),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const I=o;return $Z(r(GD(I)),I)},precompute(I=8,$=e.BASE){return $.precompute(I,!1)}};function g(I,$=!0){return e.fromPrivateKey(I).toBytes($)}function b(I){if(typeof I=="bigint")return!1;if(I instanceof e)return!0;const $=or("key",I).length,L=i.BYTES,P=L+1,S=2*L+1;if(!(n.allowedPrivateKeyLengths||a.BYTES===P))return $===P||$===S}function y(I,$,L=!0){if(b(I)===!0)throw new Error("first arg must be private key");if(b($)===!1)throw new Error("second arg must be public key");return e.fromHex($).multiply(h(I)).toBytes(L)}const m=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const $=wm(I),L=I.length*8-c;return L>0?$>>BigInt(L):$},w=t.bits2int_modN||function(I){return a.create(m(I))},v=bm(c);function _(I){return B1("num < 2^"+c,I,ld,v),a.toBytes(I)}function B(I,$,L=U){if(["recovered","canonical"].some(V=>V in L))throw new Error("sign() legacy options not supported");const{hash:P}=t;let{lowS:S,prehash:E,extraEntropy:O}=L;S==null&&(S=!0),I=or("msgHash",I),u3(L),E&&(I=or("prehashed msgHash",P(I)));const T=w(I),M=h($),R=[_(M),_(T)];if(O!=null&&O!==!1){const V=O===!0?r(i.BYTES):O;R.push(or("extraEntropy",V))}const z=Yo(...R),Z=T;function W(V){const te=m(V);if(!a.isValidNot0(te))return;const be=a.inv(te),me=e.BASE.multiply(te).toAffine(),De=a.create(me.x);if(De===ld)return;const ve=a.create(be*a.create(Z+De*M));if(ve===ld)return;let st=(me.x===De?0:2)|Number(me.y&ud),xt=ve;return S&&l(ve)&&(xt=u(ve),st^=1),new d(De,xt,st)}return{seed:z,k2sig:W}}const U={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function x(I,$,L=U){const{seed:P,k2sig:S}=B(I,$,L);return CZ(t.hash.outputLen,a.BYTES,s)(P,S)}e.BASE.precompute(8);function A(I,$,L,P=D){const S=I;$=or("msgHash",$),L=or("publicKey",L),u3(P);const{lowS:E,prehash:O,format:T}=P;if("strict"in P)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&!["compact","der","js"].includes(T))throw new Error('format must be "compact", "der" or "js"');const M=typeof S=="string"||y2(S),R=!M&&!T&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!M&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let z,Z;try{if(R)if(T===void 0||T==="js")z=new d(S.r,S.s);else throw new Error("invalid format");if(M){try{T!=="compact"&&(z=d.fromDER(S))}catch(st){if(!(st instanceof $i.Err))throw st}!z&&T!=="der"&&(z=d.fromCompact(S))}Z=e.fromHex(L)}catch{return!1}if(!z||E&&z.hasHighS())return!1;O&&($=t.hash($));const{r:W,s:V}=z,te=w($),be=a.inv(V),me=a.create(te*be),De=a.create(W*be),ve=e.BASE.multiplyUnsafe(me).add(Z.multiplyUnsafe(De));return ve.is0()?!1:a.create(ve.x)===W}return Object.freeze({getPublicKey:g,getSharedSecret:y,sign:x,verify:A,utils:p,Point:e,Signature:d})}function eX(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Yu(t.n,e.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function tX(e){const{CURVE:t,curveOpts:n}=eX(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function nX(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function rX(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=tX(e),s=QZ(t,n),i=JZ(s,r,n);return nX(e,i)}function k1(e,t){const n=r=>rX({...e,hash:r});return{...n(t),create:n}}const e5={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},t5={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},n5={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},sX=Yu(e5.p),iX=Yu(t5.p),aX=Yu(n5.p),oX=k1({...e5,Fp:sX,lowS:!1},gm);k1({...t5,Fp:iX,lowS:!1},gY),k1({...n5,Fp:aX,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},pY);const cX=oX,r5="base10",zn="base16",Is="base64pad",Ma="base64url",Ih="utf8",s5=0,Hi=1,Th=2,lX=0,f3=1,fd=12,_2=32;function uX(){const e=L1.utils.randomPrivateKey(),t=L1.getPublicKey(e);return{privateKey:fr(e,zn),publicKey:fr(t,zn)}}function P1(){const e=Gu(_2);return fr(e,zn)}function fX(e,t){const n=L1.getSharedSecret(is(e,zn),is(t,zn)),r=EZ(ym,n,void 0,void 0,_2);return fr(r,zn)}function mg(e){const t=ym(is(e,zn));return fr(t,zn)}function Vs(e){const t=ym(is(e,Ih));return fr(t,zn)}function i5(e){return is(`${e}`,r5)}function Ac(e){return Number(fr(e,r5))}function a5(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function o5(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function dX(e){const t=i5(typeof e.type<"u"?e.type:s5);if(Ac(t)===Hi&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?is(e.senderPublicKey,zn):void 0,r=typeof e.iv<"u"?is(e.iv,zn):Gu(fd),s=is(e.symKey,zn),i=PD(s,r).encrypt(is(e.message,Ih)),a=c5({type:t,sealed:i,iv:r,senderPublicKey:n});return e.encoding===Ma?a5(a):a}function hX(e){const t=is(e.symKey,zn),{sealed:n,iv:r}=Yd({encoded:e.encoded,encoding:e.encoding}),s=PD(t,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return fr(s,Ih)}function pX(e,t){const n=i5(Th),r=Gu(fd),s=is(e,Ih),i=c5({type:n,sealed:s,iv:r});return t===Ma?a5(i):i}function gX(e,t){const{sealed:n}=Yd({encoded:e,encoding:t});return fr(n,Ih)}function c5(e){if(Ac(e.type)===Th)return fr(od([e.type,e.sealed]),Is);if(Ac(e.type)===Hi){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return fr(od([e.type,e.senderPublicKey,e.iv,e.sealed]),Is)}return fr(od([e.type,e.iv,e.sealed]),Is)}function Yd(e){const t=(e.encoding||Is)===Ma?o5(e.encoded):e.encoded,n=is(t,Is),r=n.slice(lX,f3),s=f3;if(Ac(r)===Hi){const c=s+_2,l=c+fd,u=n.slice(s,c),f=n.slice(c,l),d=n.slice(l);return{type:r,sealed:d,iv:f,senderPublicKey:u}}if(Ac(r)===Th){const c=n.slice(s),l=Gu(fd);return{type:r,sealed:c,iv:l}}const i=s+fd,a=n.slice(s,i),o=n.slice(i);return{type:r,sealed:o,iv:a}}function mX(e,t){const n=Yd({encoded:e,encoding:t==null?void 0:t.encoding});return l5({type:Ac(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?fr(n.senderPublicKey,zn):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function l5(e){const t=(e==null?void 0:e.type)||s5;if(t===Hi){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function d3(e){return e.type===Hi&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function h3(e){return e.type===Th}function yX(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return od([new Uint8Array([4]),t,n])}function wX(e,t){const[n,r,s]=e.split("."),i=Buffer.from(o5(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const a=i.slice(0,32),o=i.slice(32,64),c=`${n}.${r}`,l=ym(c),u=yX(t);if(!cX.verify(od([a,o]),l,u))throw new Error("Invalid signature");return v1(e).payload}const bX="irn";function x0(e){return(e==null?void 0:e.relay)||{protocol:bX}}function jf(e){const t=WW[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function vX(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),a=e[s];n[i]=a}}),n}function p3(e){if(!e.includes("wc:")){const l=vD(e);l!=null&&l.includes("wc:")&&(e=l)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),i=typeof n<"u"?e.substring(n):"",a=new URLSearchParams(i),o={};a.forEach((l,u)=>{o[u]=l});const c=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:r,topic:EX(s[0]),version:parseInt(s[1],10),symKey:o.symKey,relay:vX(o),methods:c,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function EX(e){return e.startsWith("//")?e.substring(2):e}function SX(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(s=>{const i=s,a=n+t+i;e[i]&&(r[a]=e[i])}),r}function g3(e){const t=new URLSearchParams,n=SX(e.relay);Object.keys(n).sort().forEach(s=>{t.set(s,n[s])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function Bp(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var AX=Object.defineProperty,CX=Object.defineProperties,xX=Object.getOwnPropertyDescriptors,m3=Object.getOwnPropertySymbols,_X=Object.prototype.hasOwnProperty,NX=Object.prototype.propertyIsEnumerable,y3=(e,t,n)=>t in e?AX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IX=(e,t)=>{for(var n in t||(t={}))_X.call(t,n)&&y3(e,n,t[n]);if(m3)for(var n of m3(t))NX.call(t,n)&&y3(e,n,t[n]);return e},TX=(e,t)=>CX(e,xX(t));function Zu(e){const t=[];return e.forEach(n=>{const[r,s]=n.split(":");t.push(`${r}:${s}`)}),t}function OX(e){const t=[];return Object.values(e).forEach(n=>{t.push(...Zu(n.accounts))}),t}function DX(e,t){const n=[];return Object.values(e).forEach(r=>{Zu(r.accounts).includes(t)&&n.push(...r.methods)}),n}function UX(e,t){const n=[];return Object.values(e).forEach(r=>{Zu(r.accounts).includes(t)&&n.push(...r.events)}),n}function Em(e){return e.includes(":")}function Hl(e){return Em(e)?e.split(":")[0]:e}function w3(e){var t,n,r;const s={};if(!si(e))return s;for(const[i,a]of Object.entries(e)){const o=Em(i)?[i]:a.chains,c=a.methods||[],l=a.events||[],u=Hl(i);s[u]=TX(IX({},s[u]),{chains:ri(o,(t=s[u])==null?void 0:t.chains),methods:ri(c,(n=s[u])==null?void 0:n.methods),events:ri(l,(r=s[u])==null?void 0:r.events)})}return s}function $X(e){const t={};return e==null||e.forEach(n=>{var r;const[s,i]=n.split(":");t[s]||(t[s]={accounts:[],chains:[],events:[],methods:[]}),t[s].accounts.push(n),(r=t[s].chains)==null||r.push(`${s}:${i}`)}),t}function b3(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=$X(t);for(const[r,s]of Object.entries(n))s.methods?s.methods=ri(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return n}function MX(e,t){var n,r,s,i,a,o;const c=w3(e),l=w3(t),u={},f=Object.keys(c).concat(Object.keys(l));for(const d of f)u[d]={chains:ri((n=c[d])==null?void 0:n.chains,(r=l[d])==null?void 0:r.chains),methods:ri((s=c[d])==null?void 0:s.methods,(i=l[d])==null?void 0:i.methods),events:ri((a=c[d])==null?void 0:a.events,(o=l[d])==null?void 0:o.events)};return u}const RX={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},BX={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function X(e,t){const{message:n,code:r}=BX[e];return{message:t?`${n} ${t}`:n,code:r}}function It(e,t){const{message:n,code:r}=RX[e];return{message:t?`${n} ${t}`:n,code:r}}function Fi(e,t){return!!Array.isArray(e)}function si(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function bn(e){return typeof e>"u"}function Vt(e,t){return t&&bn(e)?!0:typeof e=="string"&&!!e.trim().length}function N2(e,t){return t&&bn(e)?!0:typeof e=="number"&&!isNaN(e)}function LX(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let i=!0;return Go(s,r)?(r.forEach(a=>{const{accounts:o,methods:c,events:l}=e.namespaces[a],u=Zu(o),f=n[a];(!Go(gD(a,f),u)||!Go(f.methods,c)||!Go(f.events,l))&&(i=!1)}),i):!1}function _0(e){return Vt(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function kX(e){if(Vt(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&_0(n)}}return!1}function PX(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Vt(e,!1)){if(t(e))return!0;const n=vD(e);return t(n)}}catch{}return!1}function jX(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function zX(e){return e==null?void 0:e.topic}function HX(e,t){let n=null;return Vt(e==null?void 0:e.publicKey,!1)||(n=X("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function v3(e){let t=!0;return Fi(e)?e.length&&(t=e.every(n=>Vt(n,!1))):t=!1,t}function FX(e,t,n){let r=null;return Fi(t)&&t.length?t.forEach(s=>{r||_0(s)||(r=It("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):_0(e)||(r=It("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function qX(e,t,n){let r=null;return Object.entries(e).forEach(([s,i])=>{if(r)return;const a=FX(s,gD(s,i),`${t} ${n}`);a&&(r=a)}),r}function VX(e,t){let n=null;return Fi(e)?e.forEach(r=>{n||kX(r)||(n=It("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=It("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function KX(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=VX(r==null?void 0:r.accounts,`${t} namespace`);s&&(n=s)}),n}function WX(e,t){let n=null;return v3(e==null?void 0:e.methods)?v3(e==null?void 0:e.events)||(n=It("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=It("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function u5(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=WX(r,`${t}, namespace`);s&&(n=s)}),n}function GX(e,t,n){let r=null;if(e&&si(e)){const s=u5(e,t);s&&(r=s);const i=qX(e,t,n);i&&(r=i)}else r=X("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function fw(e,t){let n=null;if(e&&si(e)){const r=u5(e,t);r&&(n=r);const s=KX(e,t);s&&(n=s)}else n=X("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function f5(e){return Vt(e.protocol,!0)}function YX(e,t){let n=!1;return e?e&&Fi(e)&&e.length&&e.forEach(r=>{n=f5(r)}):n=!0,n}function ZX(e){return typeof e=="number"}function sr(e){return typeof e<"u"&&typeof e!==null}function XX(e){return!(!e||typeof e!="object"||!e.code||!N2(e.code,!1)||!e.message||!Vt(e.message,!1))}function QX(e){return!(bn(e)||!Vt(e.method,!1))}function JX(e){return!(bn(e)||bn(e.result)&&bn(e.error)||!N2(e.id,!1)||!Vt(e.jsonrpc,!1))}function eQ(e){return!(bn(e)||!Vt(e.name,!1))}function E3(e,t){return!(!_0(t)||!OX(e).includes(t))}function tQ(e,t,n){return Vt(n,!1)?DX(e,t).includes(n):!1}function nQ(e,t,n){return Vt(n,!1)?UX(e,t).includes(n):!1}function S3(e,t,n){let r=null;const s=rQ(e),i=sQ(t),a=Object.keys(s),o=Object.keys(i),c=A3(Object.keys(e)),l=A3(Object.keys(t)),u=c.filter(f=>!l.includes(f));return u.length&&(r=X("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),Go(a,o)||(r=X("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(t).forEach(f=>{if(!f.includes(":")||r)return;const d=Zu(t[f].accounts);d.includes(f)||(r=X("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),a.forEach(f=>{r||(Go(s[f].methods,i[f].methods)?Go(s[f].events,i[f].events)||(r=X("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=X("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function rQ(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(s=>{t[s]={methods:e[n].methods,events:e[n].events}})}),t}function A3(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function sQ(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=Zu(e[n].accounts);r==null||r.forEach(s=>{t[s]={accounts:e[n].accounts.filter(i=>i.includes(`${s}:`)),methods:e[n].methods,events:e[n].events}})}}),t}function iQ(e,t){return N2(e,!1)&&e<=t.max&&e>=t.min}function C3(){const e=_h();return new Promise(t=>{switch(e){case Dr.browser:t(aQ());break;case Dr.reactNative:t(oQ());break;case Dr.node:t(cQ());break;default:t(!0)}})}function aQ(){return Wu()&&(navigator==null?void 0:navigator.onLine)}async function oQ(){if(wo()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function cQ(){return!0}function lQ(e){switch(_h()){case Dr.browser:uQ(e);break;case Dr.reactNative:fQ(e);break}}function uQ(e){!wo()&&Wu()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function fQ(e){wo()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}function dQ(){var e;return Wu()&&vc()?((e=vc())==null?void 0:e.visibilityState)==="visible":!0}const dw={};class Af{static get(t){return dw[t]}static set(t,n){dw[t]=n}static delete(t){delete dw[t]}}function hQ(e){const t=Ku.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function pQ({publicKey:e,signature:t,payload:n}){var r;const s=j1(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=yQ(n.address),o=n.era==="00"?new Uint8Array([0]):j1(n.era);if(o.length!==1&&o.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${mQ(n.tip)}`),f=bQ(u),d=new Uint8Array([0,...e,a,...t,...o,...l,...f,...s]),h=wQ(d.length+1);return new Uint8Array([...h,i,...d])}function gQ(e){const t=j1(e),n=iG.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function j1(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function mQ(e){return e.startsWith("0x")?e.slice(2):e}function yQ(e){const t=Ku.decode(e)[0];return t===42?0:t===60?2:1}function wQ(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function bQ(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function vQ(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=hQ(e.transaction.address),r=pQ({publicKey:n,signature:t,payload:e.transaction}),s=Buffer.from(r).toString("hex");return gQ(s)}const EQ="PARSE_ERROR",SQ="INVALID_REQUEST",AQ="METHOD_NOT_FOUND",CQ="INVALID_PARAMS",d5="INTERNAL_ERROR",I2="SERVER_ERROR",xQ=[-32700,-32600,-32601,-32602,-32603],dd={[EQ]:{code:-32700,message:"Parse error"},[SQ]:{code:-32600,message:"Invalid Request"},[AQ]:{code:-32601,message:"Method not found"},[CQ]:{code:-32602,message:"Invalid params"},[d5]:{code:-32603,message:"Internal error"},[I2]:{code:-32e3,message:"Server error"}},h5=I2;function _Q(e){return xQ.includes(e)}function x3(e){return Object.keys(dd).includes(e)?dd[e]:dd[h5]}function NQ(e){const t=Object.values(dd).find(n=>n.code===e);return t||dd[h5]}function p5(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var g5={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z1=function(e,t){return z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},z1(e,t)};function IQ(e,t){z1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var H1=function(){return H1=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},H1.apply(this,arguments)};function TQ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function OQ(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function DQ(e,t){return function(n,r){t(n,r,e)}}function UQ(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function $Q(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{l(r.next(u))}catch(f){a(f)}}function c(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?i(u.value):s(u.value).then(o,c)}l((r=r.apply(e,t||[])).next())})}function MQ(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function RQ(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function BQ(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function F1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m5(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function LQ(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m5(arguments[t]));return e}function kQ(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}function Zd(e){return this instanceof Zd?(this.v=e,this):new Zd(e)}function PQ(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(d){r[d]&&(s[d]=function(h){return new Promise(function(p,g){i.push([d,h,p,g])>1||o(d,h)})})}function o(d,h){try{c(r[d](h))}catch(p){f(i[0][3],p)}}function c(d){d.value instanceof Zd?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){o("next",d)}function u(d){o("throw",d)}function f(d,h){d(h),i.shift(),i.length&&o(i[0][0],i[0][1])}}function jQ(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(a){return(n=!n)?{value:Zd(e[s](a)),done:s==="return"}:i?i(a):a}:i}}function zQ(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof F1=="function"?F1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(o,c){a=e[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(l){i({value:l,done:o})},a)}}function HQ(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function FQ(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function qQ(e){return e&&e.__esModule?e:{default:e}}function VQ(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function KQ(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const WQ=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return H1},__asyncDelegator:jQ,__asyncGenerator:PQ,__asyncValues:zQ,__await:Zd,__awaiter:$Q,__classPrivateFieldGet:VQ,__classPrivateFieldSet:KQ,__createBinding:RQ,__decorate:OQ,__exportStar:BQ,__extends:IQ,__generator:MQ,__importDefault:qQ,__importStar:FQ,__makeTemplateObject:HQ,__metadata:UQ,__param:DQ,__read:m5,__rest:TQ,__spread:LQ,__spreadArrays:kQ,__values:F1},Symbol.toStringTag,{value:"Module"})),GQ=pN(WQ);var Ci={},_3;function YQ(){if(_3)return Ci;_3=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.isBrowserCryptoAvailable=Ci.getSubtleCrypto=Ci.getBrowerCrypto=void 0;function e(){return(vn===null||vn===void 0?void 0:vn.crypto)||(vn===null||vn===void 0?void 0:vn.msCrypto)||{}}Ci.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}Ci.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return Ci.isBrowserCryptoAvailable=n,Ci}var xi={},N3;function ZQ(){if(N3)return xi;N3=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.isBrowser=xi.isNode=xi.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}xi.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}xi.isNode=t;function n(){return!e()&&!t()}return xi.isBrowser=n,xi}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=GQ;t.__exportStar(YQ(),e),t.__exportStar(ZQ(),e)})(g5);function Fs(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function Qo(e=6){return BigInt(Fs(e))}function qa(e,t,n){return{id:n||Fs(),jsonrpc:"2.0",method:e,params:t}}function Sm(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Am(e,t,n){return{id:e,jsonrpc:"2.0",error:XQ(t)}}function XQ(e,t){return typeof e>"u"?x3(d5):(typeof e=="string"&&(e=Object.assign(Object.assign({},x3(I2)),{message:e})),_Q(e.code)&&(e=NQ(e.code)),e)}let QQ=class{},JQ=class extends QQ{constructor(){super()}},eJ=class extends JQ{constructor(t){super()}};const tJ="^https?:",nJ="^wss?:";function rJ(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function y5(e,t){const n=rJ(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function I3(e){return y5(e,tJ)}function T3(e){return y5(e,nJ)}function sJ(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function w5(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function T2(e){return w5(e)&&"method"in e}function Cm(e){return w5(e)&&(qs(e)||Yr(e))}function qs(e){return"result"in e}function Yr(e){return"error"in e}let ds=class extends eJ{constructor(t){super(t),this.events=new fs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(qa(t.method,t.params||[],t.id||Qo().toString()),n)}async requestStrict(t,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${t.id}`,i=>{Yr(i)?s(i.error):r(i.result)});try{await this.connection.send(t,n)}catch(i){s(i)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Cm(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const iJ=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),aJ=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",O3=e=>e.split("?")[0],D3=10,oJ=iJ();let cJ=class{constructor(t){if(this.url=t,this.events=new fs.EventEmitter,this.registering=!1,!T3(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Xi(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!T3(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const s=g5.isReactNative()?void 0:{rejectUnauthorized:!sJ(t)},i=new oJ(t,[],s);aJ()?i.onerror=a=>{const o=a;r(this.emitError(o.error))}:i.on("error",a=>{r(this.emitError(a))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?bc(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),i=Am(t,s);this.events.emit("payload",i)}parseError(t,n=this.url){return p5(t,O3(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>D3&&this.events.setMaxListeners(D3)}emitError(t){const n=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${O3(this.url)}`));return this.events.emit("register_error",n),n}};var lJ={};const b5="wc",v5=2,q1="core",ai=`${b5}@2:${q1}:`,uJ={logger:"error"},fJ={database:":memory:"},dJ="crypto",U3="client_ed25519_seed",hJ=Q.ONE_DAY,pJ="keychain",gJ="0.3",mJ="messages",yJ="0.3",$3=Q.SIX_HOURS,wJ="publisher",E5="irn",bJ="error",S5="wss://relay.walletconnect.org",vJ="relayer",on={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},EJ="_subscription",Hr={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},SJ=.1,V1="2.21.5",St={link_mode:"link_mode",relay:"relay"},yg={inbound:"inbound",outbound:"outbound"},AJ="0.3",CJ="WALLETCONNECT_CLIENT_ID",M3="WALLETCONNECT_LINK_MODE_APPS",br={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},xJ="subscription",_J="0.3",NJ="pairing",IJ="0.3",Cf={wc_pairingDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:0},res:{ttl:Q.ONE_DAY,prompt:!1,tag:0}}},Fo={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ys={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},TJ="history",OJ="0.3",DJ="expirer",Wr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},UJ="0.3",$J="verify-api",MJ="https://verify.walletconnect.com",A5="https://verify.walletconnect.org",hd=A5,RJ=`${hd}/v3`,BJ=[MJ,A5],LJ="echo",kJ="https://echo.walletconnect.com",Hs={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Di={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ws={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},To={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Oo={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},xf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},PJ=.1,jJ="event-client",zJ=86400,HJ="https://pulse.walletconnect.org/batch";function FJ(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var o=e.length,c=e.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,b=0,y=0,m=p.length;y!==m&&p[y]===0;)y++,g++;for(var w=(m-y)*u+1>>>0,v=new Uint8Array(w);y!==m;){for(var _=p[y],B=0,U=w-1;(_!==0||B<b)&&U!==-1;U--,B++)_+=256*v[U]>>>0,v[U]=_%o>>>0,_=_/o>>>0;if(_!==0)throw new Error("Non-zero carry");b=B,y++}for(var D=w-b;D!==w&&v[D]===0;)D++;for(var x=c.repeat(g);D<w;++D)x+=e.charAt(v[D]);return x}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var b=0,y=0;p[g]===c;)b++,g++;for(var m=(p.length-g)*l+1>>>0,w=new Uint8Array(m);p[g];){var v=n[p.charCodeAt(g)];if(v===255)return;for(var _=0,B=m-1;(v!==0||_<y)&&B!==-1;B--,_++)v+=o*w[B]>>>0,w[B]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");y=_,g++}if(p[g]!==" "){for(var U=m-y;U!==m&&w[U]===0;)U++;for(var D=new Uint8Array(b+(m-U)),x=b;U!==m;)D[x++]=w[U++];return D}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var qJ=FJ,VJ=qJ;const C5=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},KJ=e=>new TextEncoder().encode(e),WJ=e=>new TextDecoder().decode(e);class GJ{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class YJ{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return x5(this,t)}}class ZJ{constructor(t){this.decoders=t}or(t){return x5(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const x5=(e,t)=>new ZJ({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class XJ{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new GJ(t,n,r),this.decoder=new YJ(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const xm=({name:e,prefix:t,encode:n,decode:r})=>new XJ(e,t,n,r),Oh=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=VJ(n,t);return xm({prefix:e,name:t,encode:r,decode:i=>C5(s(i))})},QJ=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*n/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},JJ=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",a=0,o=0;for(let c=0;c<e.length;++c)for(o=o<<8|e[c],a+=8;a>n;)a-=n,i+=t[s&o>>a];if(a&&(i+=t[s&o<<n-a]),r)for(;i.length*n&7;)i+="=";return i},On=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>xm({prefix:t,name:e,encode(s){return JJ(s,r,n)},decode(s){return QJ(s,r,n,e)}}),eee=xm({prefix:"\0",name:"identity",encode:e=>WJ(e),decode:e=>KJ(e)});var tee=Object.freeze({__proto__:null,identity:eee});const nee=On({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ree=Object.freeze({__proto__:null,base2:nee});const see=On({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var iee=Object.freeze({__proto__:null,base8:see});const aee=Oh({prefix:"9",name:"base10",alphabet:"0123456789"});var oee=Object.freeze({__proto__:null,base10:aee});const cee=On({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),lee=On({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var uee=Object.freeze({__proto__:null,base16:cee,base16upper:lee});const fee=On({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dee=On({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hee=On({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pee=On({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gee=On({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mee=On({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),yee=On({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wee=On({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bee=On({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var vee=Object.freeze({__proto__:null,base32:fee,base32upper:dee,base32pad:hee,base32padupper:pee,base32hex:gee,base32hexupper:mee,base32hexpad:yee,base32hexpadupper:wee,base32z:bee});const Eee=Oh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),See=Oh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Aee=Object.freeze({__proto__:null,base36:Eee,base36upper:See});const Cee=Oh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xee=Oh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _ee=Object.freeze({__proto__:null,base58btc:Cee,base58flickr:xee});const Nee=On({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Iee=On({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Tee=On({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Oee=On({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Dee=Object.freeze({__proto__:null,base64:Nee,base64pad:Iee,base64url:Tee,base64urlpad:Oee});const _5=Array.from(""),Uee=_5.reduce((e,t,n)=>(e[n]=t,e),[]),$ee=_5.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function Mee(e){return e.reduce((t,n)=>(t+=Uee[n],t),"")}function Ree(e){const t=[];for(const n of e){const r=$ee[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Bee=xm({prefix:"",name:"base256emoji",encode:Mee,decode:Ree});var Lee=Object.freeze({__proto__:null,base256emoji:Bee}),kee=N5,R3=128,Pee=-128,jee=Math.pow(2,31);function N5(e,t,n){t=t||[],n=n||0;for(var r=n;e>=jee;)t[n++]=e&255|R3,e/=128;for(;e&Pee;)t[n++]=e&255|R3,e>>>=7;return t[n]=e|0,N5.bytes=n-r+1,t}var zee=K1,Hee=128,B3=127;function K1(e,r){var n=0,r=r||0,s=0,i=r,a,o=e.length;do{if(i>=o)throw K1.bytes=0,new RangeError("Could not decode varint");a=e[i++],n+=s<28?(a&B3)<<s:(a&B3)*Math.pow(2,s),s+=7}while(a>=Hee);return K1.bytes=i-r,n}var Fee=Math.pow(2,7),qee=Math.pow(2,14),Vee=Math.pow(2,21),Kee=Math.pow(2,28),Wee=Math.pow(2,35),Gee=Math.pow(2,42),Yee=Math.pow(2,49),Zee=Math.pow(2,56),Xee=Math.pow(2,63),Qee=function(e){return e<Fee?1:e<qee?2:e<Vee?3:e<Kee?4:e<Wee?5:e<Gee?6:e<Yee?7:e<Zee?8:e<Xee?9:10},Jee={encode:kee,decode:zee,encodingLength:Qee},I5=Jee;const L3=(e,t,n=0)=>(I5.encode(e,t,n),t),k3=e=>I5.encodingLength(e),W1=(e,t)=>{const n=t.byteLength,r=k3(e),s=r+k3(n),i=new Uint8Array(s+n);return L3(e,i,0),L3(n,i,r),i.set(t,s),new ete(e,n,t,i)};class ete{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const T5=({name:e,code:t,encode:n})=>new tte(e,t,n);class tte{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?W1(this.code,n):n.then(r=>W1(this.code,r))}else throw Error("Unknown type, must be binary type")}}const O5=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),nte=T5({name:"sha2-256",code:18,encode:O5("SHA-256")}),rte=T5({name:"sha2-512",code:19,encode:O5("SHA-512")});var ste=Object.freeze({__proto__:null,sha256:nte,sha512:rte});const D5=0,ite="identity",U5=C5,ate=e=>W1(D5,U5(e)),ote={code:D5,name:ite,encode:U5,digest:ate};var cte=Object.freeze({__proto__:null,identity:ote});new TextEncoder,new TextDecoder;const P3={...tee,...ree,...iee,...oee,...uee,...vee,...Aee,..._ee,...Dee,...Lee};({...ste,...cte});function $5(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function lte(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?$5(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function M5(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const j3=M5("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),hw=M5("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=lte(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),ute={utf8:j3,"utf-8":j3,hex:P3.base16,latin1:hw,ascii:hw,binary:hw,...P3};function fte(e,t="utf8"){const n=ute[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?$5(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var dte=Object.defineProperty,hte=(e,t,n)=>t in e?dte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ps=(e,t,n)=>hte(e,typeof t!="symbol"?t+"":t,n);let pte=class{constructor(t,n){this.core=t,this.logger=n,Ps(this,"keychain",new Map),Ps(this,"name",pJ),Ps(this,"version",gJ),Ps(this,"initialized",!1),Ps(this,"storagePrefix",ai),Ps(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ps(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ps(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Ps(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=X("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),Ps(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=qn(n,this.name)}get context(){return gr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,I1(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?T1(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}};var gte=Object.defineProperty,mte=(e,t,n)=>t in e?gte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pn=(e,t,n)=>mte(e,typeof t!="symbol"?t+"":t,n);class yte{constructor(t,n,r){this.core=t,this.logger=n,pn(this,"name",dJ),pn(this,"keychain"),pn(this,"randomSessionIdentifier",P1()),pn(this,"initialized",!1),pn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),pn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),pn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=bx(s);return UO(i.publicKey)}),pn(this,"generateKeyPair",()=>{this.isInitialized();const s=uX();return this.setPrivateKey(s.publicKey,s.privateKey)}),pn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),a=bx(i),o=this.randomSessionIdentifier;return await gV(o,s,hJ,a)}),pn(this,"generateSharedKey",(s,i,a)=>{this.isInitialized();const o=this.getPrivateKey(s),c=fX(o,i);return this.setSymKey(c,a)}),pn(this,"setSymKey",async(s,i)=>{this.isInitialized();const a=i||mg(s);return await this.keychain.set(a,s),a}),pn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),pn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),pn(this,"encode",async(s,i,a)=>{this.isInitialized();const o=l5(a),c=Xi(i);if(h3(o))return pX(c,a==null?void 0:a.encoding);if(d3(o)){const d=o.senderPublicKey,h=o.receiverPublicKey;s=await this.generateSharedKey(d,h)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=o;return dX({type:u,symKey:l,message:c,senderPublicKey:f,encoding:a==null?void 0:a.encoding})}),pn(this,"decode",async(s,i,a)=>{this.isInitialized();const o=mX(i,a);if(h3(o)){const c=gX(i,a==null?void 0:a.encoding);return bc(c)}if(d3(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=hX({symKey:c,encoded:i,encoding:a==null?void 0:a.encoding});return bc(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),pn(this,"getPayloadType",(s,i=Is)=>{const a=Yd({encoded:s,encoding:i});return Ac(a.type)}),pn(this,"getPayloadSenderPublicKey",(s,i=Is)=>{const a=Yd({encoded:s,encoding:i});return a.senderPublicKey?fr(a.senderPublicKey,zn):void 0}),this.core=t,this.logger=qn(n,this.name),this.keychain=r||new pte(this.core,this.logger)}get context(){return gr(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(U3)}catch{t=P1(),await this.keychain.set(U3,t)}return fte(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}var wte=Object.defineProperty,bte=Object.defineProperties,vte=Object.getOwnPropertyDescriptors,z3=Object.getOwnPropertySymbols,Ete=Object.prototype.hasOwnProperty,Ste=Object.prototype.propertyIsEnumerable,G1=(e,t,n)=>t in e?wte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ate=(e,t)=>{for(var n in t||(t={}))Ete.call(t,n)&&G1(e,n,t[n]);if(z3)for(var n of z3(t))Ste.call(t,n)&&G1(e,n,t[n]);return e},Cte=(e,t)=>bte(e,vte(t)),yr=(e,t,n)=>G1(e,typeof t!="symbol"?t+"":t,n);class xte extends hH{constructor(t,n){super(t,n),this.logger=t,this.core=n,yr(this,"messages",new Map),yr(this,"messagesWithoutClientAck",new Map),yr(this,"name",mJ),yr(this,"version",yJ),yr(this,"initialized",!1),yr(this,"storagePrefix",ai),yr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),yr(this,"set",async(r,s,i)=>{this.isInitialized();const a=Vs(s);let o=this.messages.get(r);if(typeof o>"u"&&(o={}),typeof o[a]<"u")return a;if(o[a]=s,this.messages.set(r,o),i===yg.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Cte(Ate({},c),{[a]:s}))}return await this.persist(),a}),yr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),yr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const a=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(a)}return s}),yr(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),a=Vs(s);return typeof i[a]<"u"}),yr(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const a=Vs(s);delete i[a],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),yr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=qn(t,this.name),this.core=n}get context(){return gr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,I1(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,I1(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?T1(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?T1(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}var _te=Object.defineProperty,Nte=Object.defineProperties,Ite=Object.getOwnPropertyDescriptors,H3=Object.getOwnPropertySymbols,Tte=Object.prototype.hasOwnProperty,Ote=Object.prototype.propertyIsEnumerable,Y1=(e,t,n)=>t in e?_te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lp=(e,t)=>{for(var n in t||(t={}))Tte.call(t,n)&&Y1(e,n,t[n]);if(H3)for(var n of H3(t))Ote.call(t,n)&&Y1(e,n,t[n]);return e},pw=(e,t)=>Nte(e,Ite(t)),bs=(e,t,n)=>Y1(e,typeof t!="symbol"?t+"":t,n);class Dte extends pH{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,bs(this,"events",new fs.EventEmitter),bs(this,"name",wJ),bs(this,"queue",new Map),bs(this,"publishTimeout",Q.toMiliseconds(Q.ONE_MINUTE)),bs(this,"initialPublishTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),bs(this,"needsTransportRestart",!1),bs(this,"publish",async(r,s,i)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const o=(i==null?void 0:i.ttl)||$3,c=x0(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,f=(i==null?void 0:i.id)||Qo().toString(),d={topic:r,message:s,opts:{ttl:o,relay:c,prompt:l,tag:u,id:f,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},h=`Failed to publish payload, please try again. id:${f} tag:${u}`;try{const p=new Promise(async g=>{const b=({id:m})=>{d.opts.id===m&&(this.removeRequestFromQueue(m),this.relayer.events.removeListener(on.publish,b),g(d))};this.relayer.events.on(on.publish,b);const y=Fa(new Promise((m,w)=>{this.rpcPublish({topic:r,message:s,ttl:o,prompt:l,tag:u,id:f,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(m).catch(v=>{this.logger.warn(v,v==null?void 0:v.message),w(v)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${u}`);try{await y,this.events.removeListener(on.publish,b)}catch(m){this.queue.set(f,pw(Lp({},d),{attempt:1})),this.logger.warn(m,m==null?void 0:m.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:r,message:s,opts:i}}),await Fa(p,this.publishTimeout,h)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(a=i==null?void 0:i.internal)!=null&&a.throwOnFailedPublish)throw p}finally{this.queue.delete(f)}}),bs(this,"on",(r,s)=>{this.events.on(r,s)}),bs(this,"once",(r,s)=>{this.events.once(r,s)}),bs(this,"off",(r,s)=>{this.events.off(r,s)}),bs(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=t,this.logger=qn(n,this.name),this.registerEventListeners()}get context(){return gr(this.logger)}async rpcPublish(t){var n,r,s,i;const{topic:a,message:o,ttl:c=$3,prompt:l,tag:u,id:f,attestation:d,tvf:h}=t,p={method:jf(x0().protocol).publish,params:Lp({topic:a,message:o,ttl:c,prompt:l,tag:u,attestation:d},h),id:f};bn((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),bn((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(on.publish,t),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{const r=t.attempt+1;this.queue.set(n,pw(Lp({},t),{attempt:r}));const{topic:s,message:i,opts:a,attestation:o}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${r}`),await this.rpcPublish(pw(Lp({},t),{topic:s,message:i,ttl:a.ttl,prompt:a.prompt,tag:a.tag,id:a.id,attestation:o,tvf:a.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Rc.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(on.connection_stalled);return}this.checkQueue()}),this.relayer.on(on.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var Ute=Object.defineProperty,$te=(e,t,n)=>t in e?Ute(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sl=(e,t,n)=>$te(e,typeof t!="symbol"?t+"":t,n);class Mte{constructor(){sl(this,"map",new Map),sl(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),sl(this,"get",t=>this.map.get(t)||[]),sl(this,"exists",(t,n)=>this.get(t).includes(n)),sl(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(t);return}this.map.set(t,s)}),sl(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Rte=Object.defineProperty,Bte=Object.defineProperties,Lte=Object.getOwnPropertyDescriptors,F3=Object.getOwnPropertySymbols,kte=Object.prototype.hasOwnProperty,Pte=Object.prototype.propertyIsEnumerable,Z1=(e,t,n)=>t in e?Rte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_f=(e,t)=>{for(var n in t||(t={}))kte.call(t,n)&&Z1(e,n,t[n]);if(F3)for(var n of F3(t))Pte.call(t,n)&&Z1(e,n,t[n]);return e},gw=(e,t)=>Bte(e,Lte(t)),ut=(e,t,n)=>Z1(e,typeof t!="symbol"?t+"":t,n);class jte extends yH{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,ut(this,"subscriptions",new Map),ut(this,"topicMap",new Mte),ut(this,"events",new fs.EventEmitter),ut(this,"name",xJ),ut(this,"version",_J),ut(this,"pending",new Map),ut(this,"cached",[]),ut(this,"initialized",!1),ut(this,"storagePrefix",ai),ut(this,"subscribeTimeout",Q.toMiliseconds(Q.ONE_MINUTE)),ut(this,"initialSubscribeTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),ut(this,"clientId"),ut(this,"batchSubscribeTopicsLimit",500),ut(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ut(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=x0(s),a={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,a);const o=await this.rpcSubscribe(r,i,s);return typeof o=="string"&&(this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),o}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),ut(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),ut(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),ut(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),ut(this,"on",(r,s)=>{this.events.on(r,s)}),ut(this,"once",(r,s)=>{this.events.once(r,s)}),ut(this,"off",(r,s)=>{this.events.off(r,s)}),ut(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),ut(this,"start",async()=>{await this.onConnect()}),ut(this,"stop",async()=>{await this.onDisconnect()}),ut(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ut(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),ut(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Rc.pulse,async()=>{await this.checkPending()}),this.events.on(br.created,async r=>{const s=br.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(br.deleted,async r=>{const s=br.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=t,this.logger=qn(n,this.name),this.clientId=""}get context(){return gr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async s=>await this.unsubscribeById(t,s,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const s=x0(r);await this.restartToComplete({topic:t,id:n,relay:s}),await this.rpcUnsubscribe(t,n,s);const i=It("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,n,r){var s;(!r||(r==null?void 0:r.transportType)===St.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const i={method:jf(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const a=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const o=await this.getSubscriptionId(t);if((r==null?void 0:r.transportType)===St.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},Q.toMiliseconds(Q.ONE_SECOND)),o;const c=new Promise(async u=>{const f=d=>{d.topic===t&&(this.events.removeListener(br.created,f),u(d.id))};this.events.on(br.created,f);try{const d=await Fa(new Promise((h,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(br.created,f),u(d)}catch{}}),l=await Fa(c,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!l&&a)throw new Error(`Subscribing to ${t} failed, please try again`);return l?o:null}catch(o){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(on.connection_stalled),a)throw o}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:jf(n.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Fa(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(on.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:jf(n.protocol).batchFetchMessages,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Fa(new Promise((i,a)=>{this.relayer.request(r).catch(o=>{this.logger.warn(o),a(o)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(on.connection_stalled)}return s}rpcUnsubscribe(t,n,r){const s={method:jf(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,n){this.setSubscription(t,gw(_f({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,_f({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,_f({},n)),this.topicMap.set(n.topic,t),this.events.emit(br.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(br.deleted,gw(_f({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(br.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(br.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:n}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>gw(_f({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await UG(Q.toMiliseconds(Q.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return Vs(t+await this.getClientId())}}var zte=Object.defineProperty,q3=Object.getOwnPropertySymbols,Hte=Object.prototype.hasOwnProperty,Fte=Object.prototype.propertyIsEnumerable,X1=(e,t,n)=>t in e?zte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V3=(e,t)=>{for(var n in t||(t={}))Hte.call(t,n)&&X1(e,n,t[n]);if(q3)for(var n of q3(t))Fte.call(t,n)&&X1(e,n,t[n]);return e},Fe=(e,t,n)=>X1(e,typeof t!="symbol"?t+"":t,n);class qte extends gH{constructor(t){super(t),Fe(this,"protocol","wc"),Fe(this,"version",2),Fe(this,"core"),Fe(this,"logger"),Fe(this,"events",new fs.EventEmitter),Fe(this,"provider"),Fe(this,"messages"),Fe(this,"subscriber"),Fe(this,"publisher"),Fe(this,"name",vJ),Fe(this,"transportExplicitlyClosed",!1),Fe(this,"initialized",!1),Fe(this,"connectionAttemptInProgress",!1),Fe(this,"relayUrl"),Fe(this,"projectId"),Fe(this,"packageName"),Fe(this,"bundleId"),Fe(this,"hasExperiencedNetworkDisruption",!1),Fe(this,"pingTimeout"),Fe(this,"heartBeatTimeout",Q.toMiliseconds(Q.THIRTY_SECONDS+Q.FIVE_SECONDS)),Fe(this,"reconnectTimeout"),Fe(this,"connectPromise"),Fe(this,"reconnectInProgress",!1),Fe(this,"requestsInFlight",[]),Fe(this,"connectTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),Fe(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||Qo().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const a=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(a);const o=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==a),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${i}`),a}}),Fe(this,"resetPingTimeout",()=>{E0()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),Fe(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Fe(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(on.connect)}),Fe(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Fe(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(on.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Fe(this,"registerProviderListeners",()=>{this.provider.on(Hr.payload,this.onPayloadHandler),this.provider.on(Hr.connect,this.onConnectHandler),this.provider.on(Hr.disconnect,this.onDisconnectHandler),this.provider.on(Hr.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?qn(t.logger,this.name):Eh(Ah({level:t.logger||bJ})),this.messages=new xte(this.logger,t.core),this.subscriber=new jte(this,this.logger),this.publisher=new Dte(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||S5,this.projectId=t.projectId,mG()?this.packageName=Mx():yG()&&(this.bundleId=Mx()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t==null?void 0:t.message))}get context(){return gr(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:St.relay},yg.outbound)}async subscribe(t,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const a=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let o=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",c;const l=u=>{u.topic===t&&(this.subscriber.off(br.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(br.created,l)}),new Promise(async(u,f)=>{o=await this.subscriber.subscribe(t,V3({internal:{throwOnFailedPublish:a}},n)).catch(d=>{a&&f(d)})||o,u()})]),o}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Fa(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await C3())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const s=Xt(Q.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(on.message,t),await this.recordMessageEvent(t,yg.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Hr.disconnect,i),await Fa(new Promise((a,o)=>{this.provider.connect().then(a).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{s(a)}).finally(()=>{this.provider.off(Hr.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,o)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Hr.disconnect,c),await this.subscriber.start().then(a).catch(o).finally(()=>{this.provider.off(Hr.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Q.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,s,i;if(E0())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a==null?void 0:a.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ds(new cJ(SG({sdkVersion:V1,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:s}=t;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),T2(t)){if(!t.method.endsWith(EJ))return;const n=t.params,{topic:r,message:s,publishedAt:i,attestation:a}=n.data,o={topic:r,message:s,publishedAt:i,transportType:St.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(V3({type:"event",event:n.id},o)),this.events.emit(n.id,o),await this.acknowledgePayload(t),await this.onMessageEvent(o)}else Cm(t)&&this.events.emit(on.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,yg.inbound),this.events.emit(on.message,t))}async acknowledgePayload(t){const n=Sm(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Hr.payload,this.onPayloadHandler),this.provider.off(Hr.connect,this.onConnectHandler),this.provider.off(Hr.disconnect,this.onDisconnectHandler),this.provider.off(Hr.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await C3();lQ(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Rc.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&dQ())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(on.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t==null?void 0:t.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Q.toMiliseconds(SJ)))))}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Vte(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function K3(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function W3(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Kte="[object RegExp]",Wte="[object String]",Gte="[object Number]",Yte="[object Boolean]",G3="[object Arguments]",Zte="[object Symbol]",Xte="[object Date]",Qte="[object Map]",Jte="[object Set]",ene="[object Array]",tne="[object Function]",nne="[object ArrayBuffer]",mw="[object Object]",rne="[object Error]",sne="[object DataView]",ine="[object Uint8Array]",ane="[object Uint8ClampedArray]",one="[object Uint16Array]",cne="[object Uint32Array]",lne="[object BigUint64Array]",une="[object Int8Array]",fne="[object Int16Array]",dne="[object Int32Array]",hne="[object BigInt64Array]",pne="[object Float32Array]",gne="[object Float64Array]";function mne(){}function Y3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function yne(e,t,n){return zf(e,t,void 0,void 0,void 0,void 0,n)}function zf(e,t,n,r,s,i,a){const o=a(e,t,n,r,s,i);if(o!==void 0)return o;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return pd(e,t,i,a)}return pd(e,t,i,a)}function pd(e,t,n,r){if(Object.is(e,t))return!0;let s=W3(e),i=W3(t);if(s===G3&&(s=mw),i===G3&&(i=mw),s!==i)return!1;switch(s){case Wte:return e.toString()===t.toString();case Gte:{const c=e.valueOf(),l=t.valueOf();return Vte(c,l)}case Yte:case Xte:case Zte:return Object.is(e.valueOf(),t.valueOf());case Kte:return e.source===t.source&&e.flags===t.flags;case tne:return e===t}n=n??new Map;const a=n.get(e),o=n.get(t);if(a!=null&&o!=null)return a===t;n.set(e,t),n.set(t,e);try{switch(s){case Qte:{if(e.size!==t.size)return!1;for(const[c,l]of e.entries())if(!t.has(c)||!zf(l,t.get(c),c,e,t,n,r))return!1;return!0}case Jte:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<c.length;u++){const f=c[u],d=l.findIndex(h=>zf(f,h,void 0,e,t,n,r));if(d===-1)return!1;l.splice(d,1)}return!0}case ene:case ine:case ane:case one:case cne:case lne:case une:case fne:case dne:case hne:case pne:case gne:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!zf(e[c],t[c],c,e,t,n,r))return!1;return!0}case nne:return e.byteLength!==t.byteLength?!1:pd(new Uint8Array(e),new Uint8Array(t),n,r);case sne:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:pd(new Uint8Array(e),new Uint8Array(t),n,r);case rne:return e.name===t.name&&e.message===t.message;case mw:{if(!(pd(e.constructor,t.constructor,n,r)||Y3(e)&&Y3(t)))return!1;const c=[...Object.keys(e),...K3(e)],l=[...Object.keys(t),...K3(t)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],d=e[f];if(!Object.hasOwn(t,f))return!1;const h=t[f];if(!zf(d,h,f,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function wne(e,t){return yne(e,t,mne)}var bne=Object.defineProperty,Z3=Object.getOwnPropertySymbols,vne=Object.prototype.hasOwnProperty,Ene=Object.prototype.propertyIsEnumerable,Q1=(e,t,n)=>t in e?bne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X3=(e,t)=>{for(var n in t||(t={}))vne.call(t,n)&&Q1(e,n,t[n]);if(Z3)for(var n of Z3(t))Ene.call(t,n)&&Q1(e,n,t[n]);return e},Xn=(e,t,n)=>Q1(e,typeof t!="symbol"?t+"":t,n);class kc extends mH{constructor(t,n,r,s=ai,i=void 0){super(t,n,r,s),this.core=t,this.logger=n,this.name=r,Xn(this,"map",new Map),Xn(this,"version",AJ),Xn(this,"cached",[]),Xn(this,"initialized",!1),Xn(this,"getKey"),Xn(this,"storagePrefix",ai),Xn(this,"recentlyDeleted",[]),Xn(this,"recentlyDeletedLimit",200),Xn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!bn(a)?this.map.set(this.getKey(a),a):jX(a)?this.map.set(a.id,a):zX(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Xn(this,"set",async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())}),Xn(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Xn(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>wne(o[c],a[c]))):this.values)),Xn(this,"update",async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=X3(X3({},this.getData(a)),o);this.map.set(a,c),await this.persist()}),Xn(this,"delete",async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=qn(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return gr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:s}=X("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}const{message:r}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Sne=Object.defineProperty,Ane=(e,t,n)=>t in e?Sne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t,n)=>Ane(e,typeof t!="symbol"?t+"":t,n);class Cne{constructor(t,n){this.core=t,this.logger=n,$e(this,"name",NJ),$e(this,"version",IJ),$e(this,"events",new QE),$e(this,"pairings"),$e(this,"initialized",!1),$e(this,"storagePrefix",ai),$e(this,"ignoredPayloadTypes",[Hi]),$e(this,"registeredMethods",[]),$e(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),$e(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),$e(this,"create",async r=>{this.isInitialized();const s=P1(),i=await this.core.crypto.setSymKey(s),a=Xt(Q.FIVE_MINUTES),o={protocol:E5},c={topic:i,expiry:a,relay:o,active:!1,methods:r==null?void 0:r.methods},l=g3({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:o,expiryTimestamp:a,methods:r==null?void 0:r.methods});return this.events.emit(Fo.create,c),this.core.expirer.set(i,a),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),$e(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Hs.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:a,relay:o,expiryTimestamp:c,methods:l}=p3(r.uri);s.props.properties.topic=i,s.addTrace(Hs.pairing_uri_validation_success),s.addTrace(Hs.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Hs.existing_pairing),u.active)throw s.setError(Di.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Hs.pairing_not_expired)}const f=c||Xt(Q.FIVE_MINUTES),d={topic:i,relay:o,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,d),s.addTrace(Hs.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(Fo.create,d),s.addTrace(Hs.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(a,i),s.addTrace(Hs.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Di.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:o})}catch(h){throw s.setError(Di.subscribe_pairing_topic_failure),h}return s.addTrace(Hs.subscribe_pairing_topic_success),d}),$e(this,"activate",async({topic:r})=>{this.isInitialized();const s=Xt(Q.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),$e(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=ko();this.events.once(Xe("pairing_ping",i),({error:l})=>{l?c(l):o()}),await a()}}),$e(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),$e(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),$e(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),$e(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",It("USER_DISCONNECTED")),await this.deletePairing(s))}),$e(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:a,methods:o}=r,c=this.core.crypto.keychain.get(s);return g3({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:a,methods:o})}),$e(this,"sendRequest",async(r,s,i)=>{const a=qa(s,i),o=await this.core.crypto.encode(r,a),c=Cf[s].req;return this.core.history.set(r,a),this.core.relayer.publish(r,o,c),a.id}),$e(this,"sendResult",async(r,s,i)=>{const a=Sm(r,i),o=await this.core.crypto.encode(s,a),c=(await this.core.history.get(s,r)).request.method,l=Cf[c].res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)}),$e(this,"sendError",async(r,s,i)=>{const a=Am(r,i),o=await this.core.crypto.encode(s,a),c=(await this.core.history.get(s,r)).request.method,l=Cf[c]?Cf[c].res:Cf.unregistered_method.res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)}),$e(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,It("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),$e(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>xa(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),$e(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),$e(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}}),$e(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(Fo.ping,{id:i,topic:r})}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),$e(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{qs(s)?this.events.emit(Xe("pairing_ping",i),{}):Yr(s)&&this.events.emit(Xe("pairing_ping",i),{error:s.error})},500)}),$e(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Fo.delete,{id:i,topic:r})}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),$e(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const o=It("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,r,o),this.logger.error(o)}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),$e(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(It("WC_METHOD_UNSUPPORTED",r))}),$e(this,"isValidPair",(r,s)=>{var i;if(!sr(r)){const{message:o}=X("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(Di.malformed_pairing_uri),new Error(o)}if(!PX(r.uri)){const{message:o}=X("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(Di.malformed_pairing_uri),new Error(o)}const a=p3(r==null?void 0:r.uri);if(!((i=a==null?void 0:a.relay)!=null&&i.protocol)){const{message:o}=X("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Di.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=X("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Di.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&Q.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){s.setError(Di.pairing_expired);const{message:o}=X("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),$e(this,"isValidPing",async r=>{if(!sr(r)){const{message:i}=X("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),$e(this,"isValidDisconnect",async r=>{if(!sr(r)){const{message:i}=X("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),$e(this,"isValidPairingTopic",async r=>{if(!Vt(r,!1)){const{message:s}=X("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=X("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(xa(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=X("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=t,this.logger=qn(n,this.name),this.pairings=new kc(this.core,this.logger,this.name,this.storagePrefix)}get context(){return gr(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(on.message,async t=>{const{topic:n,message:r,transportType:s}=t;if(this.pairings.keys.includes(n)&&s!==St.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);T2(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Cm(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Wr.expired,async t=>{const{topic:n}=bD(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Fo.expire,{topic:n}))})}}var xne=Object.defineProperty,_ne=(e,t,n)=>t in e?xne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gn=(e,t,n)=>_ne(e,typeof t!="symbol"?t+"":t,n);class Nne extends dH{constructor(t,n){super(t,n),this.core=t,this.logger=n,gn(this,"records",new Map),gn(this,"events",new fs.EventEmitter),gn(this,"name",TJ),gn(this,"version",OJ),gn(this,"cached",[]),gn(this,"initialized",!1),gn(this,"storagePrefix",ai),gn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),gn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:Xt(Q.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(ys.created,a)}),gn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Yr(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(ys.updated,s))}),gn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),gn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(ys.deleted,i)}}),this.persist()}),gn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),gn(this,"on",(r,s)=>{this.events.on(r,s)}),gn(this,"once",(r,s)=>{this.events.once(r,s)}),gn(this,"off",(r,s)=>{this.events.off(r,s)}),gn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=qn(n,this.name)}get context(){return gr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:qa(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ys.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(ys.created,t=>{const n=ys.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(ys.updated,t=>{const n=ys.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(ys.deleted,t=>{const n=ys.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(Rc.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{Q.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(ys.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Ine=Object.defineProperty,Tne=(e,t,n)=>t in e?Ine(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bn=(e,t,n)=>Tne(e,typeof t!="symbol"?t+"":t,n);class One extends wH{constructor(t,n){super(t,n),this.core=t,this.logger=n,Bn(this,"expirations",new Map),Bn(this,"events",new fs.EventEmitter),Bn(this,"name",DJ),Bn(this,"version",UJ),Bn(this,"cached",[]),Bn(this,"initialized",!1),Bn(this,"storagePrefix",ai),Bn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Bn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Bn(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(Wr.created,{target:i,expiration:a})}),Bn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Bn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Wr.deleted,{target:s,expiration:i})}}),Bn(this,"on",(r,s)=>{this.events.on(r,s)}),Bn(this,"once",(r,s)=>{this.events.once(r,s)}),Bn(this,"off",(r,s)=>{this.events.off(r,s)}),Bn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=qn(n,this.name)}get context(){return gr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return AG(t);if(typeof t=="number")return CG(t);const{message:n}=X("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Wr.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;Q.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(Wr.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(Rc.pulse,()=>this.checkExpirations()),this.events.on(Wr.created,t=>{const n=Wr.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Wr.expired,t=>{const n=Wr.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Wr.deleted,t=>{const n=Wr.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Dne=Object.defineProperty,Une=(e,t,n)=>t in e?Dne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zt=(e,t,n)=>Une(e,typeof t!="symbol"?t+"":t,n);class $ne extends bH{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,zt(this,"name",$J),zt(this,"abortController"),zt(this,"isDevEnv"),zt(this,"verifyUrlV3",RJ),zt(this,"storagePrefix",ai),zt(this,"version",v5),zt(this,"publicKey"),zt(this,"fetchPromise"),zt(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Q.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),zt(this,"register",async s=>{if(!Wu()||this.isDevEnv)return;const i=window.location.origin,{id:a,decryptedId:o}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${a}&decryptedId=${o}`;try{const l=vc(),u=this.startAbortTimer(Q.ONE_SECOND*5),f=await new Promise((d,h)=>{const p=()=>{window.removeEventListener("message",b),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const b=y=>{if(y.data&&typeof y.data=="string")try{const m=JSON.parse(y.data);if(m.type==="verify_attestation"){if(v1(m.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",b),d(m.attestation===null?"":m.attestation)}}catch(m){this.logger.warn(m)}};l.body.appendChild(g),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),zt(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:a,encryptedId:o}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(v1(i).payload.id!==o)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(a,c)}),zt(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const a=this.startAbortTimer(Q.ONE_SECOND*5),o=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0}),zt(this,"getVerifyUrl",s=>{let i=s||hd;return BJ.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${hd}`),i=hd),i}),zt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Q.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),zt(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),zt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),zt(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),zt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),zt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),i(a))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),zt(this,"validateAttestation",(s,i)=>{const a=wX(s,i.publicKey),o={hasExpired:Q.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=qn(n,this.name),this.abortController=new AbortController,this.isDevEnv=p2(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return gr(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Q.toMiliseconds(t))}}var Mne=Object.defineProperty,Rne=(e,t,n)=>t in e?Mne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q3=(e,t,n)=>Rne(e,typeof t!="symbol"?t+"":t,n);class Bne extends vH{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,Q3(this,"context",LJ),Q3(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:o=!1}=r,c=`${kJ}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:o})})}),this.logger=qn(n,this.context)}}var Lne=Object.defineProperty,J3=Object.getOwnPropertySymbols,kne=Object.prototype.hasOwnProperty,Pne=Object.prototype.propertyIsEnumerable,J1=(e,t,n)=>t in e?Lne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nf=(e,t)=>{for(var n in t||(t={}))kne.call(t,n)&&J1(e,n,t[n]);if(J3)for(var n of J3(t))Pne.call(t,n)&&J1(e,n,t[n]);return e},tn=(e,t,n)=>J1(e,typeof t!="symbol"?t+"":t,n);class jne extends EH{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,tn(this,"context",jJ),tn(this,"storagePrefix",ai),tn(this,"storageVersion",PJ),tn(this,"events",new Map),tn(this,"shouldPersist",!1),tn(this,"init",async()=>{if(!p2())try{const s={eventId:Bx(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:yD(this.core.relayer.protocol,this.core.relayer.version,V1)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),tn(this,"createEvent",s=>{const{event:i="ERROR",type:a="",properties:{topic:o,trace:c}}=s,l=Bx(),u=this.core.projectId||"",f=Date.now(),d=Nf({eventId:l,timestamp:f,props:{event:i,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),tn(this,"getEvent",s=>{const{eventId:i,topic:a}=s;if(i)return this.events.get(i);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return Nf(Nf({},o),this.setMethods(o.eventId))}),tn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),tn(this,"setEventListeners",()=>{this.core.heartbeat.on(Rc.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Q.fromMiliseconds(Date.now())-Q.fromMiliseconds(s.timestamp)>zJ&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),tn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),tn(this,"addTrace",(s,i)=>{const a=this.events.get(s);a&&(a.props.properties.trace.push(i),this.events.set(s,a),this.shouldPersist=!0)}),tn(this,"setError",(s,i)=>{const a=this.events.get(s);a&&(a.props.type=i,a.timestamp=Date.now(),this.events.set(s,a),this.shouldPersist=!0)}),tn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),tn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Nf(Nf({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),tn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,a]of this.events)a.props.type&&s.push(a);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),tn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${HJ}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${V1}${i}`,{method:"POST",body:JSON.stringify(s)})}),tn(this,"getAppDomain",()=>mD().url),this.logger=qn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var zne=Object.defineProperty,e_=Object.getOwnPropertySymbols,Hne=Object.prototype.hasOwnProperty,Fne=Object.prototype.propertyIsEnumerable,ev=(e,t,n)=>t in e?zne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t_=(e,t)=>{for(var n in t||(t={}))Hne.call(t,n)&&ev(e,n,t[n]);if(e_)for(var n of e_(t))Fne.call(t,n)&&ev(e,n,t[n]);return e},pt=(e,t,n)=>ev(e,typeof t!="symbol"?t+"":t,n);let qne=class R5 extends cH{constructor(t){var n;super(t),pt(this,"protocol",b5),pt(this,"version",v5),pt(this,"name",q1),pt(this,"relayUrl"),pt(this,"projectId"),pt(this,"customStoragePrefix"),pt(this,"events",new fs.EventEmitter),pt(this,"logger"),pt(this,"heartbeat"),pt(this,"relayer"),pt(this,"crypto"),pt(this,"storage"),pt(this,"history"),pt(this,"expirer"),pt(this,"pairing"),pt(this,"verify"),pt(this,"echoClient"),pt(this,"linkModeSupportedApps"),pt(this,"eventClient"),pt(this,"initialized",!1),pt(this,"logChunkController"),pt(this,"on",(o,c)=>this.events.on(o,c)),pt(this,"once",(o,c)=>this.events.once(o,c)),pt(this,"off",(o,c)=>this.events.off(o,c)),pt(this,"removeListener",(o,c)=>this.events.removeListener(o,c)),pt(this,"dispatchEnvelope",({topic:o,message:c,sessionExists:l})=>{if(!o||!c)return;const u={topic:o,message:c,publishedAt:Date.now(),transportType:St.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(t==null?void 0:t.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(o){console.warn("Failed to copy global core",o)}this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||S5,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const s=Ah({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:uJ.logger,name:q1}),{logger:i,chunkLoggerController:a}=rO({opts:s,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,c;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=qn(i,this.name),this.heartbeat=new Zj,this.crypto=new yte(this,this.logger,t==null?void 0:t.keychain),this.history=new Nne(this,this.logger),this.expirer=new One(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new Uz(t_(t_({},fJ),t==null?void 0:t.storageOptions)),this.relayer=new qte({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Cne(this,this.logger),this.verify=new $ne(this,this.logger,this.storage),this.echoClient=new Bne(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new jne(this,this.logger,t==null?void 0:t.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new R5(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(CJ,r),n}get context(){return gr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(M3,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(M3)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&lJ.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Vne=qne,B5="wc",L5=2,k5="client",O2=`${B5}@${L5}:${k5}:`,yw={name:k5,logger:"error"},n_="WALLETCONNECT_DEEPLINK_CHOICE",Kne="proposal",r_="Proposal expired",Wne="session",il=Q.SEVEN_DAYS,Gne="engine",nn={wc_sessionPropose:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Q.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Q.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1119}}},ww={min:Q.FIVE_MINUTES,max:Q.SEVEN_DAYS},js={idle:"IDLE",active:"ACTIVE"},Yne={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Zne="request",Xne=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Qne="wc",Jne="auth",ere="authKeys",tre="pairingTopics",nre="requests",_m=`${Qne}@${1.5}:${Jne}:`,wg=`${_m}:PUB_KEY`;var rre=Object.defineProperty,sre=Object.defineProperties,ire=Object.getOwnPropertyDescriptors,s_=Object.getOwnPropertySymbols,are=Object.prototype.hasOwnProperty,ore=Object.prototype.propertyIsEnumerable,tv=(e,t,n)=>t in e?rre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t)=>{for(var n in t||(t={}))are.call(t,n)&&tv(e,n,t[n]);if(s_)for(var n of s_(t))ore.call(t,n)&&tv(e,n,t[n]);return e},Qn=(e,t)=>sre(e,ire(t)),K=(e,t,n)=>tv(e,typeof t!="symbol"?t+"":t,n);class cre extends xH{constructor(t){super(t),K(this,"name",Gne),K(this,"events",new QE),K(this,"initialized",!1),K(this,"requestQueue",{state:js.idle,queue:[]}),K(this,"sessionRequestQueue",{state:js.idle,queue:[]}),K(this,"emittedSessionRequests",new $G({limit:500})),K(this,"requestQueueDelay",Q.ONE_SECOND),K(this,"expectedPairingMethodMap",new Map),K(this,"recentlyDeletedMap",new Map),K(this,"recentlyDeletedLimit",200),K(this,"relayMessageCache",[]),K(this,"pendingSessions",new Map),K(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(nn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Q.toMiliseconds(this.requestQueueDelay)))}),K(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Qn(Et({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=MX(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:o,scopedProperties:c,relays:l}=r;let u=s,f,d=!1;try{if(u){const B=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=B.active}}catch(B){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),B}if(!u||!d){const{topic:B,uri:U}=await this.client.core.pairing.create();u=B,f=U}if(!u){const{message:B}=X("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(B)}const h=await this.client.core.crypto.generateKeyPair(),p=nn.wc_sessionPropose.req.ttl||Q.FIVE_MINUTES,g=Xt(p),b=Qn(Et(Et({requiredNamespaces:i,optionalNamespaces:a,relays:l??[{protocol:E5}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},o&&{sessionProperties:o}),c&&{scopedProperties:c}),{id:Fs()}),y=Xe("session_connect",b.id),{reject:m,resolve:w,done:v}=ko(p,r_),_=({id:B})=>{B===b.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(b.id),this.events.emit(y,{error:{message:r_,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(y,({error:B,session:U})=>{this.client.events.off("proposal_expire",_),B?m(B):U&&w(U)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:b,throwOnFailedPublish:!0,clientRpcId:b.id}),await this.setProposal(b.id,b),{uri:f,approval:v}}),K(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),K(this,"approve",async n=>{var r,s,i;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[ws.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(x){throw a.setError(To.no_internet_connection),x}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(x){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),a.setError(To.proposal_not_found),x}try{await this.isValidApprove(n)}catch(x){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(To.session_approve_namespace_validation_failure),x}const{id:o,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n,h=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:b,optionalNamespaces:y}=h;let m=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});m||(m=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:ws.session_approve_started,properties:{topic:p,trace:[ws.session_approve_started,ws.session_namespaces_validation_success]}}));const w=await this.client.core.crypto.generateKeyPair(),v=g.publicKey,_=await this.client.core.crypto.generateSharedKey(w,v),B=Et(Et(Et({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:w,metadata:this.client.metadata},expiry:Xt(il)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),U=St.relay;m.addTrace(ws.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:U})}catch(x){throw m.setError(To.subscribe_session_topic_failure),x}m.addTrace(ws.subscribe_session_topic_success);const D=Qn(Et({},B),{topic:_,requiredNamespaces:b,optionalNamespaces:y,pairingTopic:p,acknowledged:!1,self:B.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:w,transportType:St.relay});await this.client.session.set(_,D),m.addTrace(ws.store_session);try{m.addTrace(ws.publishing_session_settle),await this.sendRequest({topic:_,method:"wc_sessionSettle",params:B,throwOnFailedPublish:!0}).catch(x=>{throw m==null||m.setError(To.session_settle_publish_failure),x}),m.addTrace(ws.session_settle_publish_success),m.addTrace(ws.publishing_session_approve),await this.sendResult({id:o,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:w},throwOnFailedPublish:!0}).catch(x=>{throw m==null||m.setError(To.session_approve_publish_failure),x}),m.addTrace(ws.session_approve_publish_success)}catch(x){throw this.client.logger.error(x),this.client.session.delete(_,It("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),x}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(o),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(_,Xt(il)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),K(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:nn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),K(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:r,namespaces:s}=n,{done:i,resolve:a,reject:o}=ko(),c=Fs(),l=Qo().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Xe("session_update",c),({error:f})=>{f?o(f):a()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(r,{namespaces:u}),o(f)}),{acknowledged:i}}),K(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=Fs(),{done:i,resolve:a,reject:o}=ko();return this.events.once(Xe("session_extend",s),({error:c})=>{c?o(c):a()}),await this.setExpiry(r,Xt(il)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{o(c)}),{acknowledged:i}}),K(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:r,request:s,topic:i,expiry:a=nn.wc_sessionRequest.req.ttl}=n,o=this.client.session.get(i);(o==null?void 0:o.transportType)===St.relay&&await this.confirmOnlineStateOrThrow();const c=Fs(),l=Qo().toString(),{done:u,resolve:f,reject:d}=ko(a,"Request expired. Please try again.");this.events.once(Xe("session_request",c),({error:b,result:y})=>{b?d(b):f(y)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:{request:Qn(Et({},s),{expiryTimestamp:Xt(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:p}).catch(b=>d(b)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:Qn(Et({},s),{expiryTimestamp:Xt(a)}),chainId:r};return await Promise.all([new Promise(async b=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:g,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(y=>d(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),b()}),new Promise(async b=>{var y;if(!((y=o.sessionConfig)!=null&&y.disableDeepLink)){const m=await IG(this.client.core.storage,n_);await xG({id:c,topic:i,wcDeepLink:m})}b()}),u()]).then(b=>b[2])}),K(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,a=this.client.session.get(r);a.transportType===St.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);qs(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:o}):Yr(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:o}),this.cleanupAfterResponse(n)}),K(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Fs(),i=Qo().toString(),{done:a,resolve:o,reject:c}=ko();this.events.once(Xe("session_ping",s),({error:l})=>{l?c(l):o()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),K(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,a=Qo().toString(),o=Fs();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:o})}),K(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:It("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=X("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),K(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>LX(r,n)))),K(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),K(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),a=i?St.link_mode:St.relay;a===St.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:h,nbf:p,methods:g=[],expiry:b}=n,y=[...n.resources||[]],{topic:m,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:w}});const v=await this.client.core.crypto.generateKeyPair(),_=mg(v);if(await Promise.all([this.client.auth.authKeys.set(wg,{responseTopic:_,publicKey:v}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:m})]),await this.client.core.relayer.subscribe(_,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${m}`),g.length>0){const{namespace:M}=nu(o[0]);let R=qY(M,"request",g);gg(y)&&(R=KY(R,y.pop())),y.push(R)}const B=b&&b>nn.wc_sessionAuthenticate.req.ttl?b:nn.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:d??"caip122",chains:o,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:p,resources:y},requester:{publicKey:v,metadata:this.client.metadata},expiryTimestamp:Xt(B)},D={eip155:{chains:o,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},x={requiredNamespaces:{},optionalNamespaces:D,relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:v,metadata:this.client.metadata},expiryTimestamp:Xt(nn.wc_sessionPropose.req.ttl),id:Fs()},{done:A,resolve:I,reject:$}=ko(B,"Request expired"),L=Fs(),P=Xe("session_connect",x.id),S=Xe("session_request",L),E=async({error:M,session:R})=>{this.events.off(S,O),M?$(M):R&&I({session:R})},O=async M=>{var R,z,Z;if(await this.deletePendingAuthRequest(L,{message:"fulfilled",code:0}),M.error){const ve=It("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return M.error.code===ve.code?void 0:(this.events.off(P,E),$(M.error.message))}await this.deleteProposal(x.id),this.events.off(P,E);const{cacaos:W,responder:V}=M.result,te=[],be=[];for(const ve of W){await Wx({cacao:ve,projectId:this.client.core.projectId})||(this.client.logger.error(ve,"Signature verification failed"),$(It("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:st}=ve,xt=gg(st.resources),Vn=[O1(st.iss)],Fc=S0(st.iss);if(xt){const di=Gx(xt),qc=Yx(xt);te.push(...di),Vn.push(...qc)}for(const di of Vn)be.push(`${di}:${Fc}`)}const me=await this.client.core.crypto.generateSharedKey(v,V.publicKey);let De;te.length>0&&(De={topic:me,acknowledged:!0,self:{publicKey:v,metadata:this.client.metadata},peer:V,controller:V.publicKey,expiry:Xt(il),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:b3([...new Set(te)],[...new Set(be)]),transportType:a},await this.client.core.relayer.subscribe(me,{transportType:a}),await this.client.session.set(me,De),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:V.metadata}),De=this.client.session.get(me)),(R=this.client.metadata.redirect)!=null&&R.linkMode&&(z=V.metadata.redirect)!=null&&z.linkMode&&(Z=V.metadata.redirect)!=null&&Z.universal&&r&&(this.client.core.addLinkModeSupportedApp(V.metadata.redirect.universal),this.client.session.update(me,{transportType:St.link_mode})),I({auths:W,session:De})};this.events.once(P,E),this.events.once(S,O);let T;try{if(i){const M=qa("wc_sessionAuthenticate",U,L);this.client.core.history.set(m,M);const R=await this.client.core.crypto.encode("",M,{type:Th,encoding:Ma});T=Bp(r,m,R)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:U,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:L}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:x,expiry:nn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(M){throw this.events.off(P,E),this.events.off(S,O),M}return await this.setProposal(x.id,x),await this.setAuthRequest(L,{request:Qn(Et({},U),{verifyContext:{}}),pairingTopic:m,transportType:a}),{uri:T??w,response:A}}),K(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Oo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw i.setError(xf.no_internet_connection),b}const a=this.getPendingAuthRequest(r);if(!a)throw i.setError(xf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const o=a.transportType||St.relay;o===St.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=mg(c),f={type:Hi,receiverPublicKey:c,senderPublicKey:l},d=[],h=[];for(const b of s){if(!await Wx({cacao:b,projectId:this.client.core.projectId})){i.setError(xf.invalid_cacao);const _=It("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:f}),new Error(_.message)}i.addTrace(Oo.cacaos_verified);const{p:y}=b,m=gg(y.resources),w=[O1(y.iss)],v=S0(y.iss);if(m){const _=Gx(m),B=Yx(m);d.push(..._),w.push(...B)}for(const _ of w)h.push(`${_}:${v}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Oo.create_authenticated_session_topic);let g;if((d==null?void 0:d.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:a.requester.metadata},controller:c,expiry:Xt(il),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:b3([...new Set(d)],[...new Set(h)]),transportType:o},i.addTrace(Oo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:o})}catch(b){throw i.setError(xf.subscribe_authenticated_session_topic_failure),b}i.addTrace(Oo.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(Oo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}i.addTrace(Oo.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(b){throw i.setError(xf.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),K(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===St.relay&&await this.confirmOnlineStateOrThrow();const a=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),c=mg(a),l={type:Hi,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:nn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),K(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return MD(r,s)}),K(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),K(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var a,o;return((a=i.peerMetadata)==null?void 0:a.url)&&((o=i.peerMetadata)==null?void 0:o.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),K(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:a=!0,id:o=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,It("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(n_).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,It("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=js.idle),a&&this.client.events.emit("session_delete",{id:o,topic:s})}),K(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(To.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,It("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),K(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=js.idle,this.client.events.emit("session_request_expire",{id:n}))}),K(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),K(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),K(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Xt(nn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),K(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:a=St.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:a})}),K(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:a}=n,o=i.request.expiryTimestamp||Xt(nn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,o),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:a})}),K(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:a,relayRpcId:o,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f}=n,d=qa(s,i,c);let h;const p=!!u;try{const y=p?Ma:Is;h=await this.client.core.crypto.encode(r,d,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),y}let g;if(Xne.includes(s)){const y=Vs(JSON.stringify(d)),m=Vs(h);g=await this.client.core.verify.register({id:m,decryptedId:y})}const b=nn[s].req;if(b.attestation=g,a&&(b.ttl=a),o&&(b.id=o),this.client.core.history.set(r,d),p){const y=Bp(u,r,h);await global.Linking.openURL(y,this.client.name)}else{const y=nn[s].req;a&&(y.ttl=a),o&&(y.id=o),y.tvf=Qn(Et({},f),{correlationId:d.id}),l?(y.internal=Qn(Et({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,h,y)):this.client.core.relayer.publish(r,h,y).catch(m=>this.client.logger.error(m))}return d.id}),K(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:a,encodeOpts:o,appLink:c}=n,l=Sm(r,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=f?Ma:Is;u=await this.client.core.crypto.encode(s,l,Qn(Et({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let d,h;try{d=await this.client.core.history.get(s,r);const p=d.request;try{h=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(f){const p=Bp(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=d.request.method,g=nn[p].res;g.tvf=Qn(Et({},h),{correlationId:r}),a?(g.internal=Qn(Et({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(l)}),K(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:a,rpcOpts:o,appLink:c}=n,l=Am(r,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=f?Ma:Is;u=await this.client.core.crypto.encode(s,l,Qn(Et({},a||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let d;try{d=await this.client.core.history.get(s,r)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),h}if(f){const h=Bp(c,s,u);await global.Linking.openURL(h,this.client.name)}else{const h=d.request.method,p=o||nn[h].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),K(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;xa(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{xa(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),K(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),K(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),K(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===js.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=js.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=js.idle}),K(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:a,encryptedId:o}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),K(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,a=(await this.client.core.history.get(r,s.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),K(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=X("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),K(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),K(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:a}=n,{params:o,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Di.proposal_listener_not_found)),this.isValidConnect(Et({},s.params));const u=o.expiryTimestamp||Xt(nn.wc_sessionPropose.req.ttl),f=Et({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:a},o);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:i,hash:Vs(JSON.stringify(s)),encryptedId:a,metadata:f.proposer.metadata});l==null||l.addTrace(Hs.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:nn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),K(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(qs(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const c=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(Yr(r)){await this.deleteProposal(i);const a=Xe("session_connect",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),K(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:a,controller:o,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r.params,h=[...this.pendingSessions.values()].find(b=>b.sessionTopic===n);if(!h)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(h.proposalId),g=Qn(Et(Et(Et({topic:n,relay:a,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:o.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:St.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Xe("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),K(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;qs(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Xe("session_approve",s),{})):Yr(r)&&(await this.client.session.delete(n,It("USER_DISCONNECTED")),this.events.emit(Xe("session_approve",s),{error:r.error}))}),K(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const a=`${n}_session_update`,o=Af.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:It("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Et({topic:n},s));try{Af.set(a,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw Af.delete(a),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),K(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),K(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Xe("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);qs(r)?this.events.emit(Xe("session_update",s),{}):Yr(r)&&this.events.emit(Xe("session_update",s),{error:r.error})}),K(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Xt(il)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),K(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Xe("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);qs(r)?this.events.emit(Xe("session_extend",s),{}):Yr(r)&&this.events.emit(Xe("session_extend",s),{error:r.error})}),K(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),K(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Xe("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);qs(r)?this.events.emit(Xe("session_ping",s),{}):Yr(r)&&this.events.emit(Xe("session_ping",s),{error:r.error})},500)}),K(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(on.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:It("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),K(this,"onSessionRequest",async n=>{var r,s,i;const{topic:a,payload:o,attestation:c,encryptedId:l,transportType:u}=n,{id:f,params:d}=o;try{await this.isValidRequest(Et({topic:a},d));const h=this.client.session.get(a),p=await this.getVerifyContext({attestationId:c,hash:Vs(JSON.stringify(qa("wc_sessionRequest",d,f))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:f,topic:a,params:d,verifyContext:p};await this.setPendingSessionRequest(g),u===St.link_mode&&(r=h.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:a,error:h}),this.client.logger.error(h)}}),K(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Xe("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);qs(r)?this.events.emit(Xe("session_request",s),{result:r.result}):Yr(r)&&this.events.emit(Xe("session_request",s),{error:r.error})}),K(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const a=`${n}_session_event_${i.event.name}`,o=Af.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Et({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Af.set(a,s)}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),K(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),qs(r)?this.events.emit(Xe("session_request",s),{result:r.result}):Yr(r)&&this.events.emit(Xe("session_request",s),{error:r.error})}),K(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:a,encryptedId:o,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:f}=i.params,d=await this.getVerifyContext({attestationId:a,hash:Vs(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===St.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:Hi,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:h,rpcOpts:nn.wc_sessionAuthenticate.autoReject,appLink:d})}}),K(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),K(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=js.idle,this.processSessionRequestQueue()},Q.toMiliseconds(this.requestQueueDelay))}),K(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const a=i.request.id,o=Xe("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(Xe("session_request",i.request.id),{error:r})})}),K(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===js.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),K(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=js.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),K(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:qa("wc_sessionPropose",Qn(Et({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),K(this,"isValidConnect",async n=>{if(!sr(n)){const{message:l}=X("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:a,scopedProperties:o,relays:c}=n;if(bn(r)||await this.isValidPairingTopic(r),!YX(c)){const{message:l}=X("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!bn(s)&&si(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!bn(i)&&si(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),bn(a)||this.validateSessionProps(a,"sessionProperties"),!bn(o)){this.validateSessionProps(o,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(o).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),K(this,"validateNamespaces",(n,r)=>{const s=GX(n,"connect()",r);if(s)throw new Error(s.message)}),K(this,"isValidApprove",async n=>{if(!sr(n))throw new Error(X("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:a,scopedProperties:o}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=fw(s,"approve()");if(l)throw new Error(l.message);const u=S3(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!Vt(i,!0)){const{message:f}=X("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(f)}if(bn(a)||this.validateSessionProps(a,"sessionProperties"),!bn(o)){this.validateSessionProps(o,"scopedProperties");const f=new Set(Object.keys(s));if(!Object.keys(o).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),K(this,"isValidReject",async n=>{if(!sr(n)){const{message:i}=X("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!XX(s)){const{message:i}=X("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),K(this,"isValidSessionSettleRequest",n=>{if(!sr(n)){const{message:l}=X("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:a}=n;if(!f5(r)){const{message:l}=X("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const o=HX(s,"onSessionSettleRequest()");if(o)throw new Error(o.message);const c=fw(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(xa(a)){const{message:l}=X("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),K(this,"isValidUpdate",async n=>{if(!sr(n)){const{message:c}=X("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),a=fw(s,"update()");if(a)throw new Error(a.message);const o=S3(i.requiredNamespaces,s,"update()");if(o)throw new Error(o.message)}),K(this,"isValidExtend",async n=>{if(!sr(n)){const{message:s}=X("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),K(this,"isValidRequest",async n=>{if(!sr(n)){const{message:c}=X("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!E3(o,i)){const{message:c}=X("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!QX(s)){const{message:c}=X("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!tQ(o,i,s.method)){const{message:c}=X("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(a&&!iQ(a,ww)){const{message:c}=X("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${ww.min} and ${ww.max}`);throw new Error(c)}}),K(this,"isValidRespond",async n=>{var r;if(!sr(n)){const{message:a}=X("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(a)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(a){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),a}if(!JX(i)){const{message:a}=X("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}}),K(this,"isValidPing",async n=>{if(!sr(n)){const{message:s}=X("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),K(this,"isValidEmit",async n=>{if(!sr(n)){const{message:o}=X("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(o)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!E3(a,i)){const{message:o}=X("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!eQ(s)){const{message:o}=X("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!nQ(a,i,s.name)){const{message:o}=X("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}}),K(this,"isValidDisconnect",async n=>{if(!sr(n)){const{message:s}=X("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),K(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Vt(s,!1))throw new Error("uri is required parameter");if(!Vt(i,!1))throw new Error("domain is required parameter");if(!Vt(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>nu(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=nu(r[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),K(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:a,transportType:o}=n,c={verified:{verifyUrl:a.verifyUrl||hd,validation:"UNKNOWN",origin:a.url||""}};try{if(o===St.link_mode){const u=this.getAppLinkIfEnabled(a,o);return c.verified.validation=u&&new URL(u).origin===new URL(a.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:a.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),K(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:a}=X("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(a)}})}),K(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),K(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(a)}}}),K(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=X("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),K(this,"isLinkModeEnabled",(n,r)=>{var s,i,a,o,c,l,u,f,d;return!n||r!==St.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((f=n==null?void 0:n.redirect)==null?void 0:f.universal)!==""&&((d=n==null?void 0:n.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),K(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),K(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=Rx(n,"topic")||"",s=decodeURIComponent(Rx(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:St.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),K(this,"registerLinkModeListeners",async()=>{var n;if(p2()||wo()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),K(this,"getTVFParams",(n,r,s)=>{var i,a,o;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(o=(a=r.request.params)==null?void 0:a[0])==null?void 0:o.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),K(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),K(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,a=Yne[i];if(i==="sui_signTransaction")return[IY(r.transactionBytes)];if(i==="near_signTransaction")return[Fx(r)];if(i==="near_signTransactions")return r.map(c=>Fx(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[vQ({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return Fi(r)?r.map(c=>qx(c)):[qx(r)];if(i==="cosmos_signDirect")return[OY(r)];if(typeof r=="string")return[r];const o=r[a.key];if(Fi(o))return i==="solana_signAllTransactions"?o.map(c=>NY(c)):o;if(typeof o=="string")return[o]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(on.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:s,transportType:i}=t,{publicKey:a}=this.client.auth.authKeys.keys.includes(wg)?this.client.auth.authKeys.get(wg):{publicKey:void 0};try{const o=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:i===St.link_mode?Ma:Is});T2(o)?(this.client.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o,attestation:s,transportType:i,encryptedId:Vs(r)})):Cm(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o,transportType:i}),this.client.core.history.delete(n,o.id)):await this.onRelayEventUnknownPayload({topic:n,payload:o,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(Wr.expired,async t=>{const{topic:n,id:r}=bD(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,X("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,X("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Fo.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Fo.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Vt(t,!1)){const{message:n}=X("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=X("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(xa(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=X("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!Vt(t,!1)){const{message:n}=X("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=X("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(xa(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=X("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=X("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Vt(t,!1)){const{message:n}=X("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=X("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!ZX(t)){const{message:n}=X("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=X("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(xa(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=X("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class lre extends kc{constructor(t,n){super(t,n,Kne,O2),this.core=t,this.logger=n}}let ure=class extends kc{constructor(t,n){super(t,n,Wne,O2),this.core=t,this.logger=n}};class fre extends kc{constructor(t,n){super(t,n,Zne,O2,r=>r.id),this.core=t,this.logger=n}}class dre extends kc{constructor(t,n){super(t,n,ere,_m,()=>wg),this.core=t,this.logger=n}}let hre=class extends kc{constructor(t,n){super(t,n,tre,_m),this.core=t,this.logger=n}};class pre extends kc{constructor(t,n){super(t,n,nre,_m,r=>r.id),this.core=t,this.logger=n}}var gre=Object.defineProperty,mre=(e,t,n)=>t in e?gre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bw=(e,t,n)=>mre(e,typeof t!="symbol"?t+"":t,n);class yre{constructor(t,n){this.core=t,this.logger=n,bw(this,"authKeys"),bw(this,"pairingTopics"),bw(this,"requests"),this.authKeys=new dre(this.core,this.logger),this.pairingTopics=new hre(this.core,this.logger),this.requests=new pre(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var wre=Object.defineProperty,bre=(e,t,n)=>t in e?wre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t,n)=>bre(e,typeof t!="symbol"?t+"":t,n);let vre=class P5 extends CH{constructor(t){super(t),Me(this,"protocol",B5),Me(this,"version",L5),Me(this,"name",yw.name),Me(this,"metadata"),Me(this,"core"),Me(this,"logger"),Me(this,"events",new fs.EventEmitter),Me(this,"engine"),Me(this,"session"),Me(this,"proposal"),Me(this,"pendingRequest"),Me(this,"auth"),Me(this,"signConfig"),Me(this,"on",(r,s)=>this.events.on(r,s)),Me(this,"once",(r,s)=>this.events.once(r,s)),Me(this,"off",(r,s)=>this.events.off(r,s)),Me(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),Me(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Me(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Me(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),Me(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),Me(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(t==null?void 0:t.name)||yw.name,this.metadata=bG(t==null?void 0:t.metadata),this.signConfig=t==null?void 0:t.signConfig;const n=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Eh(Ah({level:(t==null?void 0:t.logger)||yw.logger}));this.core=(t==null?void 0:t.core)||new Vne(t),this.logger=qn(n,this.name),this.session=new ure(this.core,this.logger),this.proposal=new lre(this.core,this.logger),this.pendingRequest=new fre(this.core,this.logger),this.engine=new cre(this),this.auth=new yre(this.core,this.logger)}static async init(t){const n=new P5(t);return await n.initialize(),n}get context(){return gr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var nv={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof vn<"u"&&vn,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(a){var o=typeof i<"u"&&i||typeof self<"u"&&self||typeof vn<"u"&&vn||{},c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(S){return S&&DataView.prototype.isPrototypeOf(S)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(S){return S&&u.indexOf(Object.prototype.toString.call(S))>-1};function d(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function h(S){return typeof S!="string"&&(S=String(S)),S}function p(S){var E={next:function(){var O=S.shift();return{done:O===void 0,value:O}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function g(S){this.map={},S instanceof g?S.forEach(function(E,O){this.append(O,E)},this):Array.isArray(S)?S.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(E){this.append(E,S[E])},this)}g.prototype.append=function(S,E){S=d(S),E=h(E);var O=this.map[S];this.map[S]=O?O+", "+E:E},g.prototype.delete=function(S){delete this.map[d(S)]},g.prototype.get=function(S){return S=d(S),this.has(S)?this.map[S]:null},g.prototype.has=function(S){return this.map.hasOwnProperty(d(S))},g.prototype.set=function(S,E){this.map[d(S)]=h(E)},g.prototype.forEach=function(S,E){for(var O in this.map)this.map.hasOwnProperty(O)&&S.call(E,this.map[O],O,this)},g.prototype.keys=function(){var S=[];return this.forEach(function(E,O){S.push(O)}),p(S)},g.prototype.values=function(){var S=[];return this.forEach(function(E){S.push(E)}),p(S)},g.prototype.entries=function(){var S=[];return this.forEach(function(E,O){S.push([O,E])}),p(S)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function b(S){if(!S._noBody){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}}function y(S){return new Promise(function(E,O){S.onload=function(){E(S.result)},S.onerror=function(){O(S.error)}})}function m(S){var E=new FileReader,O=y(E);return E.readAsArrayBuffer(S),O}function w(S){var E=new FileReader,O=y(E),T=/charset=([A-Za-z0-9_-]+)/.exec(S.type),M=T?T[1]:"utf-8";return E.readAsText(S,M),O}function v(S){for(var E=new Uint8Array(S),O=new Array(E.length),T=0;T<E.length;T++)O[T]=String.fromCharCode(E[T]);return O.join("")}function _(S){if(S.slice)return S.slice(0);var E=new Uint8Array(S.byteLength);return E.set(new Uint8Array(S)),E.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:c.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:c.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():c.arrayBuffer&&c.blob&&l(S)?(this._bodyArrayBuffer=_(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||f(S))?this._bodyArrayBuffer=_(S):this._bodyText=S=Object.prototype.toString.call(S):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var S=b(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=b(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var S=b(this);if(S)return S;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function D(S){var E=S.toUpperCase();return U.indexOf(E)>-1?E:S}function x(S,E){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var O=E.body;if(S instanceof x){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,E.headers||(this.headers=new g(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!O&&S._bodyInit!=null&&(O=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new g(E.headers)),this.method=D(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||function(){if("AbortController"in o){var R=new AbortController;return R.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var T=/([?&])_=[^&]*/;if(T.test(this.url))this.url=this.url.replace(T,"$1_="+new Date().getTime());else{var M=/\?/;this.url+=(M.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function A(S){var E=new FormData;return S.trim().split("&").forEach(function(O){if(O){var T=O.split("="),M=T.shift().replace(/\+/g," "),R=T.join("=").replace(/\+/g," ");E.append(decodeURIComponent(M),decodeURIComponent(R))}}),E}function I(S){var E=new g,O=S.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(T){return T.indexOf(`
`)===0?T.substr(1,T.length):T}).forEach(function(T){var M=T.split(":"),R=M.shift().trim();if(R){var z=M.join(":").trim();try{E.append(R,z)}catch(Z){console.warn("Response "+Z.message)}}}),E}B.call(x.prototype);function $(S,E){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new g(E.headers),this.url=E.url||"",this._initBody(S)}B.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},$.error=function(){var S=new $(null,{status:200,statusText:""});return S.ok=!1,S.status=0,S.type="error",S};var L=[301,302,303,307,308];$.redirect=function(S,E){if(L.indexOf(E)===-1)throw new RangeError("Invalid status code");return new $(null,{status:E,headers:{location:S}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(E,O){this.message=E,this.name=O;var T=Error(E);this.stack=T.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function P(S,E){return new Promise(function(O,T){var M=new x(S,E);if(M.signal&&M.signal.aborted)return T(new a.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function z(){R.abort()}R.onload=function(){var V={statusText:R.statusText,headers:I(R.getAllResponseHeaders()||"")};M.url.indexOf("file://")===0&&(R.status<200||R.status>599)?V.status=200:V.status=R.status,V.url="responseURL"in R?R.responseURL:V.headers.get("X-Request-URL");var te="response"in R?R.response:R.responseText;setTimeout(function(){O(new $(te,V))},0)},R.onerror=function(){setTimeout(function(){T(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){T(new TypeError("Network request timed out"))},0)},R.onabort=function(){setTimeout(function(){T(new a.DOMException("Aborted","AbortError"))},0)};function Z(V){try{return V===""&&o.location.href?o.location.href:V}catch{return V}}if(R.open(M.method,Z(M.url),!0),M.credentials==="include"?R.withCredentials=!0:M.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(c.blob?R.responseType="blob":c.arrayBuffer&&(R.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof g||o.Headers&&E.headers instanceof o.Headers)){var W=[];Object.getOwnPropertyNames(E.headers).forEach(function(V){W.push(d(V)),R.setRequestHeader(V,h(E.headers[V]))}),M.headers.forEach(function(V,te){W.indexOf(te)===-1&&R.setRequestHeader(te,V)})}else M.headers.forEach(function(V,te){R.setRequestHeader(te,V)});M.signal&&(M.signal.addEventListener("abort",z),R.onreadystatechange=function(){R.readyState===4&&M.signal.removeEventListener("abort",z)}),R.send(typeof M._bodyInit>"u"?null:M._bodyInit)})}return P.polyfill=!0,o.fetch||(o.fetch=P,o.Headers=g,o.Request=x,o.Response=$),a.Headers=g,a.Request=x,a.Response=$,a.fetch=P,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(nv,nv.exports);var Ere=nv.exports;const i_=rh(Ere);var Sre=Object.defineProperty,Are=Object.defineProperties,Cre=Object.getOwnPropertyDescriptors,a_=Object.getOwnPropertySymbols,xre=Object.prototype.hasOwnProperty,_re=Object.prototype.propertyIsEnumerable,o_=(e,t,n)=>t in e?Sre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c_=(e,t)=>{for(var n in t||(t={}))xre.call(t,n)&&o_(e,n,t[n]);if(a_)for(var n of a_(t))_re.call(t,n)&&o_(e,n,t[n]);return e},l_=(e,t)=>Are(e,Cre(t));const Nre={Accept:"application/json","Content-Type":"application/json"},Ire="POST",u_={headers:Nre,method:Ire},f_=10;let $s=class{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new fs.EventEmitter,this.isAvailable=!1,this.registering=!1,!I3(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=Xi(t),r=await(await i_(this.url,l_(c_({},u_),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!I3(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=Xi({id:1,jsonrpc:"2.0",method:"test",params:[]});await i_(t,l_(c_({},u_),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?bc(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),i=Am(t,s);this.events.emit("payload",i)}parseError(t,n=this.url){return p5(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>f_&&this.events.setMaxListeners(f_)}};const d_="error",Tre="wss://relay.walletconnect.org",Ore="wc",Dre="universal_provider",kp=`${Ore}@2:${Dre}:`,j5="https://rpc.walletconnect.org/v1/",Al="generic",Ure=`${j5}bundler`,hs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function D2(e){return e==null||typeof e!="object"&&typeof e!="function"}function z5(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function H5(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const $re="[object RegExp]",F5="[object String]",q5="[object Number]",V5="[object Boolean]",K5="[object Arguments]",Mre="[object Symbol]",Rre="[object Date]",Bre="[object Map]",Lre="[object Set]",kre="[object Array]",Pre="[object ArrayBuffer]",jre="[object Object]",zre="[object DataView]",Hre="[object Uint8Array]",Fre="[object Uint8ClampedArray]",qre="[object Uint16Array]",Vre="[object Uint32Array]",Kre="[object Int8Array]",Wre="[object Int16Array]",Gre="[object Int32Array]",Yre="[object Float32Array]",Zre="[object Float64Array]";function U2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xre(e,t){return Fl(e,void 0,e,new Map,t)}function Fl(e,t,n,r=new Map,s=void 0){const i=s==null?void 0:s(e,t,n,r);if(i!=null)return i;if(D2(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const a=new Array(e.length);r.set(e,a);for(let o=0;o<e.length;o++)a[o]=Fl(e[o],o,n,r,s);return Object.hasOwn(e,"index")&&(a.index=e.index),Object.hasOwn(e,"input")&&(a.input=e.input),a}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const a=new RegExp(e.source,e.flags);return a.lastIndex=e.lastIndex,a}if(e instanceof Map){const a=new Map;r.set(e,a);for(const[o,c]of e)a.set(o,Fl(c,o,n,r,s));return a}if(e instanceof Set){const a=new Set;r.set(e,a);for(const o of e)a.add(Fl(o,void 0,n,r,s));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(U2(e)){const a=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,a);for(let o=0;o<e.length;o++)a[o]=Fl(e[o],o,n,r,s);return a}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const a=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,a),qo(a,e,n,r,s),a}if(typeof File<"u"&&e instanceof File){const a=new File([e],e.name,{type:e.type});return r.set(e,a),qo(a,e,n,r,s),a}if(e instanceof Blob){const a=new Blob([e],{type:e.type});return r.set(e,a),qo(a,e,n,r,s),a}if(e instanceof Error){const a=new e.constructor;return r.set(e,a),a.message=e.message,a.name=e.name,a.stack=e.stack,a.cause=e.cause,qo(a,e,n,r,s),a}if(typeof e=="object"&&Qre(e)){const a=Object.create(Object.getPrototypeOf(e));return r.set(e,a),qo(a,e,n,r,s),a}return e}function qo(e,t,n=e,r,s){const i=[...Object.keys(t),...z5(t)];for(let a=0;a<i.length;a++){const o=i[a],c=Object.getOwnPropertyDescriptor(e,o);(c==null||c.writable)&&(e[o]=Fl(t[o],o,n,r,s))}}function Qre(e){switch(H5(e)){case K5:case kre:case Pre:case zre:case V5:case Rre:case Yre:case Zre:case Kre:case Wre:case Gre:case Bre:case q5:case jre:case $re:case Lre:case F5:case Mre:case Hre:case Fre:case qre:case Vre:return!0;default:return!1}}function Jre(e,t){return Xre(e,(n,r,s,i)=>{if(typeof e=="object")switch(Object.prototype.toString.call(e)){case q5:case F5:case V5:{const a=new e.constructor(e==null?void 0:e.valueOf());return qo(a,e),a}case K5:{const a={};return qo(a,e),a.length=e.length,a[Symbol.iterator]=e[Symbol.iterator],a}default:return}})}function h_(e){return Jre(e)}function p_(e){return e!==null&&typeof e=="object"&&H5(e)==="[object Arguments]"}function g_(e){return typeof e=="object"&&e!==null}function ese(){}function tse(e){return U2(e)}function nse(e){var n;if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))!=null&&n.writable)?!1:e.toString()===`[object ${r}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rse(e){if(D2(e))return e;if(Array.isArray(e)||U2(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const r=new n(e.message);return r.stack=e.stack,r.name=e.name,r.cause=e.cause,r}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const r=Object.create(t);return Object.assign(r,e)}return e}function sse(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let s=e;for(let i=0;i<n.length;i++){const a=n[i];s=rv(s,a,r,new Map)}return s}function rv(e,t,n,r){if(D2(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(r.has(t))return rse(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let i=0;i<t.length;i++)t[i]=t[i]??void 0}const s=[...Object.keys(t),...z5(t)];for(let i=0;i<s.length;i++){const a=s[i];let o=t[a],c=e[a];if(p_(o)&&(o={...o}),p_(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(o)&&(o=h_(o)),Array.isArray(o))if(typeof c=="object"&&c!=null){const u=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];u[h]=c[h]}c=u}else c=[];const l=n(c,o,a,e,t,r);l!=null?e[a]=l:Array.isArray(o)||g_(c)&&g_(o)?e[a]=rv(c,o,n,r):c==null&&nse(o)?e[a]=rv({},o,n,r):c==null&&tse(o)?e[a]=h_(o):(c===void 0||o!==void 0)&&(e[a]=o)}return e}function ise(e,...t){return sse(e,...t,ese)}var ase=Object.defineProperty,ose=Object.defineProperties,cse=Object.getOwnPropertyDescriptors,m_=Object.getOwnPropertySymbols,lse=Object.prototype.hasOwnProperty,use=Object.prototype.propertyIsEnumerable,y_=(e,t,n)=>t in e?ase(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pp=(e,t)=>{for(var n in t||(t={}))lse.call(t,n)&&y_(e,n,t[n]);if(m_)for(var n of m_(t))use.call(t,n)&&y_(e,n,t[n]);return e},fse=(e,t)=>ose(e,cse(t));function Pr(e,t,n){var r;const s=nu(e);return((r=t.rpcMap)==null?void 0:r[s.reference])||`${j5}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Pc(e){return e.includes(":")?e.split(":")[1]:e}function W5(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function dse(e,t){const n=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=t.namespaces[s].accounts;r.push(...i)}),r}function w_(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>{var r,s;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((s=n==null?void 0:n.chains)==null?void 0:s.length)>0}))}function jp(e={},t={}){const n=w_(b_(e)),r=w_(b_(t));return ise(n,r)}function b_(e){var t,n,r,s,i;const a={};if(!si(e))return a;for(const[o,c]of Object.entries(e)){const l=Em(o)?[o]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=Hl(o);a[h]=fse(Pp(Pp({},a[h]),c),{chains:ri(l,(t=a[h])==null?void 0:t.chains),methods:ri(u,(n=a[h])==null?void 0:n.methods),events:ri(f,(r=a[h])==null?void 0:r.events)}),(si(d)||si(((s=a[h])==null?void 0:s.rpcMap)||{}))&&(a[h].rpcMap=Pp(Pp({},d),(i=a[h])==null?void 0:i.rpcMap))}return a}function v_(e){return e.includes(":")?e.split(":")[2]:e}function E_(e){const t={};for(const[n,r]of Object.entries(e)){const s=r.methods||[],i=r.events||[],a=r.accounts||[],o=Em(n)?[n]:r.chains?r.chains:W5(r.accounts);t[n]={chains:o,methods:s,events:i,accounts:a}}return t}function vw(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const G5={},Ke=e=>G5[e],Ew=(e,t)=>{G5[e]=t};var hse=Object.defineProperty,S_=Object.getOwnPropertySymbols,pse=Object.prototype.hasOwnProperty,gse=Object.prototype.propertyIsEnumerable,A_=(e,t,n)=>t in e?hse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C_=(e,t)=>{for(var n in t||(t={}))pse.call(t,n)&&A_(e,n,t[n]);if(S_)for(var n of S_(t))gse.call(t,n)&&A_(e,n,t[n]);return e};const x_="eip155",mse=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],yse=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,Sw=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,__=e=>Object.keys(e).filter(t=>mse.includes(t)).reduce((t,n)=>(t[n]=e[n],t),{}),wse=(e,t,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=e,i={};if(!si(s)&&!si(r))return;const a=__(r);for(const o of n){const c=yse(o);if(!c)continue;i[Sw(c)]=a;const l=s==null?void 0:s[`${x_}:${c}`];if(l){const u=l==null?void 0:l[`${x_}:${c}:${t}`];i[Sw(c)]=C_(C_({},i[Sw(c)]),__(u||l))}}for(const[o,c]of Object.entries(i))Object.keys(c).length===0&&delete i[o];return Object.keys(i).length>0?i:void 0};var bse=Object.defineProperty,vse=(e,t,n)=>t in e?bse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,al=(e,t,n)=>vse(e,typeof t!="symbol"?t+"":t,n);let Ese=class{constructor(t){al(this,"name","polkadot"),al(this,"client"),al(this,"httpProviders"),al(this,"events"),al(this,"namespace"),al(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=Pc(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ds(new $s(r,Ke("disableProviderPing")))}};var Sse=Object.defineProperty,Ase=Object.defineProperties,Cse=Object.getOwnPropertyDescriptors,N_=Object.getOwnPropertySymbols,xse=Object.prototype.hasOwnProperty,_se=Object.prototype.propertyIsEnumerable,sv=(e,t,n)=>t in e?Sse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I_=(e,t)=>{for(var n in t||(t={}))xse.call(t,n)&&sv(e,n,t[n]);if(N_)for(var n of N_(t))_se.call(t,n)&&sv(e,n,t[n]);return e},T_=(e,t)=>Ase(e,Cse(t)),ol=(e,t,n)=>sv(e,typeof t!="symbol"?t+"":t,n);class Nse{constructor(t){ol(this,"name","eip155"),ol(this,"client"),ol(this,"chainId"),ol(this,"namespace"),ol(this,"httpProviders"),ol(this,"events"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n),this.chainId=parseInt(t),this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||Pr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ds(new $s(r,Ke("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Pc(n));t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}async handleSwitchChain(t){var n,r;let s=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var n,r,s,i,a;const o=(r=(n=t.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=t.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(t.topic),u=((a=l==null?void 0:l.sessionProperties)==null?void 0:a.capabilities)||{},f=`${o}${c.join(",")}`,d=u==null?void 0:u[f];if(d)return d;let h;try{h=wse(l,o,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const p=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:T_(I_({},l.sessionProperties||{}),{capabilities:T_(I_({},u||{}),{[f]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(t){var n,r;const s=this.client.session.get(t.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const o=this.getBundlerUrl(t.chainId,i);try{return await this.getUserOperationReceipt(o,t)}catch(c){console.warn("Failed to fetch call status from bundler",c,o)}}const a=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,t)}catch(o){console.warn("Failed to fetch call status from custom bundler",o,a)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,n){var r;const s=new URL(t),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qa("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(t,n){return`${Ure}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${n}`}}var Ise=Object.defineProperty,Tse=(e,t,n)=>t in e?Ise(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cl=(e,t,n)=>Tse(e,typeof t!="symbol"?t+"":t,n);let Ose=class{constructor(t){cl(this,"name","solana"),cl(this,"client"),cl(this,"httpProviders"),cl(this,"events"),cl(this,"namespace"),cl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=Pc(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ds(new $s(r,Ke("disableProviderPing")))}};var Dse=Object.defineProperty,Use=(e,t,n)=>t in e?Dse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ll=(e,t,n)=>Use(e,typeof t!="symbol"?t+"":t,n);class $se{constructor(t){ll(this,"name","cosmos"),ll(this,"client"),ll(this,"httpProviders"),ll(this,"events"),ll(this,"namespace"),ll(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=Pc(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ds(new $s(r,Ke("disableProviderPing")))}}var Mse=Object.defineProperty,Rse=(e,t,n)=>t in e?Mse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ul=(e,t,n)=>Rse(e,typeof t!="symbol"?t+"":t,n);let Bse=class{constructor(t){ul(this,"name","algorand"),ul(this,"client"),ul(this,"httpProviders"),ul(this,"events"),ul(this,"namespace"),ul(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(!this.httpProviders[t]){const r=n||Pr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ds(new $s(r,Ke("disableProviderPing")))}};var Lse=Object.defineProperty,kse=(e,t,n)=>t in e?Lse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fl=(e,t,n)=>kse(e,typeof t!="symbol"?t+"":t,n);let Pse=class{constructor(t){fl(this,"name","cip34"),fl(this,"client"),fl(this,"httpProviders"),fl(this,"events"),fl(this,"namespace"),fl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Pc(n);t[s]=this.createHttpProvider(s,r)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}getCardanoRPCUrl(t){const n=this.namespace.rpcMap;if(n)return n[t]}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ds(new $s(r,Ke("disableProviderPing")))}};var jse=Object.defineProperty,zse=(e,t,n)=>t in e?jse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dl=(e,t,n)=>zse(e,typeof t!="symbol"?t+"":t,n);let Hse=class{constructor(t){dl(this,"name","elrond"),dl(this,"client"),dl(this,"httpProviders"),dl(this,"events"),dl(this,"namespace"),dl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=Pc(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ds(new $s(r,Ke("disableProviderPing")))}};var Fse=Object.defineProperty,qse=(e,t,n)=>t in e?Fse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hl=(e,t,n)=>qse(e,typeof t!="symbol"?t+"":t,n);class Vse{constructor(t){hl(this,"name","multiversx"),hl(this,"client"),hl(this,"httpProviders"),hl(this,"events"),hl(this,"namespace"),hl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=Pc(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ds(new $s(r,Ke("disableProviderPing")))}}var Kse=Object.defineProperty,Wse=(e,t,n)=>t in e?Kse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pl=(e,t,n)=>Wse(e,typeof t!="symbol"?t+"":t,n);class Gse{constructor(t){pl(this,"name","near"),pl(this,"client"),pl(this,"httpProviders"),pl(this,"events"),pl(this,"namespace"),pl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||Pr(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace);return typeof r>"u"?void 0:new ds(new $s(r,Ke("disableProviderPing")))}}var Yse=Object.defineProperty,Zse=(e,t,n)=>t in e?Yse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gl=(e,t,n)=>Zse(e,typeof t!="symbol"?t+"":t,n);class Xse{constructor(t){gl(this,"name","tezos"),gl(this,"client"),gl(this,"httpProviders"),gl(this,"events"),gl(this,"namespace"),gl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||Pr(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{t[n]=this.createHttpProvider(n)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace);return typeof r>"u"?void 0:new ds(new $s(r))}}var Qse=Object.defineProperty,Jse=(e,t,n)=>t in e?Qse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ml=(e,t,n)=>Jse(e,typeof t!="symbol"?t+"":t,n);class eie{constructor(t){ml(this,"name",Al),ml(this,"client"),ml(this,"httpProviders"),ml(this,"events"),ml(this,"namespace"),ml(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var t,n;const r={};return(n=(t=this.namespace)==null?void 0:t.accounts)==null||n.forEach(s=>{const i=nu(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(t){const n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||Pr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ds(new $s(r,Ke("disableProviderPing")))}}var tie=Object.defineProperty,nie=Object.defineProperties,rie=Object.getOwnPropertyDescriptors,O_=Object.getOwnPropertySymbols,sie=Object.prototype.hasOwnProperty,iie=Object.prototype.propertyIsEnumerable,iv=(e,t,n)=>t in e?tie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zp=(e,t)=>{for(var n in t||(t={}))sie.call(t,n)&&iv(e,n,t[n]);if(O_)for(var n of O_(t))iie.call(t,n)&&iv(e,n,t[n]);return e},Aw=(e,t)=>nie(e,rie(t)),Fr=(e,t,n)=>iv(e,typeof t!="symbol"?t+"":t,n);let Y5=class Z5{constructor(t){Fr(this,"client"),Fr(this,"namespaces"),Fr(this,"optionalNamespaces"),Fr(this,"sessionProperties"),Fr(this,"scopedProperties"),Fr(this,"events",new QE),Fr(this,"rpcProviders",{}),Fr(this,"session"),Fr(this,"providerOpts"),Fr(this,"logger"),Fr(this,"uri"),Fr(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Eh(Ah({level:(t==null?void 0:t.logger)||d_})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const n=new Z5(t);return await n.initialize(),n}async request(t,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:zp({},t),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,s){const i=new Date().getTime();this.request(t,r,s).then(a=>n(null,Sm(i,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:It("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(t,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const a=E_(this.session.namespaces);this.namespaces=jp(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){const{uri:n,approval:r}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=E_(s.namespaces);return this.namespaces=jp(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,s]=this.validateChain(t),i=this.getProvider(r);i.name===Al?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Fi(n)){for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,n;if(this.client=this.providerOpts.client||await vre.init({core:this.providerOpts.core,logger:this.providerOpts.logger||d_,relayUrl:this.providerOpts.relayUrl||Tre,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>Hl(n)))];Ew("client",this.client),Ew("events",this.events),Ew("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=dse(n,this.session);if((r==null?void 0:r.length)===0)return;const s=W5(r),i=jp(this.namespaces,this.optionalNamespaces),a=Aw(zp({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Nse({namespace:a});break;case"algorand":this.rpcProviders[n]=new Bse({namespace:a});break;case"solana":this.rpcProviders[n]=new Ose({namespace:a});break;case"cosmos":this.rpcProviders[n]=new $se({namespace:a});break;case"polkadot":this.rpcProviders[n]=new Ese({namespace:a});break;case"cip34":this.rpcProviders[n]=new Pse({namespace:a});break;case"elrond":this.rpcProviders[n]=new Hse({namespace:a});break;case"multiversx":this.rpcProviders[n]=new Vse({namespace:a});break;case"near":this.rpcProviders[n]=new Gse({namespace:a});break;case"tezos":this.rpcProviders[n]=new Xse({namespace:a});break;default:this.rpcProviders[Al]?this.rpcProviders[Al].updateNamespace(a):this.rpcProviders[Al]=new eie({namespace:a})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var n;const{topic:r}=t;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var n;const{params:r,topic:s}=t;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const a=i.data;a&&Fi(a)&&this.events.emit("accountsChanged",a.map(v_))}else if(i.name==="chainChanged"){const a=r.chainId,o=r.event.data,c=Hl(a),l=vw(a)!==vw(o)?`${c}:${vw(o)}`:a;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r,s;if(t!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,a=(s=this.client)==null?void 0:s.session.get(t);this.session=Aw(zp({},a),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{var n;t.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Aw(zp({},It("USER_DISCONNECTED")),{data:t.topic})))}),this.on(hs.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[Al]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=t;this.optionalNamespaces=jp(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(t){const[n,r]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>Hl(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Hl(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(t);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:t}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const a=(i=(s=this.session)==null?void 0:s.namespaces[t])==null?void 0:i.accounts;if(!a)return;const o=a.filter(c=>c.includes(`${r}:`)).map(v_);if(!Fi(o))return;this.events.emit("accountsChanged",o)}catch(a){this.logger.warn("Failed to emit accountsChanged on chain change",a)}}updateNamespaceChain(t,n){if(!this.namespaces)return;const r=this.namespaces[t]?t:`${t}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${kp}/${t}${s}`,n)}async getFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${kp}/${t}${r}`)}async deleteFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${kp}/${t}${r}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(kp)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const aie=Y5;var D_={};const q={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof D_<"u"?D_.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},X5={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return(e==null?void 0:e.filter(n=>n.chainNamespace===t))||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){var s;if(!t)return;const n=e.find(i=>i.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return((s=q.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}},Q5=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var oie=20,cie=1,Cc=1e6,U_=1e6,lie=-7,uie=21,fie=!1,Dh="[big.js] ",jc=Dh+"Invalid ",Nm=jc+"decimal places",die=jc+"rounding mode",J5=Dh+"Division by zero",rt={},ii=void 0,hie=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function e6(){function e(t){var n=this;if(!(n instanceof e))return t===ii?e6():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(jc+"value");t=t===0&&1/t<0?"-0":String(t)}pie(n,t)}n.constructor=e}return e.prototype=rt,e.DP=oie,e.RM=cie,e.NE=lie,e.PE=uie,e.strict=fie,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function pie(e,t){var n,r,s;if(!hie.test(t))throw Error(jc+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=s;)e.c[n++]=+t.charAt(r++)}return e}function zc(e,t,n,r){var s=e.c;if(n===ii&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(die);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==ii))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==ii||s[t-1]&1))||n===3&&(r||!!s[0]),s.length=t,r){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function Hc(e,t,n){var r=e.e,s=e.c.join(""),i=s.length;if(t)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}rt.abs=function(){var e=new this.constructor(this);return e.s=1,e};rt.cmp=function(e){var t,n=this,r=n.c,s=(e=new n.constructor(e)).c,i=n.s,a=e.s,o=n.e,c=e.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-a:0;if(i!=a)return i;if(t=i<0,o!=c)return o>c^t?1:-1;for(a=(o=r.length)<(c=s.length)?o:c,i=-1;++i<a;)if(r[i]!=s[i])return r[i]>s[i]^t?1:-1;return o==c?0:o>c^t?1:-1};rt.div=function(e){var t=this,n=t.constructor,r=t.c,s=(e=new n(e)).c,i=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>Cc)throw Error(Nm);if(!s[0])throw Error(J5);if(!r[0])return e.s=i,e.c=[e.e=0],e;var o,c,l,u,f,d=s.slice(),h=o=s.length,p=r.length,g=r.slice(0,o),b=g.length,y=e,m=y.c=[],w=0,v=a+(y.e=t.e-e.e)+1;for(y.s=i,i=v<0?0:v,d.unshift(0);b++<o;)g.push(0);do{for(l=0;l<10;l++){if(o!=(b=g.length))u=o>b?1:-1;else for(f=-1,u=0;++f<o;)if(s[f]!=g[f]){u=s[f]>g[f]?1:-1;break}if(u<0){for(c=b==o?s:d;b;){if(g[--b]<c[b]){for(f=b;f&&!g[--f];)g[f]=9;--g[f],g[b]+=10}g[b]-=c[b]}for(;!g[0];)g.shift()}else break}m[w++]=u?l:++l,g[0]&&u?g[b]=r[h]||0:g=[r[h]]}while((h++<p||g[0]!==ii)&&i--);return!m[0]&&w!=1&&(m.shift(),y.e--,v--),w>v&&zc(y,v,n.RM,g[0]!==ii),y};rt.eq=function(e){return this.cmp(e)===0};rt.gt=function(e){return this.cmp(e)>0};rt.gte=function(e){return this.cmp(e)>-1};rt.lt=function(e){return this.cmp(e)<0};rt.lte=function(e){return this.cmp(e)<1};rt.minus=rt.sub=function(e){var t,n,r,s,i=this,a=i.constructor,o=i.s,c=(e=new a(e)).s;if(o!=c)return e.s=-c,i.plus(e);var l=i.c.slice(),u=i.e,f=e.c,d=e.e;if(!l[0]||!f[0])return f[0]?e.s=-c:l[0]?e=new a(i):e.s=1,e;if(o=u-d){for((s=o<0)?(o=-o,r=l):(d=u,r=f),r.reverse(),c=o;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<f.length)?l:f).length,o=c=0;c<n;c++)if(l[c]!=f[c]){s=l[c]<f[c];break}if(s&&(r=l,l=f,f=r,e.s=-e.s),(c=(n=f.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>o;){if(l[--n]<f[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=f[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(e.s=1,l=[d=0]),e.c=l,e.e=d,e};rt.mod=function(e){var t,n=this,r=n.constructor,s=n.s,i=(e=new r(e)).s;if(!e.c[0])throw Error(J5);return n.s=e.s=1,t=e.cmp(n)==1,n.s=s,e.s=i,t?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=s,r.RM=i,this.minus(n.times(e)))};rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};rt.plus=rt.add=function(e){var t,n,r,s=this,i=s.constructor;if(e=new i(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var a=s.e,o=s.c,c=e.e,l=e.c;if(!o[0]||!l[0])return l[0]||(o[0]?e=new i(s):e.s=s.s),e;if(o=o.slice(),t=a-c){for(t>0?(c=a,r=l):(t=-t,r=o),r.reverse();t--;)r.push(0);r.reverse()}for(o.length-l.length<0&&(r=l,l=o,o=r),t=l.length,n=0;t;o[t]%=10)n=(o[--t]=o[t]+l[t]+n)/10|0;for(n&&(o.unshift(n),++c),t=o.length;o[--t]===0;)o.pop();return e.c=o,e.e=c,e};rt.pow=function(e){var t=this,n=new t.constructor("1"),r=n,s=e<0;if(e!==~~e||e<-U_||e>U_)throw Error(jc+"exponent");for(s&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return s?n.div(r):r};rt.prec=function(e,t){if(e!==~~e||e<1||e>Cc)throw Error(jc+"precision");return zc(new this.constructor(this),e,t)};rt.round=function(e,t){if(e===ii)e=0;else if(e!==~~e||e<-Cc||e>Cc)throw Error(Nm);return zc(new this.constructor(this),e+this.e+1,t)};rt.sqrt=function(){var e,t,n,r=this,s=r.constructor,i=r.s,a=r.e,o=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Dh+"No square root");i=Math.sqrt(+Hc(r,!0,!0)),i===0||i===1/0?(t=r.c.join(""),t.length+a&1||(t+="0"),i=Math.sqrt(t),a=((a+1)/2|0)-(a<0||a&1),e=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+a)):e=new s(i+""),a=e.e+(s.DP+=4);do n=e,e=o.times(n.plus(r.div(n)));while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return zc(e,(s.DP-=4)+e.e+1,s.RM)};rt.times=rt.mul=function(e){var t,n=this,r=n.constructor,s=n.c,i=(e=new r(e)).c,a=s.length,o=i.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!s[0]||!i[0])return e.c=[e.e=0],e;for(e.e=c+l,a<o&&(t=s,s=i,i=t,l=a,a=o,o=l),t=new Array(l=a+o);l--;)t[l]=0;for(c=o;c--;){for(o=0,l=a+c;l>c;)o=t[l]+i[c]*s[l-c-1]+o,t[l--]=o%10,o=o/10|0;t[l]=o}for(o?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};rt.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==ii){if(e!==~~e||e<0||e>Cc)throw Error(Nm);for(n=zc(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return Hc(n,!0,!!r)};rt.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==ii){if(e!==~~e||e<0||e>Cc)throw Error(Nm);for(n=zc(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return Hc(n,!1,!!r)};rt[Symbol.for("nodejs.util.inspect.custom")]=rt.toJSON=rt.toString=function(){var e=this,t=e.constructor;return Hc(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};rt.toNumber=function(){var e=+Hc(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Dh+"Imprecise conversion");return e};rt.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==ii){if(e!==~~e||e<1||e>Cc)throw Error(jc+"precision");for(n=zc(new r(n),e,t);n.c.length<e;)n.c.push(0)}return Hc(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};rt.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Dh+"valueOf disallowed");return Hc(e,e.e<=t.NE||e.e>=t.PE,!0)};var If=e6();const gie={bigNumber(e){return e?new If(e):new If(0)},multiply(e,t){if(e===void 0||t===void 0)return new If(0);const n=new If(e),r=new If(t);return n.times(r)},formatNumberToLocalString(e,t=2){return e===void 0?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})},parseLocalStringToNumber(e){return e===void 0?0:parseFloat(e.replace(/,/gu,""))}},mie=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],yie=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],wie=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],bie={getERC20Abi:e=>q.USDT_CONTRACT_ADDRESSES.includes(e)?wie:mie,getSwapAbi:()=>yie},_r={validateCaipAddress(e){var t;if(((t=e.split(":"))==null?void 0:t.length)!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,s]=t;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},he={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function Cw(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const de={setItem(e,t){ql()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(ql())return localStorage.getItem(e)||void 0},removeItem(e){ql()&&localStorage.removeItem(e)},clear(){ql()&&localStorage.clear()}};function ql(){return typeof window<"u"&&typeof localStorage<"u"}function Va(e,t){return t==="light"?{"--w3m-accent":(e==null?void 0:e["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(e==null?void 0:e["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const vie=Symbol(),$_=Object.getPrototypeOf,av=new WeakMap,Eie=e=>e&&(av.has(e)?av.get(e):$_(e)===Object.prototype||$_(e)===Array.prototype),Sie=e=>Eie(e)&&e[vie]||null,M_=(e,t=!0)=>{av.set(e,t)},N0={},$2=e=>typeof e=="object"&&e!==null,Aie=e=>$2(e)&&!Uh.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),t6=(e,t)=>{const n=ov.get(e);if((n==null?void 0:n[0])===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return M_(r,!0),ov.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:a}=Reflect.getOwnPropertyDescriptor(e,s),o={value:i,enumerable:a,configurable:!0};if(Uh.has(i))M_(i,!1);else if(po.has(i)){const[c,l]=po.get(i);o.value=t6(c,l())}Object.defineProperty(r,s,o)}),Object.preventExtensions(r)},Cie=(e,t,n,r)=>({deleteProperty(s,i){const a=Reflect.get(s,i);n(i);const o=Reflect.deleteProperty(s,i);return o&&r(["delete",[i],a]),o},set(s,i,a,o){const c=!e()&&Reflect.has(s,i),l=Reflect.get(s,i,o);if(c&&(R_(l,a)||Xd.has(a)&&R_(l,Xd.get(a))))return!0;n(i),$2(a)&&(a=Sie(a)||a);const u=!po.has(a)&&_ie(a)?bt(a):a;return t(i,u),Reflect.set(s,i,u,o),r(["set",[i],a,l]),!0}}),po=new WeakMap,Uh=new WeakSet,ov=new WeakMap,Hf=[1,1],Xd=new WeakMap;let R_=Object.is,xie=(e,t)=>new Proxy(e,t),_ie=Aie,Nie=t6,Iie=Cie;function bt(e={}){if(!$2(e))throw new Error("object required");const t=Xd.get(e);if(t)return t;let n=Hf[0];const r=new Set,s=(b,y=++Hf[0])=>{n!==y&&(n=y,r.forEach(m=>m(b,y)))};let i=Hf[1];const a=(b=++Hf[1])=>(i!==b&&!r.size&&(i=b,c.forEach(([y])=>{const m=y[1](b);m>n&&(n=m)})),n),o=b=>(y,m)=>{const w=[...y];w[1]=[b,...w[1]],s(w,m)},c=new Map,l=(b,y)=>{const m=!Uh.has(y)&&po.get(y);if(m){if((N0?"production":void 0)!=="production"&&c.has(b))throw new Error("prop listener already exists");if(r.size){const w=m[2](o(b));c.set(b,[m,w])}else c.set(b,[m])}},u=b=>{var y;const m=c.get(b);m&&(c.delete(b),(y=m[1])==null||y.call(m))},f=b=>(r.add(b),r.size===1&&c.forEach(([m,w],v)=>{if((N0?"production":void 0)!=="production"&&w)throw new Error("remove already exists");const _=m[2](o(v));c.set(v,[m,_])}),()=>{r.delete(b),r.size===0&&c.forEach(([m,w],v)=>{w&&(w(),c.set(v,[m]))})});let d=!0;const h=Iie(()=>d,l,u,s),p=xie(e,h);Xd.set(e,p);const g=[e,a,f];return po.set(p,g),Reflect.ownKeys(e).forEach(b=>{const y=Object.getOwnPropertyDescriptor(e,b);"value"in y&&y.writable&&(p[b]=e[b])}),d=!1,p}function Nn(e,t,n){const r=po.get(e);(N0?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],a=r[2];let o=!1;const l=a(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,o&&t(i.splice(0))}))});return o=!0,()=>{o=!1,l()}}function Qd(e){const t=po.get(e);(N0?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return Nie(n,r())}function xc(e){return Uh.add(e),e}function Tie(){return{proxyStateMap:po,refSet:Uh,snapCache:ov,versionHolder:Hf,proxyCache:Xd}}function kn(e,t,n,r){let s=e[t];return Nn(e,()=>{const i=e[t];Object.is(s,i)||n(s=i)})}const{proxyStateMap:Oie,snapCache:Die}=Tie(),Hp=e=>Oie.has(e);function Uie(e){const t=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const l=Die.get(o),u=l==null?void 0:l[1];if(u&&!s.has(u)){const f=new Map(r);s.set(u,f)}},a=l=>s.get(l)||r,o={data:t,index:n,epoch:0,get size(){return Hp(this)||i(),a(this).size},get(l){const f=a(this).get(l);if(f===void 0){this.epoch;return}return this.data[f]},has(l){const u=a(this);return this.epoch,u.has(l)},set(l,u){if(!Hp(this))throw new Error("Cannot perform mutations on a snapshot");const f=r.get(l);return f===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[f]=u,this.epoch++,this},delete(l){if(!Hp(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!Hp(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,a(this).forEach((f,d)=>{l(this.data[f],d,this)})},*entries(){this.epoch;const l=a(this);for(const[u,f]of l)yield[u,this.data[f]]},*keys(){this.epoch;const l=a(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=a(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=bt(o);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}const n6=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],$ie="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Je={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:[q.CHAIN.EVM,q.CHAIN.SOLANA],NAMES_SUPPORTED_CHAIN_NAMESPACES:[q.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[q.CHAIN.EVM,q.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},G={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=G.getActiveNamespace(),t=G.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{de.setItem(he.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=de.getItem(he.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{de.removeItem(he.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{de.setItem(he.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{de.setItem(he.ACTIVE_CAIP_NETWORK_ID,e),G.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return de.getItem(he.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{de.removeItem(he.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=Cw(e);de.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=G.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),de.setItem(he.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=de.getItem(he.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const n=Cw(e);de.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return de.getItem(he.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=Cw(e);return de.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{de.setItem(he.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return de.getItem(he.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{de.removeItem(he.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return de.getItem(he.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const e=de.getItem(he.ACTIVE_CAIP_NETWORK_ID);return(n=e==null?void 0:e.split(":"))==null?void 0:n[1]},setConnectionStatus(e){try{de.setItem(he.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return de.getItem(he.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=de.getItem(he.CONNECTED_NAMESPACES);return e!=null&&e.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));de.setItem(he.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=G.getConnectedNamespaces();t.includes(e)||(t.push(e),G.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=G.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),G.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return de.getItem(he.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{de.setItem(he.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{de.removeItem(he.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=de.getItem(he.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=G.getBalanceCache();de.setItem(he.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=G.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;G.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=G.getBalanceCache();t[e.caipAddress]=e,de.setItem(he.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=de.getItem(he.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=G.getBalanceCache();de.setItem(he.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=G.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),G.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=G.getNativeBalanceCache();t[e.caipAddress]=e,de.setItem(he.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=de.getItem(he.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=G.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;G.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=G.getEnsCache();t[e.address]=e,de.setItem(he.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=G.getEnsCache();de.setItem(he.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=de.getItem(he.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=G.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;G.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=G.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},de.setItem(he.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=G.getIdentityCache();de.setItem(he.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{de.removeItem(he.PORTFOLIO_CACHE),de.removeItem(he.NATIVE_BALANCE_CACHE),de.removeItem(he.ENS_CACHE),de.removeItem(he.IDENTITY_CACHE),de.removeItem(he.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{de.setItem(he.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=de.getItem(he.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=G.getConnections(),r=n[t]??[],s=new Map;for(const a of r)s.set(a.connectorId,{...a});for(const a of e){const o=s.get(a.connectorId),c=a.connectorId===q.CONNECTOR_ID.AUTH;if(o&&!c){const l=new Set(o.accounts.map(f=>f.address.toLowerCase())),u=a.accounts.filter(f=>!l.has(f.address.toLowerCase()));o.accounts.push(...u)}else s.set(a.connectorId,{...a})}const i={...n,[t]:Array.from(s.values())};de.setItem(he.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=de.getItem(he.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=G.getConnections(),s=r[n]??[],i=new Map(s.map(o=>[o.connectorId,o])),a=i.get(e);a&&(a.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase()).length===0?i.delete(e):i.set(e,{...a,accounts:a.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase())})),de.setItem(he.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=de.getItem(he.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=G.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),de.setItem(he.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=G.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(s=>s.toLowerCase()!==e.toLowerCase()),de.setItem(he.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(G.getDisconnectedConnectorIds()[t]??[]).some(s=>s.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=de.getItem(he.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){var n;try{const s=(n=G.getTransactionsCache()[e])==null?void 0:n[t];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;G.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const s=G.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:r}},de.setItem(he.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=G.getTransactionsCache(),r=(n==null?void 0:n[e])||{},{[t]:s,...i}=r;de.setItem(he.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:i}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=de.getItem(he.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=G.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;G.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=G.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},de.setItem(he.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=G.getTokenPriceCache();de.setItem(he.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}}},fe={isMobile(){var e;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((e=window.matchMedia("(pointer:coarse)"))!=null&&e.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e==null?void 0:e.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return fe.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=Je.TEN_SEC_MS:!0},isAllowedRetry(e,t=Je.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var e,t;if(fe.isClient()&&window.self!==window.top)try{const n=(t=(e=window==null?void 0:window.location)==null?void 0:e.ancestorOrigins)==null?void 0:t[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Je.FOUR_MINUTES_MS},getNetworkId(e){return e==null?void 0:e.split(":")[1]},getPlainAddress(e){return e==null?void 0:e.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function s(){e(...r)}n&&clearTimeout(n),n=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(fe.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,s=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const i=encodeURIComponent(t);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(e,t){if(!fe.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?G.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window==null||window.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window==null?void 0:window.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const e=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,t=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,fe.wait(2e3)])},formatBalance(e,t){let n="0.000";if(typeof e=="string"){const r=Number(e);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${t?` ${t}`:""}`},formatBalance2(e,t){var r;let n;if(e==="0")n="0";else if(typeof e=="string"){const s=Number(e);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:t}},getApiUrl(){return q.W3M_API_URL},getBlockchainApiUrl(){return q.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return q.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){var t,n;return typeof e=="string"?e:typeof((n=(t=e==null?void 0:e.issues)==null?void 0:t[0])==null?void 0:n.message)=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,s)=>{n[r]=s}),t.sort((r,s)=>{const i=n[r.id],a=n[s.id];return i!==void 0&&a!==void 0?i-a:i!==void 0?-1:a!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const s=r[t];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(e,t,n){const s=e.length===0?Je.ADAPTER_TYPES.UNIVERSAL:e.map(i=>i.adapterType).join(",");return`${t}-${s}-${n}`},createAccount(e,t,n,r,s){return{namespace:e,address:t,type:n,publicKey:r,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in q.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const s="provider_authorization_url=",i=e.substring(e.indexOf(s)+s.length),a=this.injectIntoUrl(decodeURIComponent(i),n,t);return e.replace(i,encodeURIComponent(a))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",r),i=t.length,a=s!==-1?s:e.length,o=e.substring(0,r+i),c=e.substring(r+i,a),l=e.substring(s),u=c+n;return o+u+l}};async function Tf(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class $h{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await Tf(i,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const s=this.createUrl(r);return(await Tf(s,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Tf(i,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Tf(i,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Tf(i,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Mie={getFeatureValue(e,t){const n=t==null?void 0:t[e];return n===void 0?Je.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(fe.isTelegram()){if(fe.isIos())return e.filter(t=>t!=="google");if(fe.isMac())return e.filter(t=>t!=="x");if(fe.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e}},ce=bt({features:Je.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Je.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),F={state:ce,subscribeKey(e,t){return kn(ce,e,t)},setOptions(e){Object.assign(ce,e)},setRemoteFeatures(e){var n,r;if(!e)return;const t={...ce.remoteFeatures,...e};ce.remoteFeatures=t,(n=ce.remoteFeatures)!=null&&n.socials&&(ce.remoteFeatures.socials=Mie.filterSocialsByPlatform(ce.remoteFeatures.socials)),(r=ce.features)!=null&&r.pay&&(ce.remoteFeatures.email=!1,ce.remoteFeatures.socials=!1)},setFeatures(e){var n;if(!e)return;ce.features||(ce.features=Je.DEFAULT_FEATURES);const t={...ce.features,...e};ce.features=t,(n=ce.features)!=null&&n.pay&&ce.remoteFeatures&&(ce.remoteFeatures.email=!1,ce.remoteFeatures.socials=!1)},setProjectId(e){ce.projectId=e},setCustomRpcUrls(e){ce.customRpcUrls=e},setAllWallets(e){ce.allWallets=e},setIncludeWalletIds(e){ce.includeWalletIds=e},setExcludeWalletIds(e){ce.excludeWalletIds=e},setFeaturedWalletIds(e){ce.featuredWalletIds=e},setTokens(e){ce.tokens=e},setTermsConditionsUrl(e){ce.termsConditionsUrl=e},setPrivacyPolicyUrl(e){ce.privacyPolicyUrl=e},setCustomWallets(e){ce.customWallets=e},setIsSiweEnabled(e){ce.isSiweEnabled=e},setIsUniversalProvider(e){ce.isUniversalProvider=e},setSdkVersion(e){ce.sdkVersion=e},setMetadata(e){ce.metadata=e},setDisableAppend(e){ce.disableAppend=e},setEIP6963Enabled(e){ce.enableEIP6963=e},setDebug(e){ce.debug=e},setEnableWalletConnect(e){ce.enableWalletConnect=e},setEnableWalletGuide(e){ce.enableWalletGuide=e},setEnableAuthLogger(e){ce.enableAuthLogger=e},setEnableWallets(e){ce.enableWallets=e},setPreferUniversalLinks(e){ce.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(Je.SIWX_DEFAULTS))e[t]??(e[t]=n);ce.siwx=e},setConnectMethodsOrder(e){ce.features={...ce.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){ce.features={...ce.features,walletFeaturesOrder:e}},setSocialsOrder(e){ce.remoteFeatures={...ce.remoteFeatures,socials:e}},setCollapseWallets(e){ce.features={...ce.features,collapseWallets:e}},setEnableEmbedded(e){ce.enableEmbedded=e},setAllowUnsupportedChain(e){ce.allowUnsupportedChain=e},setManualWCControl(e){ce.manualWCControl=e},setEnableNetworkSwitch(e){ce.enableNetworkSwitch=e},setEnableReconnect(e){ce.enableReconnect=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(ce.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){ce.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return ce.universalProviderConfigOverride},getSnapshot(){return Qd(ce)}},Rie=Object.freeze({enabled:!0,events:[]}),Bie=new $h({baseUrl:fe.getAnalyticsUrl(),clientId:null}),Lie=5,kie=60*1e3,Ea=bt({...Rie}),Pie={state:Ea,subscribeKey(e,t){return kn(Ea,e,t)},async sendError(e,t){if(!Ea.enabled)return;const n=Date.now();if(Ea.events.filter(i=>{const a=new Date(i.properties.timestamp||"").getTime();return n-a<kie}).length>=Lie)return;const s={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Ea.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:a,sdkVersion:o}=F.state;await Bie.post({path:"/e",params:{projectId:i,st:a,sv:o||"html-wagmi-4.2.2"},body:{eventId:fe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Ea.enabled=!0},disable(){Ea.enabled=!1},clearEvents(){Ea.events=[]}};class Nu extends Error{constructor(t,n,r){super(t),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Nu.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,a=i.indexOf(`
`);if(a>-1){const o=i.substring(a+1);this.stack=`${this.name}: ${this.message}
${o}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Nu):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function B_(e,t){const n=e instanceof Nu?e:new Nu(e instanceof Error?e.message:String(e),t,e);throw Pie.sendError(n,n.category),n}function jr(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const s=e[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...a)=>{try{return await s(...a)}catch(o){return B_(o,t)}}:i=(...a)=>{try{return s(...a)}catch(o){return B_(o,t)}},n[r]=i}else n[r]=s}),n}const oc={ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Ks={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},jie={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===Ks.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],a=encodeURIComponent(`${s}://${i}`);window.location.href=`${Ks.PHANTOM.url}/ul/browse/${r}?ref=${a}`}e===Ks.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Ks.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===q.CHAIN.SOLANA&&e===Ks.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Ks.COINBASE.url}/dapp?cb_url=${r}`)}},wr=bt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),zie={state:wr,subscribeNetworkImages(e){return Nn(wr.networkImages,()=>e(wr.networkImages))},subscribeKey(e,t){return kn(wr,e,t)},subscribe(e){return Nn(wr,()=>e(wr))},setWalletImage(e,t){wr.walletImages[e]=t},setNetworkImage(e,t){wr.networkImages[e]=t},setChainImage(e,t){wr.chainImages[e]=t},setConnectorImage(e,t){wr.connectorImages={...wr.connectorImages,[e]:t}},setTokenImage(e,t){wr.tokenImages[e]=t},setCurrencyImage(e,t){wr.currencyImages[e]=t}},Cs=jr(zie),Hie={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},xw=bt({networkImagePromises:{}}),r6={async fetchWalletImage(e){if(e)return await pe._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(xw.networkImagePromises[e]||(xw.networkImagePromises[e]=pe._fetchNetworkImage(e)),await xw.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return Cs.state.walletImages[e]},getWalletImage(e){if(e!=null&&e.image_url)return e==null?void 0:e.image_url;if(e!=null&&e.image_id)return Cs.state.walletImages[e.image_id]},getNetworkImage(e){var t,n,r;if((t=e==null?void 0:e.assets)!=null&&t.imageUrl)return(n=e==null?void 0:e.assets)==null?void 0:n.imageUrl;if((r=e==null?void 0:e.assets)!=null&&r.imageId)return Cs.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return Cs.state.networkImages[e]},getConnectorImage(e){var t;if(e!=null&&e.imageUrl)return e.imageUrl;if((t=e==null?void 0:e.info)!=null&&t.icon)return e.info.icon;if(e!=null&&e.imageId)return Cs.state.connectorImages[e.imageId]},getChainImage(e){return Cs.state.networkImages[Hie[e]]}},Sa=bt({message:"",variant:"info",open:!1}),Fie={state:Sa,subscribeKey(e,t){return kn(Sa,e,t)},open(e,t){const{debug:n}=F.state,{code:r,displayMessage:s,debugMessage:i}=e;s&&n&&(Sa.message=s,Sa.variant=t,Sa.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},close(){Sa.open=!1,Sa.message="",Sa.variant="info"}},Ln=jr(Fie),qie=fe.getAnalyticsUrl(),Vie=new $h({baseUrl:qie,clientId:null}),Kie=["MODAL_CREATED"],_i=bt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ct={state:_i,subscribe(e){return Nn(_i,()=>e(_i))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=F.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{const t=ue.state.address;if(Kie.includes(e.data.event)||typeof window>"u")return;await Vie.post({path:"/e",params:ct.getSdkProperties(),body:{eventId:fe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t}}}),_i.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===q.HTTP_STATUS_CODES.FORBIDDEN&&!_i.reportedErrors.FORBIDDEN&&(Ln.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${ql()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),_i.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){var t;_i.timestamp=Date.now(),_i.data=e,((t=F.state.features)!=null&&t.analytics||e.event==="INITIALIZE")&&ct._sendAnalyticsEvent(_i)}},Wie=fe.getApiUrl(),Jn=new $h({baseUrl:Wie,clientId:null}),Gie=40,L_=4,Yie=20,Ee=bt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),pe={state:Ee,subscribeKey(e,t){return kn(Ee,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=F.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return F.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${Jn.baseUrl}/getWalletImage/${e}`,n=await Jn.getBlob({path:t,params:pe._getSdkProperties()});Cs.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${Jn.baseUrl}/public/getAssetImage/${e}`,n=await Jn.getBlob({path:t,params:pe._getSdkProperties()});Cs.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${Jn.baseUrl}/public/getAssetImage/${e}`,n=await Jn.getBlob({path:t,params:pe._getSdkProperties()});Cs.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${Jn.baseUrl}/public/getCurrencyImage/${e}`,n=await Jn.getBlob({path:t,params:pe._getSdkProperties()});Cs.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${Jn.baseUrl}/public/getTokenImage/${e}`,n=await Jn.getBlob({path:t,params:pe._getSdkProperties()});Cs.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){return fe.isMobile()?e==null?void 0:e.filter(n=>n.mobile_link||n.id===Ks.COINBASE.id?!0:N.state.activeChain==="solana"&&(n.id===Ks.SOLFLARE.id||n.id===Ks.PHANTOM.id)):e},async fetchProjectConfig(){return(await Jn.get({path:"/appkit/v1/config",params:pe._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await Jn.get({path:"/projects/v1/origins",params:pe._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===q.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=q.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const e=N.getAllRequestedCaipNetworks(),t=e==null?void 0:e.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!r6.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>pe._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=J.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>pe._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>pe._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>pe._fetchTokenImage(t)))},async fetchWallets(e){var i;const t=e.exclude??[];pe._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(Ks).map(a=>a.id));const r=await Jn.get({path:"/getWallets",params:{...pe._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:(i=e.include)==null?void 0:i.join(","),exclude:t.join(",")}});return{data:pe._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:e}=F.state;if(e!=null&&e.length){const t={...pe._getSdkProperties(),page:1,entries:(e==null?void 0:e.length)??L_,include:e},{data:n}=await pe.fetchWallets(t),r=[...n].sort((i,a)=>e.indexOf(i.id)-e.indexOf(a.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>pe._fetchWalletImage(i))),Ee.featured=r,Ee.allFeatured=r}},async fetchRecommendedWallets(){try{Ee.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=F.state,r=[...t??[],...n??[]].filter(Boolean),s=N.getRequestedCaipNetworkIds().join(","),i={page:1,entries:L_,include:e,exclude:r,chains:s},{data:a,count:o}=await pe.fetchWallets(i),c=G.getRecentWallets(),l=a.map(f=>f.image_id).filter(Boolean),u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(f=>pe._fetchWalletImage(f))),Ee.recommended=a,Ee.allRecommended=a,Ee.count=o??0}catch{}finally{Ee.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=F.state,s=N.getRequestedCaipNetworkIds().join(","),i=[...Ee.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),a={page:e,entries:Gie,include:t,exclude:i,chains:s},{data:o,count:c}=await pe.fetchWallets(a),l=o.slice(0,Yie).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>pe._fetchWalletImage(u))),Ee.wallets=fe.uniqueBy([...Ee.wallets,...pe._filterOutExtensions(o)],"id").filter(u=>{var f;return(f=u.chains)==null?void 0:f.some(d=>s.includes(d))}),Ee.count=c>Ee.count?c:Ee.count,Ee.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await pe.fetchWallets(t);n&&n.forEach(r=>{Ee.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=F.state,s=N.getRequestedCaipNetworkIds().join(",");Ee.search=[];const i={page:1,entries:100,search:e==null?void 0:e.trim(),badge_type:t,include:n,exclude:r,chains:s},{data:a}=await pe.fetchWallets(i);ct.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const o=a.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...o.map(c=>pe._fetchWalletImage(c)),fe.wait(300)]),Ee.search=pe._filterOutExtensions(a)},initPromise(e,t){const n=Ee.promises[e];return n||(Ee.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[e&&pe.initPromise("connectorImages",pe.fetchConnectorImages),t&&pe.initPromise("featuredWallets",pe.fetchFeaturedWallets),n&&pe.initPromise("recommendedWallets",pe.fetchRecommendedWallets),r&&pe.initPromise("networkImages",pe.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var e;(e=F.state.features)!=null&&e.analytics&&pe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await Jn.get({path:"/getAnalyticsConfig",params:pe._getSdkProperties()});F.setFeatures({analytics:e})}catch{F.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!(e!=null&&e.length)){Ee.featured=Ee.allFeatured,Ee.recommended=Ee.allRecommended;return}const t=N.getRequestedCaipNetworkIds().join(",");Ee.featured=Ee.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))}),Ee.recommended=Ee.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))}),Ee.filteredWallets=Ee.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))})},clearFilterByNamespaces(){Ee.filteredWallets=[]},setFilterByNamespace(e){if(!e){Ee.featured=Ee.allFeatured,Ee.recommended=Ee.allRecommended;return}const t=N.getRequestedCaipNetworkIds().join(",");Ee.featured=Ee.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))}),Ee.recommended=Ee.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))}),Ee.filteredWallets=Ee.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))})}},it=bt({view:"Connect",history:["Connect"],transactionStack:[]}),Zie={state:it,subscribeKey(e,t){return kn(it,e,t)},pushTransactionStack(e){it.transactionStack.push(e)},popTransactionStack(e){const t=it.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:s}=t;switch(e){case"success":n==null||n();break;case"error":r==null||r(),ye.goBack();break;case"cancel":s==null||s(),ye.goBack();break}},push(e,t){e!==it.view&&(it.view=e,it.history.push(e),it.data=t)},reset(e,t){it.view=e,it.history=[e],it.data=t},replace(e,t){it.history.at(-1)===e||(it.view=e,it.history[it.history.length-1]=e,it.data=t)},goBack(){var r;const e=N.state.activeCaipAddress,t=ye.state.view==="ConnectingFarcaster",n=!e&&t;if(it.history.length>1){it.history.pop();const[s]=it.history.slice(-1);s&&(e&&s==="Connect"?it.view="Account":it.view=s)}else ke.close();(r=it.data)!=null&&r.wallet&&(it.data.wallet=void 0),setTimeout(()=>{var s,i,a;if(n){ue.setFarcasterUrl(void 0,N.state.activeChain);const o=J.getAuthConnector();(s=o==null?void 0:o.provider)==null||s.reload();const c=Qd(F.state);(a=(i=o==null?void 0:o.provider)==null?void 0:i.syncDappData)==null||a.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(e){if(it.history.length>1){it.history=it.history.slice(0,e+1);const[t]=it.history.slice(-1);t&&(it.view=t)}},goBackOrCloseModal(){ye.state.history.length>1?ye.goBack():ke.close()}},ye=jr(Zie),Ni=bt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),cv={state:Ni,subscribe(e){return Nn(Ni,()=>e(Ni))},setThemeMode(e){Ni.themeMode=e;try{const t=J.getAuthConnector();if(t){const n=cv.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:Va(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Ni.themeVariables={...Ni.themeVariables,...e};try{const t=J.getAuthConnector();if(t){const n=cv.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:Va(Ni.themeVariables,Ni.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Qd(Ni)}},Er=jr(cv),s6=Object.fromEntries(Q5.map(e=>[e,void 0])),Xie=Object.fromEntries(Q5.map(e=>[e,!0])),qe=bt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:s6,filterByNamespaceMap:Xie}),Qie={state:qe,subscribe(e){return Nn(qe,()=>{e(qe)})},subscribeKey(e,t){return kn(qe,e,t)},initialize(e){e.forEach(t=>{const n=G.getConnectedConnectorId(t);n&&J.setConnectorId(n,t)})},setActiveConnector(e){e&&(qe.activeConnector=xc(e))},setConnectors(e){e.filter(s=>!qe.allConnectors.some(i=>i.id===s.id&&J.getConnectorName(i.name)===J.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&qe.allConnectors.push(xc(s))});const n=J.getEnabledNamespaces(),r=J.getEnabledConnectors(n);qe.connectors=J.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(qe.filterByNamespaceMap).forEach(t=>{qe.filterByNamespaceMap[t]=!1}),e.forEach(t=>{qe.filterByNamespaceMap[t]=!0}),J.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){qe.filterByNamespaceMap[e]=t,J.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=J.getEnabledNamespaces(),t=J.getEnabledConnectors(e),n=J.areAllNamespacesEnabled();qe.connectors=J.mergeMultiChainConnectors(t),n?pe.clearFilterByNamespaces():pe.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(qe.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return qe.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(qe.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=J.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===q.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,s=J.getConnectorName(r);if(!s)return;const i=t.get(s)||[];i.find(o=>o.chain===n.chain)||i.push(n),t.set(s,i)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){var t,n,r;if(e.id===q.CONNECTOR_ID.AUTH){const s=e,i=Qd(F.state),a=Er.getSnapshot().themeMode,o=Er.getSnapshot().themeVariables;(n=(t=s==null?void 0:s.provider)==null?void 0:t.syncDappData)==null||n.call(t,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:a,themeVariables:o,w3mThemeVariables:Va(o,a)}),J.setConnectors([e])}else J.setConnectors([e])},getAuthConnector(e){var r;const t=e||N.state.activeChain,n=qe.connectors.find(s=>s.id===q.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===t):n},getAnnouncedConnectorRdns(){return qe.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>{var t;return(t=e.info)==null?void 0:t.rdns})},getConnectorById(e){return qe.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){const r=n||N.state.activeChain;return qe.allConnectors.filter(i=>i.chain===r).find(i=>{var a;return i.explorerId===e||((a=i.info)==null?void 0:a.rdns)===t})},syncIfAuthConnector(e){var i,a;if(e.id!=="ID_AUTH")return;const t=e,n=Qd(F.state),r=Er.getSnapshot().themeMode,s=Er.getSnapshot().themeVariables;(a=(i=t==null?void 0:t.provider)==null?void 0:i.syncDappData)==null||a.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Va(s,r)})},getConnectorsByNamespace(e){const t=qe.allConnectors.filter(n=>n.chain===e);return J.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return N.checkIfSmartAccountEnabled()&&oi(e)===oc.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=J.getConnector({id:e.id,rdns:e.rdns});jie.handleMobileDeeplinkRedirect((t==null?void 0:t.explorerId)||e.id,N.state.activeChain),t?ye.push("ConnectingExternal",{connector:t,wallet:e}):ye.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?J.getConnectorsByNamespace(e):J.mergeMultiChainConnectors(qe.allConnectors)},setFilterByNamespace(e){qe.filterByNamespace=e,qe.connectors=J.getConnectors(e),pe.setFilterByNamespace(e)},setConnectorId(e,t){e&&(qe.activeConnectorIds={...qe.activeConnectorIds,[t]:e},G.setConnectedConnectorId(t,e))},removeConnectorId(e){qe.activeConnectorIds={...qe.activeConnectorIds,[e]:void 0},G.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return qe.activeConnectorIds[e]},isConnected(e){return e?!!qe.activeConnectorIds[e]:Object.values(qe.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){qe.activeConnectorIds={...s6}}},J=jr(Qie),Jie=1e3,Of={checkNamespaceConnectorId(e,t){return J.getConnectorId(e)===t},isSocialProvider(e){return Je.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((a,o)=>{if(e&&J.setActiveConnector(t),s==null||s(fe.isMobile()&&e),r){const l=ke.subscribeKey("open",u=>{u||(ye.state.view!==r&&ye.replace(r),l(),o(new Error("Modal closed")))})}const c=N.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&ke.close(),c(),a(_r.parseCaipAddress(l)))})})},connectExternal(e){return new Promise((t,n)=>{const r=N.subscribeKey("activeCaipAddress",s=>{s&&(ke.close(),r(),t(_r.parseCaipAddress(s)))});ee.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let i=ue.state.socialWindow,a=ue.state.socialProvider,o=!1,c=null;const l=t||N.state.activeChain,u=N.subscribeKey("activeCaipAddress",f=>{f&&(n&&ke.close(),u())});return new Promise((f,d)=>{async function h(g){var b,y;if((b=g.data)!=null&&b.resultUri)if(g.origin===q.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const m=J.getAuthConnector(l);if(m&&!o){i&&(i.close(),ue.setSocialWindow(void 0,l),i=ue.state.socialWindow),o=!0;const w=g.data.resultUri;if(a&&ct.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:a}}),a){G.setConnectedSocialProvider(a),await ee.connectExternal({id:m.id,type:m.type,socialUri:w},m.chain);const v=N.state.activeCaipAddress;if(!v){d(new Error("Failed to connect"));return}f(_r.parseCaipAddress(v)),ct.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:a,caipNetworkId:(y=N.getActiveCaipNetwork())==null?void 0:y.caipNetworkId}})}}}catch{a&&ct.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:a}}),d(new Error("Failed to connect"))}}else a&&ct.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:a}})}async function p(){if(e&&(ue.setSocialProvider(e,l),a=ue.state.socialProvider,ct.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:a}})),a==="farcaster"){r==null||r();const g=ke.subscribeKey("open",y=>{!y&&e==="farcaster"&&(d(new Error("Popup closed")),s==null||s(),g())}),b=J.getAuthConnector();if(b&&!ue.state.farcasterUrl)try{const{url:y}=await b.provider.getFarcasterUri();ue.setFarcasterUrl(y,l)}catch{d(new Error("Failed to connect to farcaster"))}}else{const g=J.getAuthConnector();c=fe.returnOpenHref(`${q.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&a){const{uri:b}=await g.provider.getSocialRedirectUri({provider:a});if(c&&b){ue.setSocialWindow(c,l),i=ue.state.socialWindow,c.location.href=b;const y=setInterval(()=>{i!=null&&i.closed&&!o&&(d(new Error("Popup closed")),clearInterval(y))},1e3);window.addEventListener("message",h,!1)}else c==null||c.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),c==null||c.close()}}}p()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),t){const o=ke.subscribeKey("open",c=>{c||(ye.state.view!==t&&ye.replace(t),o(),i(new Error("Modal closed")))})}const a=N.subscribeKey("activeCaipAddress",o=>{o&&(r==null||r(),e&&ke.close(),a(),s(_r.parseCaipAddress(o)))})})},async updateEmail(){const e=G.getConnectedConnectorId(N.state.activeChain),t=J.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==q.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await ke.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const o=t.provider.getEmail()??"";o!==n&&(ke.close(),clearInterval(i),a(),r({email:o}))},Jie),a=ke.subscribeKey("open",o=>{o||(ye.state.view!=="Connect"&&ye.push("Connect"),clearInterval(i),a(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return N.checkIfSmartAccountEnabled()&&oi(e)===oc.ACCOUNT_TYPES.EOA}};function i6(){var r,s;const e=((r=N.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",t=((s=N.state.activeCaipNetwork)==null?void 0:s.id)||1,n=Je.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function oi(e){var n;return(n=N.getAccountData(e))==null?void 0:n.preferredAccountType}function k_(e){return N.state.activeCaipNetwork}const I0={getConnectionStatus(e,t){const n=J.state.activeConnectorIds[t],r=ee.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(a=>a.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const i=r.accounts.filter(a=>!n.some(c=>c.toLowerCase()===a.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){var o;const t=!!((o=F.state.remoteFeatures)!=null&&o.multiWallet),n=J.state.activeConnectorIds[e],r=ee.getConnections(e),i=(ee.state.recentConnections.get(e)??[]).filter(c=>J.getConnectorById(c.connectorId)),a=I0.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],i);return t?{connections:r,recentConnections:a}:{connections:r.filter(c=>c.connectorId.toLowerCase()===(n==null?void 0:n.toLowerCase())),recentConnections:[]}}},Po=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Yt=bt({...Po}),eae={state:Yt,subscribeKey(e,t){return kn(Yt,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=fe.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){Yt.message=Po.message,Yt.variant=Po.variant,Yt.svg=Po.svg,Yt.open=Po.open,Yt.autoClose=Po.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=Po.autoClose}){Yt.open?(Yt.open=!1,setTimeout(()=>{Yt.message=e,Yt.variant=n,Yt.svg=t,Yt.open=!0,Yt.autoClose=r},150)):(Yt.message=e,Yt.variant=n,Yt.svg=t,Yt.open=!0,Yt.autoClose=r)}},Qs=eae,_t=bt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),tae={state:_t,subscribe(e){return Nn(_t,()=>e(_t))},setLastNetworkInView(e){_t.lastNetworkInView=e},async fetchTransactions(e){var t;if(!e)throw new Error("Transactions can't be fetched without an accountAddress");_t.loading=!0;try{const n=await ge.fetchTransactions({account:e,cursor:_t.next,chainId:(t=N.state.activeCaipNetwork)==null?void 0:t.caipNetworkId}),r=bg.filterSpamTransactions(n.data),s=bg.filterByConnectedChain(r),i=[..._t.transactions,...s];_t.loading=!1,_t.transactions=i,_t.transactionsByYear=bg.groupTransactionsByYearAndMonth(_t.transactionsByYear,s),_t.empty=i.length===0,_t.next=n.next?n.next:void 0}catch{const r=N.state.activeChain;ct.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:F.state.projectId,cursor:_t.next,isSmartAccount:oi(r)===oc.ACCOUNT_TYPES.SMART_ACCOUNT}}),Qs.showError("Failed to fetch transactions"),_t.loading=!1,_t.empty=!0,_t.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),a=n[s]??{},c=(a[i]??[]).filter(l=>l.id!==r.id);n[s]={...a,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(e){var r;const t=(r=N.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return e.filter(s=>s.metadata.chain===t)},clearCursor(){_t.next=void 0},resetTransactions(){_t.transactions=[],_t.transactionsByYear={},_t.lastNetworkInView=void 0,_t.loading=!1,_t.empty=!1,_t.next=void 0}},bg=jr(tae,"API_ERROR"),Le=bt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Do;const nae={state:Le,subscribe(e){return Nn(Le,()=>e(Le))},subscribeKey(e,t){return kn(Le,e,t)},_getClient(){return Le._client},setClient(e){Le._client=xc(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);ee.syncStorageConnections(t)},syncStorageConnections(e){const t=G.getConnections(),n=e??Array.from(N.state.chains.keys());for(const r of n){const s=t[r]??[],i=new Map(Le.recentConnections);i.set(r,s),Le.recentConnections=i}},getConnections(e){return e?Le.connections.get(e)??[]:[]},hasAnyConnection(e){const t=ee.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect(){var e,t,n,r;if(fe.isTelegram()||fe.isSafari()&&fe.isIos()){if(Do){await Do,Do=void 0;return}if(!fe.isPairingExpired(Le==null?void 0:Le.wcPairingExpiry)){const s=Le.wcUri;Le.wcUri=s;return}Do=(t=(e=ee._getClient())==null?void 0:e.connectWalletConnect)==null?void 0:t.call(e).catch(()=>{}),ee.state.status="connecting",await Do,Do=void 0,Le.wcPairingExpiry=void 0,ee.state.status="connected"}else await((r=(n=ee._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(e,t,n=!0){var s,i;const r=await((i=(s=ee._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,e));return n&&N.setActiveNamespace(t),r},async reconnectExternal(e){var n,r;await((r=(n=ee._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,e));const t=e.chain||N.state.activeChain;t&&J.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){var r;if(!t)return;ke.setLoading(!0,N.state.activeChain);const n=J.getAuthConnector();n&&(ue.setPreferredAccountType(e,t),await n.provider.setPreferredAccount(e),G.setPreferredAccountTypes(Object.entries(N.state.chains).reduce((s,[i,a])=>{const o=i,c=oi(o);return c!==void 0&&(s[o]=c),s},{})),await ee.reconnectExternal(n),ke.setLoading(!1,N.state.activeChain),ct.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:((r=N.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(e){var t;return(t=ee._getClient())==null?void 0:t.signMessage(e)},parseUnits(e,t){var n;return(n=ee._getClient())==null?void 0:n.parseUnits(e,t)},formatUnits(e,t){var n;return(n=ee._getClient())==null?void 0:n.formatUnits(e,t)},async sendTransaction(e){var t;return(t=ee._getClient())==null?void 0:t.sendTransaction(e)},async getCapabilities(e){var t;return(t=ee._getClient())==null?void 0:t.getCapabilities(e)},async grantPermissions(e){var t;return(t=ee._getClient())==null?void 0:t.grantPermissions(e)},async walletGetAssets(e){var t;return((t=ee._getClient())==null?void 0:t.walletGetAssets(e))??{}},async estimateGas(e){var t;return(t=ee._getClient())==null?void 0:t.estimateGas(e)},async writeContract(e){var t;return(t=ee._getClient())==null?void 0:t.writeContract(e)},async getEnsAddress(e){var t;return(t=ee._getClient())==null?void 0:t.getEnsAddress(e)},async getEnsAvatar(e){var t;return(t=ee._getClient())==null?void 0:t.getEnsAvatar(e)},checkInstalled(e){var t,n;return((n=(t=ee._getClient())==null?void 0:t.checkInstalled)==null?void 0:n.call(t,e))||!1},resetWcConnection(){Le.wcUri=void 0,Le.wcPairingExpiry=void 0,Le.wcLinking=void 0,Le.recentWallet=void 0,Le.status="disconnected",bg.resetTransactions(),G.deleteWalletConnectDeepLink()},resetUri(){Le.wcUri=void 0,Le.wcPairingExpiry=void 0,Do=void 0},finalizeWcConnection(){var n,r,s;const{wcLinking:e,recentWallet:t}=ee.state;e&&G.setWalletConnectDeepLink(e),t&&G.setAppKitRecent(t),ct.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:e?"mobile":"qrcode",name:((r=(n=ye.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown",caipNetworkId:(s=N.getActiveCaipNetwork())==null?void 0:s.caipNetworkId}})},setWcBasic(e){Le.wcBasic=e},setUri(e){Le.wcUri=e,Le.wcPairingExpiry=fe.getPairingExpiry()},setWcLinking(e){Le.wcLinking=e},setWcError(e){Le.wcError=e,Le.buffering=!1},setRecentWallet(e){Le.recentWallet=e},setBuffering(e){Le.buffering=e},setStatus(e){Le.status=e},setIsSwitchingConnection(e){Le.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){var r;try{await((r=ee._getClient())==null?void 0:r.disconnect({id:e,chainNamespace:t,initialDisconnect:n}))}catch(s){throw new Nu("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},setConnections(e,t){const n=new Map(Le.connections);n.set(t,e),Le.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){var s,i;const n=(i=(s=ue.state.user)==null?void 0:s.accounts)==null?void 0:i.find(a=>a.type==="smartAccount"),r=n&&n.address.toLowerCase()===e.toLowerCase()&&Of.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await ee.setPreferredAccountType(r,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=J.getConnectorById(e.connectorId),s=e.connectorId===q.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)s&&n&&await ee.handleAuthAccountSwitch({address:n,namespace:t});else{const i=await ee.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t);return i==null?void 0:i.address}return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){var l,u;const s=J.getConnectorById(e.connectorId),i=(u=(l=e.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),a=e.connectorId===q.CONNECTOR_ID.AUTH,o=e.connectorId===q.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let c;if(a)if(i&&Of.isSocialProvider(i)){const{address:f}=await Of.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){ke.open({view:"ConnectingFarcaster"})},onConnect(){ye.replace("ProfileWallets")}});c=f}else{const{address:f}=await Of.connectEmail({closeModalOnConnect:r,onOpen(){ke.open({view:"EmailLogin"})},onConnect(){ye.replace("ProfileWallets")}});c=f}else if(o){const{address:f}=await Of.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(d){ke.open({view:d?"AllWallets":"ConnectingWalletConnect"})},onConnect(){ye.replace("ProfileWallets")}});c=f}else{const f=await ee.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);f&&(c=f.address)}return a&&n&&await ee.handleAuthAccountSwitch({address:n,namespace:t}),c},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const a=ue.getCaipAddress(n);if(a){const{address:c}=_r.parseCaipAddress(a);i=c}const o=I0.getConnectionStatus(e,n);switch(o){case"connected":case"active":{const c=await ee.handleActiveConnection({connection:e,namespace:n,address:t});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:o==="active"})}break}case"disconnected":{const c=await ee.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${o}`)}}},ee=jr(nae),yl=bt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ki={state:yl,subscribe(e){return Nn(yl,()=>e(yl))},subscribeOpen(e){return kn(yl,"open",e)},set(e){Object.assign(yl,{...yl,...e})}},rae={async getTokenList(){var r;const e=N.state.activeCaipNetwork,t=await ge.fetchSwapTokens({chainId:e==null?void 0:e.caipNetworkId});return((r=t==null?void 0:t.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var t;const e=N.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const n=(t=await(ee==null?void 0:ee.estimateGas({chainNamespace:"solana"})))==null?void 0:t.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await ge.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await ge.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s!=null&&s.allowance&&n&&r){const i=ee.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(e){const t=await M2.getMyTokensWithBalance(e);return ue.setTokenBalance(t,N.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return(e==null?void 0:e.map(t=>({...t,address:t!=null&&t.address?t.address:i6(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1})))||[]}},et=bt({tokenBalances:[],loading:!1}),sae={state:et,subscribe(e){return Nn(et,()=>e(et))},subscribeKey(e,t){return kn(et,e,t)},setToken(e){e&&(et.token=xc(e))},setTokenAmount(e){et.sendTokenAmount=e},setReceiverAddress(e){et.receiverAddress=e},setReceiverProfileImageUrl(e){et.receiverProfileImageUrl=e},setReceiverProfileName(e){et.receiverProfileName=e},setNetworkBalanceInUsd(e){et.networkBalanceInUSD=e},setLoading(e){et.loading=e},async sendToken(){var e;try{switch(We.setLoading(!0),(e=N.state.activeCaipNetwork)==null?void 0:e.chainNamespace){case"eip155":await We.sendEvmToken();return;case"solana":await We.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{We.setLoading(!1)}},async sendEvmToken(){var n,r,s;const e=N.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=oi(e);if(!We.state.sendTokenAmount||!We.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!We.state.token)throw new Error("A token is required");(n=We.state.token)!=null&&n.address?(ct.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===oc.ACCOUNT_TYPES.SMART_ACCOUNT,token:We.state.token.address,amount:We.state.sendTokenAmount,network:((r=N.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}),await We.sendERC20Token({receiverAddress:We.state.receiverAddress,tokenAddress:We.state.token.address,sendTokenAmount:We.state.sendTokenAmount,decimals:We.state.token.quantity.decimals})):(ct.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===oc.ACCOUNT_TYPES.SMART_ACCOUNT,token:We.state.token.symbol||"",amount:We.state.sendTokenAmount,network:((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await We.sendNativeToken({receiverAddress:We.state.receiverAddress,sendTokenAmount:We.state.sendTokenAmount,decimals:We.state.token.quantity.decimals}))},async fetchTokenBalance(e){var i,a;et.loading=!0;const t=(i=N.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(a=N.state.activeCaipNetwork)==null?void 0:a.chainNamespace,r=N.state.activeCaipAddress,s=r?fe.getPlainAddress(r):void 0;if(et.lastRetry&&!fe.isAllowedRetry(et.lastRetry,30*Je.ONE_SEC_MS))return et.loading=!1,[];try{if(s&&t&&n){const o=await M2.getMyTokensWithBalance();return et.tokenBalances=o,et.lastRetry=void 0,o}}catch(o){et.lastRetry=Date.now(),e==null||e(o),Qs.showError("Token Balance Unavailable")}finally{et.loading=!1}return[]},fetchNetworkBalance(){if(et.tokenBalances.length===0)return;const e=rae.mapBalancesToSwapTokens(et.tokenBalances);if(!e)return;const t=e.find(n=>n.address===i6());t&&(et.networkBalanceInUSD=t?gie.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){var i,a,o;ye.pushTransactionStack({});const t=e.receiverAddress,n=ue.state.address,r=ee.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await ee.sendTransaction({chainNamespace:q.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)}),ct.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:oi("eip155")===oc.ACCOUNT_TYPES.SMART_ACCOUNT,token:((i=We.state.token)==null?void 0:i.symbol)||"",amount:e.sendTokenAmount,network:((a=N.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(o=ee._getClient())==null||o.updateBalance("eip155"),We.resetSend()},async sendERC20Token(e){ye.pushTransactionStack({onSuccess(){ye.replace("Account")}});const t=ee.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(ue.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const n=fe.getPlainAddress(e.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await ee.writeContract({fromAddress:ue.state.address,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:bie.getERC20Abi(n),chainNamespace:q.CHAIN.EVM}),We.resetSend()}},async sendSolanaToken(){var e;if(!We.state.sendTokenAmount||!We.state.receiverAddress)throw new Error("An amount and receiver address are required");ye.pushTransactionStack({onSuccess(){ye.replace("Account")}}),await ee.sendTransaction({chainNamespace:"solana",to:We.state.receiverAddress,value:We.state.sendTokenAmount}),(e=ee._getClient())==null||e.updateBalance("solana"),We.resetSend()},resetSend(){et.token=void 0,et.sendTokenAmount=void 0,et.receiverAddress=void 0,et.receiverProfileImageUrl=void 0,et.receiverProfileName=void 0,et.loading=!1,et.tokenBalances=[]}},We=jr(sae),_w={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Fp={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ne=bt({chains:Uie(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),iae={state:ne,subscribe(e){return Nn(ne,()=>{e(ne)})},subscribeKey(e,t){return kn(ne,e,t)},subscribeChainProp(e,t,n){let r;return Nn(ne.chains,()=>{var i;const s=n||ne.activeChain;if(s){const a=(i=ne.chains.get(s))==null?void 0:i[e];r!==a&&(r=a,t(a))}})},initialize(e,t,n){const{chainId:r,namespace:s}=G.getActiveNetworkProps(),i=t==null?void 0:t.find(u=>u.id.toString()===(r==null?void 0:r.toString())),o=e.find(u=>(u==null?void 0:u.namespace)===s)||(e==null?void 0:e[0]),c=e.map(u=>u.namespace).filter(u=>u!==void 0),l=F.state.enableEmbedded?new Set([...c]):new Set([...(t==null?void 0:t.map(u=>u.chainNamespace))??[]]);((e==null?void 0:e.length)===0||!o)&&(ne.noAdapters=!0),ne.noAdapters||(ne.activeChain=o==null?void 0:o.namespace,ne.activeCaipNetwork=i,N.setChainNetworkData(o==null?void 0:o.namespace,{caipNetwork:i}),ne.activeChain&&ki.set({activeChain:o==null?void 0:o.namespace})),l.forEach(u=>{const f=t==null?void 0:t.filter(p=>p.chainNamespace===u),d=G.getPreferredAccountTypes()||{},h={...F.state.defaultAccountTypes,...d};N.state.chains.set(u,{namespace:u,networkState:bt({...Fp,caipNetwork:f==null?void 0:f[0]}),accountState:bt({..._w,preferredAccountType:h[u]}),caipNetworks:f??[],...n}),N.setRequestedCaipNetworks(f??[],u)})},removeAdapter(e){var t,n;if(ne.activeChain===e){const r=Array.from(ne.chains.entries()).find(([s])=>s!==e);if(r){const s=(n=(t=r[1])==null?void 0:t.caipNetworks)==null?void 0:n[0];s&&N.setActiveCaipNetwork(s)}}ne.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:n},r){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");ne.chains.set(e.namespace,{namespace:e.namespace,networkState:{...Fp,caipNetwork:r[0]},accountState:_w,caipNetworks:r,connectionControllerClient:n,networkControllerClient:t}),N.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===e.namespace))??[],e.namespace)},addNetwork(e){var n;const t=ne.chains.get(e.chainNamespace);if(t){const r=[...t.caipNetworks||[]];(n=t.caipNetworks)!=null&&n.find(s=>s.id===e.id)||r.push(e),ne.chains.set(e.chainNamespace,{...t,caipNetworks:r}),N.setRequestedCaipNetworks(r,e.chainNamespace),J.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){var r,s,i;const n=ne.chains.get(e);if(n){const a=((r=ne.activeCaipNetwork)==null?void 0:r.id)===t,o=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==t))||[]];a&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&N.setActiveCaipNetwork(n.caipNetworks[0]),ne.chains.set(e,{...n,caipNetworks:o}),N.setRequestedCaipNetworks(o||[],e),o.length===0&&J.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=ne.chains.get(e);n&&(n.networkState={...n.networkState||Fp,...t},ne.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=ne.chains.get(e);if(r){const s={...r.accountState||_w,...t};ne.chains.set(e,{...r,accountState:s}),(ne.chains.size===1||ne.activeChain===e)&&(t.caipAddress&&(ne.activeCaipAddress=t.caipAddress),ue.replaceState(s))}},setChainNetworkData(e,t){if(!e)return;const n=ne.chains.get(e);if(n){const r={...n.networkState||Fp,...t};ne.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){N.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){var r,s;ne.activeChain=e;const t=e?ne.chains.get(e):void 0,n=(r=t==null?void 0:t.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&e&&(ne.activeCaipAddress=(s=t==null?void 0:t.accountState)==null?void 0:s.caipAddress,ne.activeCaipNetwork=n,N.setChainNetworkData(e,{caipNetwork:n}),G.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),ki.set({activeChain:e,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(e){var r,s,i;if(!e)return;ne.activeChain!==e.chainNamespace&&N.setIsSwitchingNamespace(!0);const t=ne.chains.get(e.chainNamespace);ne.activeChain=e.chainNamespace,ne.activeCaipNetwork=e,N.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),(r=t==null?void 0:t.accountState)!=null&&r.address?ne.activeCaipAddress=`${e.chainNamespace}:${e.id}:${(s=t==null?void 0:t.accountState)==null?void 0:s.address}`:ne.activeCaipAddress=void 0,N.setAccountProp("caipAddress",ne.activeCaipAddress,e.chainNamespace),t&&ue.replaceState(t.accountState),We.resetSend(),ki.set({activeChain:ne.activeChain,selectedNetworkId:(i=ne.activeCaipNetwork)==null?void 0:i.caipNetworkId}),G.setActiveCaipNetworkId(e.caipNetworkId),!N.checkIfSupportedNetwork(e.chainNamespace)&&F.state.enableNetworkSwitch&&!F.state.allowUnsupportedChain&&!ee.state.wcBasic&&N.showUnsupportedChainUI()},addCaipNetwork(e){var n;if(!e)return;const t=ne.chains.get(e.chainNamespace);t&&((n=t==null?void 0:t.caipNetworks)==null||n.push(e))},async switchActiveNamespace(e){var s;if(!e)return;const t=e!==N.state.activeChain,n=(s=N.getNetworkData(e))==null?void 0:s.caipNetwork,r=N.getCaipNetworkByNamespace(e,n==null?void 0:n.id);t&&r&&await N.switchActiveNetwork(r)},async switchActiveNetwork(e){var i;const t=N.state.activeChain;if(!t)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=N.state.chains.get(t),r=!((i=n==null?void 0:n.caipNetworks)!=null&&i.some(a=>{var o;return a.id===((o=ne.activeCaipNetwork)==null?void 0:o.id)})),s=N.getNetworkControllerClient(e.chainNamespace);if(s){try{await s.switchCaipNetwork(e),r&&ke.close()}catch{ye.goBack()}ct.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||ne.activeChain;if(!t)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=ne.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(e){const t=e||ne.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=ne.chains.get(t);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){var r;const n=(r=ne.chains.get(t))==null?void 0:r.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=ne.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(t==null?void 0:t.networkState)||{};return fe.sortRequestedNetworks(n,r).filter(a=>a==null?void 0:a.id)},getAllRequestedCaipNetworks(){const e=[];return ne.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=N.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){N.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=N.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));J.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const e=[];return ne.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=N.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){var t,n;return e?(n=(t=ne.chains.get(e))==null?void 0:t.networkState)==null?void 0:n.caipNetwork:ne.activeCaipNetwork},getActiveCaipAddress(){return ne.activeCaipAddress},getApprovedCaipNetworkIds(e){var r;const t=ne.chains.get(e);return((r=t==null?void 0:t.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(e){const t=N.getNetworkControllerClient(),n=await(t==null?void 0:t.getApprovedCaipNetworksData());N.setAdapterNetworkState(e,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(e,t){var s;const n=t||((s=ne.activeCaipNetwork)==null?void 0:s.caipNetworkId),r=N.getRequestedCaipNetworks(e);return r.length?r==null?void 0:r.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(e){if(!ne.activeChain)return!0;const t=N.getRequestedCaipNetworks(ne.activeChain);return t==null?void 0:t.some(n=>n.id===e)},setSmartAccountEnabledNetworks(e,t){N.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){var r;const e=X5.caipNetworkIdToNumber((r=ne.activeCaipNetwork)==null?void 0:r.caipNetworkId),t=ne.activeChain;if(!t||!e)return!1;const n=N.getNetworkProp("smartAccountEnabledNetworks",t);return!!(n!=null&&n.includes(Number(e)))},showUnsupportedChainUI(){ke.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=ne.activeCaipNetwork;return!!(e!=null&&e.chainNamespace&&Je.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){N.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){var s,i;const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=(i=(s=N.state.chains.get(t))==null?void 0:s.accountState)==null?void 0:i.preferredAccountType,r=F.state.defaultAccountTypes[t];ne.activeCaipAddress=void 0,N.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),J.removeConnectorId(t)},setIsSwitchingNamespace(e){ne.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const e=[];let t;if(ne.chains.forEach(s=>{q.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&e.push(s.namespace)}),e.length>0){const s=e[0];return t=s?(r=(n=ne.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,t}},getAccountData(e){var n;const t=e||ne.activeChain;if(t)return(n=N.state.chains.get(t))==null?void 0:n.accountState},getNetworkData(e){var n;const t=e||ne.activeChain;if(t)return(n=N.state.chains.get(t))==null?void 0:n.networkState},getCaipNetworkByNamespace(e,t){var s,i,a;if(!e)return;const n=N.state.chains.get(e),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(o=>o.id===t);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((a=n==null?void 0:n.caipNetworks)==null?void 0:a[0])},getRequestedCaipNetworkIds(){const e=J.state.filterByNamespace;return(e?[ne.chains.get(e)]:Array.from(ne.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?N.getRequestedCaipNetworks(e):N.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(e){ne.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return ne.lastConnectedSIWECaipNetwork}},N=jr(iae),aae={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},a6=fe.getBlockchainApiUrl(),er=bt({clientId:null,api:new $h({baseUrl:a6,clientId:null}),supportedChains:{http:[],ws:[]}}),ge={state:er,async get(e){const{st:t,sv:n}=ge.getSdkProperties(),r=F.state.projectId,s={...e.params||{},st:t,sv:n,projectId:r};return er.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=F.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{er.supportedChains.http.length||await ge.getSupportedNetworks()}catch{return!1}return er.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await ge.get({path:"v1/supported-chains"});return er.supportedChains=e,e}catch{return er.supportedChains}},async fetchIdentity({address:e,caipNetworkId:t}){if(!await ge.isNetworkSupported(t))return{avatar:"",name:""};const r=G.getIdentityFromCacheForAddress(e);if(r)return r;const s=await ge.get({path:`/v1/identity/${e}`,params:{sender:N.state.activeCaipAddress?fe.getPlainAddress(N.state.activeCaipAddress):void 0}});return G.updateIdentityCache({address:e,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:s}){var c;if(!await ge.isNetworkSupported((c=N.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return{data:[],next:void 0};const a=G.getTransactionsCacheForAddress({address:e,chainId:s});if(a)return a;const o=await ge.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:r});return G.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:o}),o},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:s}){var a;return await ge.isNetworkSupported((a=N.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?ge.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){var n;return await ge.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ge.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){var s;if(!await ge.isNetworkSupported((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))return{fungibles:[]};const n=G.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await er.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:F.state.projectId},headers:{"Content-Type":"application/json"}});return G.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){var r;return await ge.isNetworkSupported((r=N.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ge.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){var s;const{st:t,sv:n}=ge.getSdkProperties();if(!await ge.isNetworkSupported((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return ge.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:s}){var a;if(!await ge.isNetworkSupported((a=N.state.activeCaipNetwork)==null?void 0:a.caipNetworkId))throw new Error("Network not supported for Swaps");return er.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:Je.CONVERT_SLIPPAGE_TOLERANCE},projectId:F.state.projectId,from:t,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){var a;const{st:r,sv:s}=ge.getSdkProperties();if(!await ge.isNetworkSupported((a=N.state.activeCaipNetwork)==null?void 0:a.caipNetworkId))throw new Error("Network not supported for Swaps");return ge.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:s}})},async getBalance(e,t,n){var l;const{st:r,sv:s}=ge.getSdkProperties();if(!await ge.isNetworkSupported((l=N.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return Qs.showError("Token Balance Unavailable"),{balances:[]};const a=`${t}:${e}`,o=G.getBalanceCacheForCaipAddress(a);if(o)return o;const c=await ge.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:s}});return G.updateBalanceCache({caipAddress:a,balance:c,timestamp:Date.now()}),c},async lookupEnsName(e){var n;return await ge.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ge.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){var n;return await ge.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ge.get({path:`/v1/profile/reverse/${e}`,params:{sender:ue.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){var n;return await ge.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ge.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){var i;return await ge.isNetworkSupported((i=N.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?er.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var o;return await ge.isNetworkSupported((o=N.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?(await er.api.post({path:"/v1/generators/onrampurl",params:{projectId:F.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var t;if(!await ge.isNetworkSupported((t=N.state.activeCaipNetwork)==null?void 0:t.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await ge.get({path:"/v1/onramp/options"})}catch{return aae}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){var s;try{return await ge.isNetworkSupported((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await er.api.post({path:"/v1/onramp/quote",params:{projectId:F.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){var n;return await ge.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ge.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){var s;return await ge.isNetworkSupported((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?er.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:F.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){er.clientId=e,er.api=new $h({baseUrl:a6,clientId:e})}},Nw={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return kU(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}},M2={async getMyTokensWithBalance(e){const t=ue.state.address,n=N.state.activeCaipNetwork,r=J.getConnectorId("eip155")===q.CONNECTOR_ID.AUTH;if(!t||!n)return[];const s=`${n.caipNetworkId}:${t}`,i=G.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===q.CHAIN.EVM&&r){const o=await this.getEIP155Balances(t,n);if(o)return this.filterLowQualityTokens(o)}const a=await ge.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(a.balances)},async getEIP155Balances(e,t){var n,r;try{const s=Nw.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),i=await ee.getCapabilities(e);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const a=await ee.walletGetAssets({account:e,chainFilter:[s]});if(!Nw.isWalletGetAssetsResponse(a))return null;const c=(a[s]||[]).map(l=>Nw.createBalance(l,t.caipNetworkId));return G.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")}},zs=bt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),oae={state:zs,replaceState(e){e&&Object.assign(zs,xc(e))},subscribe(e){return N.subscribeChainProp("accountState",t=>{if(t)return e(t)})},subscribeKey(e,t,n){let r;return N.subscribeChainProp("accountState",s=>{if(s){const i=s[e];r!==i&&(r=i,t(i))}},n)},setStatus(e,t){N.setAccountProp("status",e,t)},getCaipAddress(e){var t,n;if(e)return(n=(t=N.state.chains.get(e))==null?void 0:t.accountState)==null?void 0:n.caipAddress},setCaipAddress(e,t){const n=e?fe.getPlainAddress(e):void 0;t===N.state.activeChain&&(N.state.activeCaipAddress=e),N.setAccountProp("caipAddress",e,t),N.setAccountProp("address",n,t)},setBalance(e,t,n){N.setAccountProp("balance",e,n),N.setAccountProp("balanceSymbol",t,n)},setProfileName(e,t){N.setAccountProp("profileName",e,t)},setProfileImage(e,t){N.setAccountProp("profileImage",e,t)},setUser(e,t){N.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){N.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){N.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){N.setAccountProp("currentTab",e,N.state.activeChain)},setTokenBalance(e,t){e&&N.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){N.setAccountProp("shouldUpdateToAddress",e,t)},addAddressLabel(e,t,n){var s,i;if(!n)return;const r=((i=(s=N.state.chains.get(n))==null?void 0:s.accountState)==null?void 0:i.addressLabels)||new Map;r.set(e,t),N.setAccountProp("addressLabels",r,n)},removeAddressLabel(e,t){var r,s;if(!t)return;const n=((s=(r=N.state.chains.get(t))==null?void 0:r.accountState)==null?void 0:s.addressLabels)||new Map;n.delete(e),N.setAccountProp("addressLabels",n,t)},setConnectedWalletInfo(e,t){N.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){N.setAccountProp("preferredAccountType",e,t)},setSocialProvider(e,t){e&&N.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){N.setAccountProp("socialWindow",e?xc(e):void 0,t)},setFarcasterUrl(e,t){N.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){var i,a;zs.balanceLoading=!0;const t=(i=N.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(a=N.state.activeCaipNetwork)==null?void 0:a.chainNamespace,r=N.state.activeCaipAddress,s=r?fe.getPlainAddress(r):void 0;if(zs.lastRetry&&!fe.isAllowedRetry(zs.lastRetry,30*Je.ONE_SEC_MS))return zs.balanceLoading=!1,[];try{if(s&&t&&n){const o=await M2.getMyTokensWithBalance();return ue.setTokenBalance(o,n),zs.lastRetry=void 0,zs.balanceLoading=!1,o}}catch(o){zs.lastRetry=Date.now(),e==null||e(o),Qs.showError("Token Balance Unavailable")}finally{zs.balanceLoading=!1}return[]},resetAccount(e){N.resetAccount(e)}},ue=jr(oae),cae={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=N.state.activeCaipNetwork,r=ye.state.data;if(e.id===(n==null?void 0:n.id))return;const i=ue.getCaipAddress(N.state.activeChain),a=e.chainNamespace!==N.state.activeChain,o=ue.getCaipAddress(e.chainNamespace),l=J.getConnectorId(N.state.activeChain)===q.CONNECTOR_ID.AUTH,u=q.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===e.chainNamespace);t||l&&u?ye.push("SwitchNetwork",{...r,network:e}):i&&a&&!o?ye.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):ye.push("SwitchNetwork",{...r,network:e})}},tr=bt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),lae={state:tr,subscribe(e){return Nn(tr,()=>e(tr))},subscribeKey(e,t){return kn(tr,e,t)},async open(e){var i,a;const t=e==null?void 0:e.namespace,n=N.state.activeChain,r=t&&t!==n,s=(i=N.getAccountData(e==null?void 0:e.namespace))==null?void 0:i.caipAddress;if(ee.state.wcBasic?pe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await pe.prefetch(),J.setFilterByNamespace(e==null?void 0:e.namespace),ke.setLoading(!0,t),t&&r){const o=((a=N.getNetworkData(t))==null?void 0:a.caipNetwork)||N.getRequestedCaipNetworks(t)[0];o&&cae.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0})}else{const o=N.state.noAdapters;F.state.manualWCControl||o&&!s?fe.isMobile()?ye.reset("AllWallets"):ye.reset("ConnectingWalletConnectBasic"):e!=null&&e.view?ye.reset(e.view,e.data):s?ye.reset("Account"):ye.reset("Connect")}tr.open=!0,ki.set({open:!0}),ct.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=F.state.enableEmbedded,t=!!N.state.activeCaipAddress;tr.open&&ct.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),tr.open=!1,ye.reset("Connect"),ke.clearLoading(),e?t?ye.replace("Account"):ye.push("Connect"):ki.set({open:!1}),ee.resetUri()},setLoading(e,t){t&&tr.loadingNamespaceMap.set(t,e),tr.loading=e,ki.set({loading:e})},clearLoading(){tr.loadingNamespaceMap.clear(),tr.loading=!1,ki.set({loading:!1})},shake(){tr.shake||(tr.shake=!0,setTimeout(()=>{tr.shake=!1},500))}},ke=jr(lae),gd={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},lv={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},uae={providers:n6,selectedProvider:null,error:null,purchaseCurrency:gd,paymentCurrency:lv,purchaseCurrencies:[gd],paymentCurrencies:[],quotesLoading:!1},Pe=bt(uae),fae={state:Pe,subscribe(e){return Nn(Pe,()=>e(Pe))},subscribeKey(e,t){return kn(Pe,e,t)},setSelectedProvider(e){var t,n;if(e&&e.name==="meld"){const r=N.state.activeChain,s=r===q.CHAIN.SOLANA?"SOL":"USDC",i=r?((n=(t=N.state.chains.get(r))==null?void 0:t.accountState)==null?void 0:n.address)??"":"",a=new URL(e.url);a.searchParams.append("publicKey",$ie),a.searchParams.append("destinationCurrencyCode",s),a.searchParams.append("walletAddress",i),a.searchParams.append("externalCustomerId",F.state.projectId),Pe.selectedProvider={...e,url:a.toString()}}else Pe.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,n=n6.filter(r=>t.includes(r.name));Pe.providers=n}else Pe.providers=[]},setPurchaseCurrency(e){Pe.purchaseCurrency=e},setPaymentCurrency(e){Pe.paymentCurrency=e},setPurchaseAmount(e){uv.state.purchaseAmount=e},setPaymentAmount(e){uv.state.paymentAmount=e},async getAvailableCurrencies(){const e=await ge.getOnrampOptions();Pe.purchaseCurrencies=e.purchaseCurrencies,Pe.paymentCurrencies=e.paymentCurrencies,Pe.paymentCurrency=e.paymentCurrencies[0]||lv,Pe.purchaseCurrency=e.purchaseCurrencies[0]||gd,await pe.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await pe.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){var e,t;Pe.quotesLoading=!0;try{const n=await ge.getOnrampQuote({purchaseCurrency:Pe.purchaseCurrency,paymentCurrency:Pe.paymentCurrency,amount:((e=Pe.paymentAmount)==null?void 0:e.toString())||"0",network:(t=Pe.purchaseCurrency)==null?void 0:t.symbol});return Pe.quotesLoading=!1,Pe.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return Pe.error=n.message,Pe.quotesLoading=!1,null}finally{Pe.quotesLoading=!1}},resetState(){Pe.selectedProvider=null,Pe.error=null,Pe.purchaseCurrency=gd,Pe.paymentCurrency=lv,Pe.purchaseCurrencies=[gd],Pe.paymentCurrencies=[],Pe.paymentAmount=void 0,Pe.purchaseAmount=void 0,Pe.quotesLoading=!1}},uv=jr(fae),P_=2147483648,dae={convertEVMChainIdToCoinType(e){if(e>=P_)throw new Error("Invalid chainId");return(P_|e)>>>0}},qr=bt({suggestions:[],loading:!1}),hae={state:qr,subscribe(e){return Nn(qr,()=>e(qr))},subscribeKey(e,t){return kn(qr,e,t)},async resolveName(e){var t,n;try{return await ge.lookupEnsName(e)}catch(r){const s=r;throw new Error(((n=(t=s==null?void 0:s.reasons)==null?void 0:t[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(e){try{return await ge.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{qr.loading=!0,qr.suggestions=[];const t=await ge.getEnsNameSuggestions(e);return qr.suggestions=t.suggestions.map(n=>({...n,name:n.name}))||[],qr.suggestions}catch(t){const n=md.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{qr.loading=!1}},async getNamesForAddress(e){try{if(!N.state.activeCaipNetwork)return[];const n=G.getEnsFromCacheForAddress(e);if(n)return n;const r=await ge.reverseLookupEnsName({address:e});return G.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=md.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=N.state.activeCaipNetwork,n=ue.state.address,r=J.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");qr.loading=!0;try{const s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ye.pushTransactionStack({onCancel(){ye.replace("RegisterAccountName")}});const i=await ee.signMessage(s);qr.loading=!1;const a=t.id;if(!a)throw new Error("Network not found");const o=dae.convertEVMChainIdToCoinType(Number(a));await ge.registerEnsName({coinType:o,address:n,signature:i,message:s}),ue.setProfileName(e,t.chainNamespace),ye.replace("RegisterAccountNameSuccess")}catch(s){const i=md.parseEnsApiError(s,`Error registering name ${e}`);throw ye.replace("RegisterAccountName"),new Error(i)}finally{qr.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){var r,s;const n=e;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||t}},md=jr(hae);let Uo=null;const Ws={getSIWX(){return F.state.siwx},async initializeIfEnabled(e=N.getActiveCaipAddress()){var i,a,o;const t=F.state.siwx;if(!(t&&e))return;const[n,r,s]=e.split(":");if(N.checkIfSupportedNetwork(n,`${n}:${r}`))try{if((i=F.state.remoteFeatures)!=null&&i.emailCapture){const l=(a=N.getAccountData(n))==null?void 0:a.user;await ke.open({view:"DataCapture",data:{email:(l==null?void 0:l.email)??void 0}});return}if(Uo&&await Uo,(await t.getSessions(`${n}:${r}`,s)).length)return;await ke.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),ct.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((o=ee._getClient())==null?void 0:o.disconnect().catch(console.error)),ye.reset("Connect"),Qs.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=F.state.siwx,t=fe.getPlainAddress(N.getActiveCaipAddress()),n=k_(),r=ee._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),i=s.toString();J.getConnectorId(n.chainNamespace)===q.CONNECTOR_ID.AUTH&&ye.pushTransactionStack({});const o=await r.signMessage(i);await e.addSession({data:s,message:i,signature:o}),N.setLastConnectedSIWECaipNetwork(n),ke.close(),ct.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!ke.state.open||ye.state.view==="ApproveTransaction")&&await ke.open({view:"SIWXSignMessage"}),Qs.showError("Error signing message"),ct.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var e;try{const t=this.getSIWX();if((e=t==null?void 0:t.getRequired)==null?void 0:e.call(t)){const r=N.getLastConnectedSIWECaipNetwork();if(r){const s=await(t==null?void 0:t.getSessions(r==null?void 0:r.caipNetworkId,fe.getPlainAddress(N.getActiveCaipAddress())||""));s&&s.length>0?await N.switchActiveNetwork(r):await ee.disconnect()}else await ee.disconnect()}else ke.close();ke.close(),ct.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const e=this.getSIWX(),t=N.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const s=await(e==null?void 0:e.getSessions(r.caipNetworkId,fe.getPlainAddress(N.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(e){const t=F.state.siwx;let n=e==null?void 0:e.address;if(!n){const s=N.getActiveCaipAddress();n=fe.getPlainAddress(s)}let r=e==null?void 0:e.caipNetworkId;if(!r){const s=N.getActiveCaipNetwork();r=s==null?void 0:s.caipNetworkId}return t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){var t;const e=this.getSIWX();if(e){const n=ye.state.view==="ApproveTransaction",r=ye.state.view==="SIWXSignMessage";if(n||r)return((t=e.getRequired)==null?void 0:t.call(e))&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:s}){var u;const i=Ws.getSIWX();if(!i||!s.includes(q.CHAIN.EVM)||(u=F.state.remoteFeatures)!=null&&u.emailCapture){const f=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${s}:${t}`,o=await i.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),c={accountAddress:o.accountAddress,chainId:o.chainId,domain:o.domain,uri:o.uri,version:o.version,nonce:o.nonce,notBefore:o.notBefore,statement:o.statement,resources:o.resources,requestId:o.requestId,issuedAt:o.issuedAt,expirationTime:o.expirationTime,serializedMessage:o.toString()},l=await e.connect({chainId:t,socialUri:n,siwxMessage:c,preferredAccountType:r});return c.accountAddress=l.address,c.serializedMessage=l.message||"",l.signature&&l.message&&await Ws.addEmbeddedWalletSession(c,l.message,l.signature),{address:l.address,chainId:l.chainId,accounts:l.accounts}},async addEmbeddedWalletSession(e,t,n){if(Uo)return Uo;const r=Ws.getSIWX();return r?(Uo=r.addSession({data:e,message:t,signature:n}).finally(()=>{Uo=null}),Uo):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){var o,c,l;const r=Ws.getSIWX(),s=new Set(t.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((o=k_())==null?void 0:o.caipNetworkId)||"",accountAddress:""}),a=await e.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...t.filter(u=>u!==i.chainId)]});if(Qs.showLoading("Authenticating...",{autoClose:!1}),ue.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(c=a.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=a==null?void 0:a.auths)!=null&&l.length){const u=a.auths.map(f=>{const d=e.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud,version:f.p.version||i.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:d,signature:f.s.s,cacao:f}});try{await r.setSessions(u),ct.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Ws.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),ct.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Ws.getSIWXEventProperties()}),await e.disconnect().catch(console.error),f}finally{Qs.hide()}}return!0},getSIWXEventProperties(){var t;const e=N.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:((t=N.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)||"",isSmartAccount:oi(e)===oc.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}},jo={EIP155:q.CHAIN.EVM,CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},Jd={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[q.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[q.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[q.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[q.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[q.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[q.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[q.CONNECTOR_ID.INJECTED]:"Browser Wallet",[q.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[q.CONNECTOR_ID.COINBASE]:"Coinbase",[q.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[q.CONNECTOR_ID.LEDGER]:"Ledger",[q.CONNECTOR_ID.SAFE]:"Safe"}},Ir={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${jo.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return(e==null?void 0:e.toLowerCase())===(t==null?void 0:t.toLowerCase())},getActiveNamespaceConnectedToAuth(){const e=N.state.activeChain;return q.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>J.getConnectorId(t)===q.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await e()?s(!0):r>=n?s(!1):(setTimeout(i,t),null)}i()})}},pae=new AbortController,Vr={EmbeddedWalletAbortController:pae,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${ql()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`}}},gae={createLogger(e,t="error"){const n=Ah({level:t}),{logger:r}=rO({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){e(i,...s);return}e(void 0,...s)},r}},mae="rpc.walletconnect.org";function j_(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const Iw=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Cl={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===mae}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:q.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${q.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){var s,i,a;const r=(a=(i=(s=e.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:a[0];return Iw.includes(t)?j_(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){var d,h,p,g,b,y,m;const s=this.getChainNamespace(e),i=this.getCaipNetworkId(e),a=(p=(h=(d=e.rpcUrls)==null?void 0:d.default)==null?void 0:h.http)==null?void 0:p[0],o=this.getDefaultRpcUrl(e,i,n),c=((y=(b=(g=e==null?void 0:e.rpcUrls)==null?void 0:g.chainDefault)==null?void 0:b.http)==null?void 0:y[0])||a,l=((m=r==null?void 0:r[i])==null?void 0:m.map(w=>w.url))||[],u=[...l,...o?[o]:[]],f=[...l];return c&&!f.includes(c)&&f.push(c),{...e,chainNamespace:s,caipNetworkId:i,assets:{imageId:Jd.NetworkImageIds[e.id],imageUrl:t==null?void 0:t[e.id]},rpcUrls:{...e.rpcUrls,default:{http:u},chainDefault:{http:f}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(s=>Cl.extendCaipNetwork(s,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){var s,i,a;const r=[];return n==null||n.forEach(o=>{r.push(Vh(o.url,o.config))}),Iw.includes(e.caipNetworkId)&&r.push(Vh(j_(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(a=(i=(s=e==null?void 0:e.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||a.forEach(o=>{r.push(Vh(o))}),eS(r)},extendWagmiTransports(e,t,n){if(Iw.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return eS([n,Vh(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:q.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){var c;const t=G.getActiveCaipNetworkId(),n=N.getAllRequestedCaipNetworks(),r=Array.from(((c=N.state.chains)==null?void 0:c.keys())||[]),s=t==null?void 0:t.split(":")[0],i=s?r.includes(s):!1,a=n==null?void 0:n.find(l=>l.caipNetworkId===t);return i&&!a&&t?this.getUnsupportedNetwork(t):a||e||(n==null?void 0:n[0])}},T0={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},nr=bt({providers:{...T0},providerIds:{...T0}}),Mt={state:nr,subscribeKey(e,t){return kn(nr,e,t)},subscribe(e){return Nn(nr,()=>{e(nr)})},subscribeProviders(e){return Nn(nr.providers,()=>e(nr.providers))},setProvider(e,t){e&&t&&(nr.providers[e]=xc(t))},getProvider(e){if(e)return nr.providers[e]},setProviderId(e,t){t&&(nr.providerIds[e]=t)},getProviderId(e){if(e)return nr.providerIds[e]},reset(){nr.providers={...T0},nr.providerIds={...T0}},resetChain(e){nr.providers[e]=void 0,nr.providerIds[e]=void 0}},yae={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},fv={filterOutDuplicatesByRDNS(e){const t=F.state.enableEIP6963?J.state.connectors:[],n=G.getRecentWallets(),r=t.map(o=>{var c;return(c=o.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(o=>o.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&fe.isMobile()){const o=i.indexOf("io.metamask.mobile");i[o]="io.metamask"}return e.filter(o=>!(o!=null&&o.rdns&&i.includes(String(o.rdns))||!(o!=null&&o.rdns)&&t.some(l=>l.name===o.name)))},filterOutDuplicatesByIds(e){const t=J.state.connectors.filter(o=>o.type==="ANNOUNCED"||o.type==="INJECTED"),n=G.getRecentWallets(),r=t.map(o=>o.explorerId),s=n.map(o=>o.id),i=r.concat(s);return e.filter(o=>!i.includes(o==null?void 0:o.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=J.state,{featuredWalletIds:n}=F.state,r=t.filter(a=>a.type==="ANNOUNCED").reduce((a,o)=>{var c;return(c=o.info)!=null&&c.rdns&&(a[o.info.rdns]=!0),a},{});return e.map(a=>({...a,installed:!!a.rdns&&!!r[a.rdns??""]})).sort((a,o)=>{const c=Number(o.installed)-Number(a.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(a.id),u=n.indexOf(o.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(e,t){var c;const n=(e==null?void 0:e.connectMethodsOrder)||((c=F.state.features)==null?void 0:c.connectMethodsOrder),r=t||J.state.connectors;if(n)return n;const{injected:s,announced:i}=vg.getConnectorsByType(r,pe.state.recommended,pe.state.featured),a=s.filter(vg.showConnector),o=i.filter(vg.showConnector);return a.length||o.length?["wallet","email","social"]:yae.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&pe.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&pe.state.excludedWallets.some(r=>Ir.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))}},vg={getConnectorsByType(e,t,n){const{customWallets:r}=F.state,s=G.getRecentWallets(),i=fv.filterOutDuplicateWallets(t),a=fv.filterOutDuplicateWallets(n),o=e.filter(f=>f.type==="MULTI_CHAIN"),c=e.filter(f=>f.type==="ANNOUNCED"),l=e.filter(f=>f.type==="INJECTED"),u=e.filter(f=>f.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:o,announced:c,injected:l,recommended:i,featured:a}},showConnector(e){var s;const t=(s=e.info)==null?void 0:s.rdns,n=!!t&&pe.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===t),r=!!e.name&&pe.state.excludedWallets.some(i=>Ir.isLowerCaseMatch(i.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!fe.isMobile()||fe.isMobile()&&!t&&!ee.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(N.state.chains.values()).some(n=>J.getConnectorId(n.namespace)===q.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:s,injected:i,multiChain:a,external:o,overriddenConnectors:c=(l=>(l=F.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const d=[{type:"walletConnect",isEnabled:F.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...a].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:o.length>0},{type:"recommended",isEnabled:e.length>0}].filter(b=>b.isEnabled),h=new Set(d.map(b=>b.type)),p=c.filter(b=>h.has(b)).map(b=>({type:b,isEnabled:!0})),g=d.filter(({type:b})=>!p.some(({type:m})=>m===b));return Array.from(new Set([...p,...g].map(({type:b})=>b)))},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){var t,n;try{if(e.name==="Browser Wallet"&&!fe.isMobile())return{accounts:[],chainId:void 0};if(e.id===q.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(t=e.provider)==null?void 0:t.request({method:"eth_accounts"}),(n=e.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${e.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Eg=globalThis,R2=Eg.ShadowRoot&&(Eg.ShadyCSS===void 0||Eg.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,B2=Symbol(),z_=new WeakMap;let o6=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==B2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(R2&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=z_.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&z_.set(n,t))}return t}toString(){return this.cssText}};const Kr=e=>new o6(typeof e=="string"?e:e+"",void 0,B2),ru=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,s,i)=>r+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[i+1],e[0]);return new o6(n,e,B2)},wae=(e,t)=>{if(R2)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),s=Eg.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},H_=R2?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Kr(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:bae,defineProperty:vae,getOwnPropertyDescriptor:Eae,getOwnPropertyNames:Sae,getOwnPropertySymbols:Aae,getPrototypeOf:Cae}=Object,so=globalThis,F_=so.trustedTypes,xae=F_?F_.emptyScript:"",Tw=so.reactiveElementPolyfillSupport,yd=(e,t)=>e,dv={toAttribute(e,t){switch(t){case Boolean:e=e?xae:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},c6=(e,t)=>!bae(e,t),q_={attribute:!0,type:String,converter:dv,reflect:!1,useDefault:!1,hasChanged:c6};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),so.litPropertyMetadata??(so.litPropertyMetadata=new WeakMap);let xl=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=q_){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,n);s!==void 0&&vae(this.prototype,t,s)}}static getPropertyDescriptor(t,n,r){const{get:s,set:i}=Eae(this.prototype,t)??{get(){return this[n]},set(a){this[n]=a}};return{get:s,set(a){const o=s==null?void 0:s.call(this);i==null||i.call(this,a),this.requestUpdate(t,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??q_}static _$Ei(){if(this.hasOwnProperty(yd("elementProperties")))return;const t=Cae(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(yd("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(yd("properties"))){const n=this.properties,r=[...Sae(n),...Aae(n)];for(const s of r)this.createProperty(s,n[s])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)n.unshift(H_(s))}else t!==void 0&&n.push(H_(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return wae(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){var i;const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const a=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:dv).toAttribute(n,r.type);this._$Em=t,a==null?this.removeAttribute(s):this.setAttribute(s,a),this._$Em=null}}_$AK(t,n){var i,a;const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const o=r.getPropertyOptions(s),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((i=o.converter)==null?void 0:i.fromAttribute)!==void 0?o.converter:dv;this._$Em=s;const l=c.fromAttribute(n,o.type);this[s]=l??((a=this._$Ej)==null?void 0:a.get(s))??l,this._$Em=null}}requestUpdate(t,n,r,s=!1,i){var a;if(t!==void 0){const o=this.constructor;if(s===!1&&(i=this[t]),r??(r=o.getPropertyOptions(t)),!((r.hasChanged??c6)(i,n)||r.useDefault&&r.reflect&&i===((a=this._$Ej)==null?void 0:a.get(t))&&!this.hasAttribute(o._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:s,wrapped:i},a){r&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,a??n??this[t]),i!==!0||a!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),s===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,a]of this._$Ep)this[i]=a;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,a]of s){const{wrapped:o}=a,c=this[i];o!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,a,c)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};xl.elementStyles=[],xl.shadowRootOptions={mode:"open"},xl[yd("elementProperties")]=new Map,xl[yd("finalized")]=new Map,Tw==null||Tw({ReactiveElement:xl}),(so.reactiveElementVersions??(so.reactiveElementVersions=[])).push("2.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wd=globalThis,V_=e=>e,O0=wd.trustedTypes,K_=O0?O0.createPolicy("lit-html",{createHTML:e=>e}):void 0,l6="$lit$",Ra=`lit$${Math.random().toFixed(9).slice(2)}$`,u6="?"+Ra,_ae=`<${u6}>`,_c=document,eh=()=>_c.createComment(""),th=e=>e===null||typeof e!="object"&&typeof e!="function",L2=Array.isArray,Nae=e=>L2(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Ow=`[ 	
\f\r]`,Df=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,W_=/-->/g,G_=/>/g,$o=RegExp(`>|${Ow}(?:([^\\s"'>=/]+)(${Ow}*=${Ow}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Y_=/'/g,Z_=/"/g,f6=/^(?:script|style|textarea|title)$/i,d6=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),vle=d6(1),Ele=d6(2),Iu=Symbol.for("lit-noChange"),cn=Symbol.for("lit-nothing"),X_=new WeakMap,Jo=_c.createTreeWalker(_c,129);function h6(e,t){if(!L2(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return K_!==void 0?K_.createHTML(t):t}const Iae=(e,t)=>{const n=e.length-1,r=[];let s,i=t===2?"<svg>":t===3?"<math>":"",a=Df;for(let o=0;o<n;o++){const c=e[o];let l,u,f=-1,d=0;for(;d<c.length&&(a.lastIndex=d,u=a.exec(c),u!==null);)d=a.lastIndex,a===Df?u[1]==="!--"?a=W_:u[1]!==void 0?a=G_:u[2]!==void 0?(f6.test(u[2])&&(s=RegExp("</"+u[2],"g")),a=$o):u[3]!==void 0&&(a=$o):a===$o?u[0]===">"?(a=s??Df,f=-1):u[1]===void 0?f=-2:(f=a.lastIndex-u[2].length,l=u[1],a=u[3]===void 0?$o:u[3]==='"'?Z_:Y_):a===Z_||a===Y_?a=$o:a===W_||a===G_?a=Df:(a=$o,s=void 0);const h=a===$o&&e[o+1].startsWith("/>")?" ":"";i+=a===Df?c+_ae:f>=0?(r.push(l),c.slice(0,f)+l6+c.slice(f)+Ra+h):c+Ra+(f===-2?o:h)}return[h6(e,i+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let hv=class p6{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let i=0,a=0;const o=t.length-1,c=this.parts,[l,u]=Iae(t,n);if(this.el=p6.createElement(l,r),Jo.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=Jo.nextNode())!==null&&c.length<o;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(l6)){const d=u[a++],h=s.getAttribute(f).split(Ra),p=/([.?@])?(.*)/.exec(d);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?Oae:p[1]==="?"?Dae:p[1]==="@"?Uae:Im}),s.removeAttribute(f)}else f.startsWith(Ra)&&(c.push({type:6,index:i}),s.removeAttribute(f));if(f6.test(s.tagName)){const f=s.textContent.split(Ra),d=f.length-1;if(d>0){s.textContent=O0?O0.emptyScript:"";for(let h=0;h<d;h++)s.append(f[h],eh()),Jo.nextNode(),c.push({type:2,index:++i});s.append(f[d],eh())}}}else if(s.nodeType===8)if(s.data===u6)c.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(Ra,f+1))!==-1;)c.push({type:7,index:i}),f+=Ra.length-1}i++}}static createElement(t,n){const r=_c.createElement("template");return r.innerHTML=t,r}};function Tu(e,t,n=e,r){var a,o;if(t===Iu)return t;let s=r!==void 0?(a=n._$Co)==null?void 0:a[r]:n._$Cl;const i=th(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((o=s==null?void 0:s._$AO)==null||o.call(s,!1),i===void 0?s=void 0:(s=new i(e),s._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(t=Tu(e,s._$AS(e,t.values),s,r)),t}class Tae{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,s=((t==null?void 0:t.creationScope)??_c).importNode(n,!0);Jo.currentNode=s;let i=Jo.nextNode(),a=0,o=0,c=r[0];for(;c!==void 0;){if(a===c.index){let l;c.type===2?l=new k2(i,i.nextSibling,this,t):c.type===1?l=new c.ctor(i,c.name,c.strings,this,t):c.type===6&&(l=new $ae(i,this,t)),this._$AV.push(l),c=r[++o]}a!==(c==null?void 0:c.index)&&(i=Jo.nextNode(),a++)}return Jo.currentNode=_c,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}let k2=class g6{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,s){this.type=2,this._$AH=cn,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Tu(this,t,n),th(t)?t===cn||t==null||t===""?(this._$AH!==cn&&this._$AR(),this._$AH=cn):t!==this._$AH&&t!==Iu&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Nae(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==cn&&th(this._$AH)?this._$AA.nextSibling.data=t:this.T(_c.createTextNode(t)),this._$AH=t}$(t){var i;const{values:n,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=hv.createElement(h6(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const a=new Tae(s,this),o=a.u(this.options);a.p(n),this.T(o),this._$AH=a}}_$AC(t){let n=X_.get(t.strings);return n===void 0&&X_.set(t.strings,n=new hv(t)),n}k(t){L2(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of t)s===n.length?n.push(r=new g6(this.O(eh()),this.O(eh()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t!==this._$AB;){const s=V_(t).nextSibling;V_(t).remove(),t=s}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}};class Im{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,i){this.type=1,this._$AH=cn,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=cn}_$AI(t,n=this,r,s){const i=this.strings;let a=!1;if(i===void 0)t=Tu(this,t,n,0),a=!th(t)||t!==this._$AH&&t!==Iu,a&&(this._$AH=t);else{const o=t;let c,l;for(t=i[0],c=0;c<i.length-1;c++)l=Tu(this,o[r+c],n,c),l===Iu&&(l=this._$AH[c]),a||(a=!th(l)||l!==this._$AH[c]),l===cn?t=cn:t!==cn&&(t+=(l??"")+i[c+1]),this._$AH[c]=l}a&&!s&&this.j(t)}j(t){t===cn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Oae extends Im{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===cn?void 0:t}}class Dae extends Im{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==cn)}}let Uae=class extends Im{constructor(t,n,r,s,i){super(t,n,r,s,i),this.type=5}_$AI(t,n=this){if((t=Tu(this,t,n,0)??cn)===Iu)return;const r=this._$AH,s=t===cn&&r!==cn||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,i=t!==cn&&(r===cn||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}};class $ae{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Tu(this,t)}}const Dw=wd.litHtmlPolyfillSupport;Dw==null||Dw(hv,k2),(wd.litHtmlVersions??(wd.litHtmlVersions=[])).push("3.3.2");const Mae=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new k2(t.insertBefore(eh(),i),i,void 0,n??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cc=globalThis;class Sg extends xl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Mae(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Iu}}var dN;Sg._$litElement$=!0,Sg.finalized=!0,(dN=cc.litElementHydrateSupport)==null||dN.call(cc,{LitElement:Sg});const Uw=cc.litElementPolyfillSupport;Uw==null||Uw({LitElement:Sg});(cc.litElementVersions??(cc.litElementVersions=[])).push("4.2.2");let bd,io,ao;function Ale(e,t){bd=document.createElement("style"),io=document.createElement("style"),ao=document.createElement("style"),bd.textContent=su(e).core.cssText,io.textContent=su(e).dark.cssText,ao.textContent=su(e).light.cssText,document.head.appendChild(bd),document.head.appendChild(io),document.head.appendChild(ao),m6(t)}function m6(e){io&&ao&&(e==="light"?(io.removeAttribute("media"),ao.media="enabled"):(ao.removeAttribute("media"),io.media="enabled"))}function Rae(e){bd&&io&&ao&&(bd.textContent=su(e).core.cssText,io.textContent=su(e).dark.cssText,ao.textContent=su(e).light.cssText)}function su(e){return{core:ru`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Kr(e!=null&&e["--w3m-color-mix-strength"]?`${e["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Kr((e==null?void 0:e["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Kr((e==null?void 0:e["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Kr((e==null?void 0:e["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Kr((e==null?void 0:e["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:ru`
      :root {
        --w3m-color-mix: ${Kr((e==null?void 0:e["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Kr(Va(e,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Kr(Va(e,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:ru`
      :root {
        --w3m-color-mix: ${Kr((e==null?void 0:e["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Kr(Va(e,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Kr(Va(e,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Cle=ru`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,xle=ru`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,_le=ru`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Ag={hexStringToNumber(e){const t=e.startsWith("0x")?e.slice(2):e;return parseInt(t,16)},numberToHexString(e){return`0x${e.toString(16)}`},async getUserInfo(e){const[t,n]=await Promise.all([Ag.getAddresses(e),Ag.getChainId(e)]);return{chainId:n,addresses:t}},async getChainId(e){const t=await e.request({method:"eth_chainId"});return Number(t)},async getAddress(e){const[t]=await e.request({method:"eth_accounts"});return t},async getAddresses(e){return await e.request({method:"eth_accounts"})},async addEthereumChain(e,t){var r,s;const n=((r=t.rpcUrls.chainDefault)==null?void 0:r.http)||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:Ag.numberToHexString(t.id),rpcUrls:[...n],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[(s=t.blockExplorers)==null?void 0:s.default.url],iconUrls:[Jd.NetworkImageIds[t.id]]}]})}},wl={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function Mh(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Q_=Mh({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),J_=Mh({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Mh({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});const Bae=Mh({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),Lae=Mh({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),kae={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},qi={getMethodsByChainNamespace(e){return kae[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(s=>r.add(s)),t.chains&&Object.keys(t.chains).forEach(s=>r.add(s)),t.events&&Object.keys(t.events).forEach(s=>r.add(s)),t.rpcMap&&Object.keys(t.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),t.methods&&Object.entries(t.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),t.chains&&Object.entries(t.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),t.events&&Object.entries(t.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),t.rpcMap){const s=new Set;Object.entries(t.rpcMap).forEach(([i,a])=>{const[o,c]=i.split(":");!o||!c||!n[o]||(n[o].rpcMap||(n[o].rpcMap={}),s.has(o)||(n[o].rpcMap={},s.add(o)),n[o].rpcMap[c]=a)})}return n},createNamespaces(e,t){const n=e.reduce((r,s)=>{const{id:i,chainNamespace:a,rpcUrls:o}=s,c=o.default.http[0];r[a]||(r[a]=this.createDefaultNamespace(a));const l=`${a}:${i}`,u=r[a];switch(u.chains.push(l),l){case Q_.caipNetworkId:u.chains.push(Q_.deprecatedCaipNetworkId);break;case J_.caipNetworkId:u.chains.push(J_.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{var r;const t=await md.resolveName(e);return((r=(Object.values(t==null?void 0:t.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(s=>{const[i,a]=s.split(":");return`${i}:${a}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isOriginAllowed(e,t,n){for(const r of[...t,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(e))return!0}else try{if(new URL(r).origin===e)return!0}catch{if(r===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:a}){n&&e.on("connect",()=>{const o=qi.getWalletConnectAccounts(e,t);n(o)}),r&&e.on("disconnect",()=>{r()}),s&&e.on("session_event",o=>{if(qi.isSessionEventData(o)){const{name:c,data:l}=o.params.event;if(c==="accountsChanged"&&Array.isArray(l)){const u=l.filter(f=>fe.isCaipAddress(f)).map(f=>_r.parseCaipAddress(f)).filter(f=>f.chainNamespace===t);s(u)}}}),i&&e.on("chainChanged",o=>{i(o)}),a&&e.on("display_uri",o=>{a(o)})},getWalletConnectAccounts(e,t){var s,i,a,o;const n=new Set,r=(o=(a=(i=(s=e==null?void 0:e.session)==null?void 0:s.namespaces)==null?void 0:i[t])==null?void 0:a.accounts)==null?void 0:o.map(c=>_r.parseCaipAddress(c)).filter(({address:c})=>n.has(c.toLowerCase())?!1:(n.add(c.toLowerCase()),!0));return r&&r.length>0?r:[]}};class Pae{constructor(t){this.namespace=t.namespace}async syncConnections(t){switch(this.namespace){case q.CHAIN.EVM:await this.syncEVMConnections(t);break;case q.CHAIN.SOLANA:await this.syncSolanaConnections(t);break;case q.CHAIN.BITCOIN:await this.syncBitcoinConnections(t);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:t,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:a}){await Promise.all(t.filter(o=>{const{hasDisconnected:c,hasConnected:l}=s(o.id);return!c&&l}).map(async o=>{if(o.id===q.CONNECTOR_ID.WALLET_CONNECT){const c=qi.getWalletConnectAccounts(r,this.namespace),l=n.find(u=>{var f,d;return u.chainNamespace===this.namespace&&u.id.toString()===((d=(f=c[0])==null?void 0:f.chainId)==null?void 0:d.toString())});c.length>0&&i({connectorId:o.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await vg.fetchProviderData(o);if(c.length>0&&l){const u=n.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===l.toString());i({connectorId:o.id,accounts:c.map(f=>({address:f})),caipNetwork:u}),o.provider&&o.id!==q.CONNECTOR_ID.AUTH&&o.id!==q.CONNECTOR_ID.WALLET_CONNECT&&a(o.id,o.provider)}}}))}async syncSolanaConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:a}){await Promise.all(t.filter(o=>{const{hasDisconnected:c,hasConnected:l}=s(o.id);return!c&&l}).map(async o=>{if(o.id===q.CONNECTOR_ID.WALLET_CONNECT){const c=qi.getWalletConnectAccounts(r,this.namespace);c.length>0&&i({connectorId:o.id,accounts:c.map(l=>({address:l.address})),caipNetwork:n})}else{const c=await o.connect({chainId:n==null?void 0:n.id});c&&(i({connectorId:o.id,accounts:[{address:c}],caipNetwork:n}),a(o.id,o.provider))}}))}async syncBitcoinConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:a}){await Promise.all(t.filter(o=>{const{hasDisconnected:c,hasConnected:l}=s(o.id);return!c&&l}).map(async o=>{var d,h,p,g,b,y;if(o.id===q.CONNECTOR_ID.WALLET_CONNECT){const m=qi.getWalletConnectAccounts(r,this.namespace);m.length>0&&i({connectorId:o.id,accounts:m.map(w=>({address:w.address})),caipNetwork:n});return}const c=await o.connect(),l=await o.getAccountAddresses();let u=l==null?void 0:l.map(m=>fe.createAccount(q.CHAIN.BITCOIN,m.address,m.purpose||"payment",m.publicKey,m.path));if(u&&u.length>1&&(u=[{namespace:q.CHAIN.BITCOIN,publicKey:((d=u[wl.ACCOUNT_INDEXES.PAYMENT])==null?void 0:d.publicKey)??"",path:((h=u[wl.ACCOUNT_INDEXES.PAYMENT])==null?void 0:h.path)??"",address:((p=u[wl.ACCOUNT_INDEXES.PAYMENT])==null?void 0:p.address)??"",type:"payment"},{namespace:q.CHAIN.BITCOIN,publicKey:((g=u[wl.ACCOUNT_INDEXES.ORDINAL])==null?void 0:g.publicKey)??"",path:((b=u[wl.ACCOUNT_INDEXES.ORDINAL])==null?void 0:b.path)??"",address:((y=u[wl.ACCOUNT_INDEXES.ORDINAL])==null?void 0:y.address)??"",type:"ordinal"}]),!(o.chains.find(m=>m.id===(n==null?void 0:n.id))||o.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(a(o.id,o.provider),i({connectorId:o.id,accounts:u.map(m=>({address:m.address,type:m.type})),caipNetwork:n}))}))}getConnection({address:t,connectorId:n,connections:r,connectors:s}){if(n){const a=r.find(l=>Ir.isLowerCaseMatch(l.connectorId,n));if(!a)return null;const o=s.find(l=>Ir.isLowerCaseMatch(l.id,a.connectorId)),c=t?a.accounts.find(l=>Ir.isLowerCaseMatch(l.address,t)):a.accounts[0];return{...a,account:c,connector:o}}const i=r.find(a=>a.accounts.length>0&&s.some(o=>Ir.isLowerCaseMatch(o.id,a.connectorId)));if(i){const[a]=i.accounts,o=s.find(c=>Ir.isLowerCaseMatch(c.id,i.connectorId));return{...i,account:a,connector:o}}return null}}const Ff={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class y6{constructor({provider:t,namespace:n}){this.id=q.CONNECTOR_ID.WALLET_CONNECT,this.name=Jd.ConnectorNamesMap[q.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Jd.ConnectorImageIds[q.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=N.getCaipNetworks.bind(N),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=F.state.universalProviderConfigOverride,s=qi.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return Ws.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:jae})}}const jae=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],zae=[q.CONNECTOR_ID.AUTH,q.CONNECTOR_ID.WALLET_CONNECT];class Hae{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>N.getCaipNetworks(n),this.getConnectorId=n=>J.getConnectorId(n),t&&this.construct(t),t!=null&&t.namespace&&(this.connectionManager=new Pae({namespace:t.namespace}))}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===(n==null?void 0:n.toString()));t&&r&&this.addConnection({connectorId:q.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:q.CONNECTOR_ID.AUTH,type:"AUTH",name:q.CONNECTOR_NAMES.AUTH,provider:t,imageId:Jd.ConnectorImageIds[q.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>!Ir.isLowerCaseMatch(n.connectorId,t)),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){ue.setStatus(t,n)}on(t,n){var r;this.eventListeners.has(t)||this.eventListeners.set(t,new Set),(r=this.eventListeners.get(t))==null||r.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(s=>s(n))}async connectWalletConnect(t){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(t){const{caipNetwork:n,providerType:r}=t;if(!t.provider)return;const s="provider"in t.provider?t.provider.provider:t.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const i=s,a=oi(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const o=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n instanceof y6);if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:s}=fe.getAccount(t[0]),i=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===(s==null?void 0:s.toString())),a=this.connectors.find(o=>o.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:a}),this.addConnection({connectorId:n,accounts:t.map(o=>{const{address:c}=fe.getAccount(o);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(t,n,r=!0){var s,i;if(t.length>0){const{address:a}=fe.getAccount(t[0]),o=(s=this.connectionManager)==null?void 0:s.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});a&&Ir.isLowerCaseMatch(this.getConnectorId(q.CHAIN.EVM),n)&&this.emit("accountChanged",{address:a,chainId:(i=o==null?void 0:o.caipNetwork)==null?void 0:i.id,connector:o==null?void 0:o.connector}),this.addConnection({connectorId:n,accounts:t.map(c=>{const{address:l}=fe.getAccount(c);return{address:l}}),caipNetwork:o==null?void 0:o.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),Ir.isLowerCaseMatch(this.getConnectorId(q.CHAIN.EVM),t)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){var a;const r=typeof t=="string"&&t.startsWith("0x")?Ag.hexStringToNumber(t).toString():t.toString(),s=(a=this.connectionManager)==null?void 0:a.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),Ir.isLowerCaseMatch(this.getConnectorId(q.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(zae.includes(t))return;const r=a=>this.onAccountsChanged(a,t),s=a=>this.onChainChanged(a,t),i=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[t]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){var n,r;const t=(n=this.connectionManager)==null?void 0:n.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[s]=t.accounts;this.emit("accountChanged",{address:s==null?void 0:s.address,chainId:(r=t.caipNetwork)==null?void 0:r.id,connector:t.connector})}}}class Fae extends Hae{async setUniversalProvider(t){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new y6({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:t}){var s,i,a,o;const n=this.provider,r=((o=(a=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[t])==null?void 0:a.accounts)==null?void 0:o.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>fe.createAccount(t,c,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){var i,a,o,c,l;if(!(t.caipNetwork&&Je.BALANCE_SUPPORTED_CHAINS.includes((i=t.caipNetwork)==null?void 0:i.chainNamespace))||(a=t.caipNetwork)!=null&&a.testnet)return{balance:"0.00",symbol:((o=t.caipNetwork)==null?void 0:o.nativeCurrency.symbol)||""};if(ue.state.balanceLoading&&t.chainId===((c=N.state.activeCaipNetwork)==null?void 0:c.id))return{balance:ue.state.balance||"0.00",symbol:ue.state.balanceSymbol||""};const s=(await ue.fetchTokenBalance()).find(u=>{var f,d;return u.chainId===`${(f=t.caipNetwork)==null?void 0:f.chainNamespace}:${t.chainId}`&&u.symbol===((d=t.caipNetwork)==null?void 0:d.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=t.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(t){var a,o,c;const{provider:n,message:r,address:s}=t;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((a=N.state.activeCaipNetwork)==null?void 0:a.chainNamespace)===q.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Ku.encode(new TextEncoder().encode(r)),pubkey:s}},(o=N.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=N.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){var s,i,a,o,c,l;const{caipNetwork:n}=t,r=this.getWalletConnectConnector();if(n.chainNamespace===q.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:tS(n.id)}]}))}catch(u){if(u.code===Ff.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===Ff.ERROR_INVALID_CHAIN_ID||u.code===Ff.ERROR_CODE_DEFAULT||((a=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:a.code)===Ff.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:tS(n.id),rpcUrls:[(o=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:o.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const t=this.connectors.find(r=>r.type==="WALLET_CONNECT");return t==null?void 0:t.provider}}const qae=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture"],qp={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(e!=null&&e.config))return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?Je.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(e!=null&&e.config))return!1;const t=e.config;return e.isEnabled&&t.length>0?t.filter(n=>n!=="email"):!1},processFallback:e=>e===void 0?Je.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?Je.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(e!=null&&e.config))return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Je.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?Je.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(e!=null&&e.config))return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Je.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?Je.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Je.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Je.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Je.DEFAULT_REMOTE_FEATURES.multiWallet}},Vae={localSettingsOverridden:new Set,getApiConfig(e,t){return t==null?void 0:t.find(n=>n.id===e)},addWarning(e,t){if(e!==void 0){const n=qp[t],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,n,r,s){const i=qp[e],a=t[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const o=this.getApiConfig(i.apiFeatureName,n);return(o==null?void 0:o.config)===null?this.processFallbackFeature(e,a):o!=null&&o.config?(a!==void 0&&this.addWarning(a,e),this.processApiFeature(e,o)):!1}return this.processFallbackFeature(e,a)},processApiFeature(e,t){return qp[e].processApi(t)},processFallbackFeature(e,t){return qp[e].processFallback(t)},async fetchRemoteFeatures(e){const t=e.basic??!1,n=e.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await pe.fetchProjectConfig(),s=r!=null}catch(a){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",a)}const i=s&&!t?Je.DEFAULT_REMOTE_FEATURES:Je.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const a of qae){const o=this.processFeature(a,n,r,s,t);Object.assign(i,{[a]:o})}}catch(a){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",a),Je.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const a=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Ln.open({debugMessage:Vr.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(a)},"warning")}return i}};class Kae{constructor(t){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,a;if(n){const o=(s=N.getCaipNetworks(n))==null?void 0:s.find(u=>u.id===r);if(o)return o;const c=(i=N.getNetworkData(n))==null?void 0:i.caipNetwork;return c||((a=N.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n))==null?void 0:a[0])}return N.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>N.getCaipNetworks(n),this.getActiveChainNamespace=()=>N.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{N.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>N.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>{var r,s;return N.state.activeChain===n||!n?N.state.activeCaipAddress:(s=(r=N.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.caipAddress},this.setClientId=n=>{ge.setClientId(n)},this.getProvider=n=>Mt.getProvider(n),this.getProviderType=n=>Mt.getProviderId(n),this.getPreferredAccountType=n=>oi(n),this.setCaipAddress=(n,r)=>{ue.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{ue.setBalance(n,r,s)},this.setProfileName=(n,r)=>{ue.setProfileName(n,r)},this.setProfileImage=(n,r)=>{ue.setProfileImage(n,r)},this.setUser=(n,r)=>{ue.setUser(n,r)},this.resetAccount=n=>{ue.resetAccount(n)},this.setCaipNetwork=n=>{N.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{N.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{ue.setStatus(n,r),J.isConnected()?G.setConnectionStatus("connected"):G.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>{var r,s;return(s=(r=N.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.address},this.setConnectors=n=>{const r=[...J.state.allConnectors,...n];J.setConnectors(r)},this.setConnections=(n,r)=>{G.setConnections(n,r),ee.setConnections(n,r)},this.fetchIdentity=n=>ge.fetchIdentity(n),this.getReownName=n=>md.getNamesForAddress(n),this.getConnectors=()=>J.getConnectors(),this.getConnectorImage=n=>r6.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?I0.getConnectionsData(n).connections:(Ln.open(q.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?I0.getConnectionsData(n).recentConnections:(Ln.open(q.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Ln.open(q.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await ee.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Ln.open(q.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}G.deleteAddressFromConnection(n),ee.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=Mt.getProviderId(r),i=n?{...n,type:s}:void 0;ue.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!N.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{ue.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{ue.removeAddressLabel(n,r)},this.getAddress=n=>{var r,s;return N.state.activeChain===n||!n?ue.state.address:(s=(r=N.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.address},this.setApprovedCaipNetworksData=n=>N.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{N.resetNetwork(n)},this.addConnector=n=>{J.addConnector(n)},this.resetWcConnection=()=>{ee.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{ue.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{ue.setSmartAccountDeployed(n,r)},this.setPreferredAccountType=(n,r)=>{N.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{F.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t)}getChainNamespacesSet(t,n){const r=t==null?void 0:t.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(t){var n,r,s;this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),F.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await Vae.fetchRemoteFeatures(t),F.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&uv.setOnrampProviders(this.remoteFeatures.onramp),((n=F.state.remoteFeatures)!=null&&n.email||Array.isArray((r=F.state.remoteFeatures)==null?void 0:r.socials)&&((s=F.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const t=await pe.fetchAllowedOrigins();if(!t||!fe.isClient()){Ln.open(Vr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;qi.isOriginAllowed(n,t,Ff.DEFAULT_ALLOWED_ANCESTORS)||Ln.open(Vr.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(t){if(!(t instanceof Error)){Ln.open(Vr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(t.message){case"RATE_LIMITED":Ln.open(Vr.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=t.cause instanceof Error?t.cause:t;Ln.open({displayMessage:Vr.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Vr.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}default:Ln.open(Vr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(t){var r;const{...n}=t;delete n.adapters,delete n.universalProvider,ct.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:t.networks.map(s=>s.id),siweConfig:{options:((r=t.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initializeThemeController(t){t.themeMode&&Er.setThemeMode(t.themeMode),t.themeVariables&&Er.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");N.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&N.setActiveCaipNetwork(n)}initializeConnectionController(t){ee.initialize(t.adapters??[]),ee.setWcBasic(t.basic??!1)}initializeConnectorController(){J.initialize(this.chainNamespaces)}initializeProjectSettings(t){F.setProjectId(t.projectId),F.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){var s;F.setDebug(t.debug!==!1),F.setEnableWalletConnect(t.enableWalletConnect!==!1),F.setEnableWalletGuide(t.enableWalletGuide!==!1),F.setEnableWallets(t.enableWallets!==!1),F.setEIP6963Enabled(t.enableEIP6963!==!1),F.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),F.setEnableReconnect(t.enableReconnect!==!1),F.setEnableAuthLogger(t.enableAuthLogger!==!1),F.setCustomRpcUrls(t.customRpcUrls),F.setEnableEmbedded(t.enableEmbedded),F.setAllWallets(t.allWallets),F.setIncludeWalletIds(t.includeWalletIds),F.setExcludeWalletIds(t.excludeWalletIds),F.setFeaturedWalletIds(t.featuredWalletIds),F.setTokens(t.tokens),F.setTermsConditionsUrl(t.termsConditionsUrl),F.setPrivacyPolicyUrl(t.privacyPolicyUrl),F.setCustomWallets(t.customWallets),F.setFeatures(t.features),F.setAllowUnsupportedChain(t.allowUnsupportedChain),F.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),F.setPreferUniversalLinks(t.experimental_preferUniversalLinks),F.setDefaultAccountTypes(t.defaultAccountTypes);const n=this.getDefaultMetaData();if(!t.metadata&&n&&(t.metadata=n),F.setMetadata(t.metadata),F.setDisableAppend(t.disableAppend),F.setEnableEmbedded(t.enableEmbedded),F.setSIWX(t.siwx),!t.projectId){Ln.open(Vr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((s=t.adapters)==null?void 0:s.find(i=>i.namespace===q.CHAIN.EVM))&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");F.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){var t,n,r,s;return fe.isClient()?{name:((n=(t=document.getElementsByTagName("title"))==null?void 0:t[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(t){const n=this.getActiveChainNamespace();if(n){const r=Cl.getUnsupportedNetwork(`${n}:${t}`);N.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Cl.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,n){return Cl.extendCaipNetwork(t,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(t){return Cl.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){const n=t.networks.find(s=>{var i;return s.id===((i=t.defaultNetwork)==null?void 0:i.id)});return n?Cl.extendCaipNetwork(n,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}async disconnectNamespace(t,n){var r,s;try{this.setLoading(!0,t);let i={connections:[]};const a=this.getAdapter(t);return(((s=(r=N.state.chains.get(t))==null?void 0:r.accountState)==null?void 0:s.caipAddress)||!F.state.enableReconnect)&&(a!=null&&a.disconnect)&&(i=await a.disconnect({id:n})),this.setLoading(!1,t),i}catch(i){throw this.setLoading(!1,t),new Error(`Failed to disconnect chains: ${i.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var l;const t=N.state.activeChain,n=this.getAdapter(t),r=(l=this.getCaipNetwork(t))==null?void 0:l.id,s=ee.getConnections(t),i=this.remoteFeatures.multiWallet,a=s.length>0;if(!n)throw new Error("Adapter not found");const o=await n.connectWalletConnect(r);(!a||!i)&&this.close(),this.setClientId((o==null?void 0:o.clientId)||null),G.setConnectedNamespaces([...N.state.chains.keys()]),await this.syncWalletConnectAccount(),await Ws.initializeIfEnabled()},connectExternal:async({id:t,address:n,info:r,type:s,provider:i,chain:a,caipNetwork:o,socialUri:c})=>{var p,g,b,y,m,w;const l=N.state.activeChain,u=a||l,f=this.getAdapter(u);if(a&&a!==l&&!o){const v=this.getCaipNetworks().find(_=>_.chainNamespace===a);v&&this.setCaipNetwork(v)}if(!u)throw new Error("connectExternal: namespace not found");if(!f)throw new Error("connectExternal: adapter not found");const d=this.getCaipNetwork(u),h=await f.connect({id:t,address:n,info:r,type:s,provider:i,socialUri:c,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((b=(g=(p=o==null?void 0:o.rpcUrls)==null?void 0:p.default)==null?void 0:g.http)==null?void 0:b[0])||((w=(m=(y=d==null?void 0:d.rpcUrls)==null?void 0:y.default)==null?void 0:m.http)==null?void 0:w[0])});if(h)return G.addConnectedNamespace(u),this.syncProvider({...h,chainNamespace:u}),this.setStatus("connected",u),this.syncConnectedWalletInfo(u),G.removeDisconnectedConnectorId(t,u),{address:h.address}},reconnectExternal:async({id:t,info:n,type:r,provider:s})=>{var o;const i=N.state.activeChain,a=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!a)throw new Error("reconnectExternal: adapter not found");a!=null&&a.reconnect&&(await(a==null?void 0:a.reconnect({id:t,info:n,type:r,provider:s,chainId:(o=this.getCaipNetwork())==null?void 0:o.id})),G.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async t=>{var l;const{id:n,chainNamespace:r,initialDisconnect:s}=t||{},i=r||N.state.activeChain,a=J.getConnectorId(i),o=n===q.CONNECTOR_ID.AUTH||a===q.CONNECTOR_ID.AUTH,c=n===q.CONNECTOR_ID.WALLET_CONNECT||a===q.CONNECTOR_ID.WALLET_CONNECT;try{const u=Array.from(N.state.chains.keys());let f=r?[r]:u;(c||o)&&(f=u);const d=f.map(async g=>{const b=J.getConnectorId(g),y=await this.disconnectNamespace(g,n||b);y&&(o&&G.deleteConnectedSocialProvider(),y.connections.forEach(m=>{G.addDisconnectedConnectorId(m.connectorId,g)})),s&&this.onDisconnectNamespace({chainNamespace:g,closeModal:!1})}),h=await Promise.allSettled(d);We.resetSend(),ee.resetWcConnection(),(l=Ws.getSIWX())!=null&&l.signOutOnDisconnect&&await Ws.clearSessions(),J.setFilterByNamespace(void 0),ee.syncStorageConnections();const p=h.filter(g=>g.status==="rejected");if(p.length>0)throw new Error(p.map(g=>g.reason.message).join(", "));ct.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(u){throw new Error(`Failed to disconnect chains: ${u.message}`)}},checkInstalled:t=>t?t.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async t=>{const n=N.state.activeChain,r=this.getAdapter(N.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const s=await(r==null?void 0:r.signMessage({message:t,address:ue.state.address,provider:Mt.getProvider(n)}));return(s==null?void 0:s.signature)||""},sendTransaction:async t=>{const n=t.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(Je.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=Mt.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async t=>{const n=t.chainNamespace;if(n===q.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=Mt.getProvider(n),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");const a=await(r==null?void 0:r.estimateGas({...t,provider:s,caipNetwork:i}));return(a==null?void 0:a.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const t=N.state.activeChain;if(!t)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:ue.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id),chainNamespace:t}),ue.state.profileImage||!1},getEnsAddress:async t=>await qi.resolveReownName(t),writeContract:async t=>{const n=N.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),a=Mt.getProvider(n);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const o=await(r==null?void 0:r.writeContract({...t,caipNetwork:s,provider:a,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(t,n)=>{const r=this.getAdapter(N.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return(r==null?void 0:r.parseUnits({value:t,decimals:n}))??0n},formatUnits:(t,n)=>{const r=this.getAdapter(N.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return(r==null?void 0:r.formatUnits({value:t,decimals:n}))??"0"},getCapabilities:async t=>{const n=this.getAdapter(N.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await(n==null?void 0:n.getCapabilities(t))},grantPermissions:async t=>{const n=this.getAdapter(N.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await(n==null?void 0:n.grantPermissions(t))},revokePermissions:async t=>{const n=this.getAdapter(N.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n!=null&&n.revokePermissions?await n.revokePermissions(t):"0x"},walletGetAssets:async t=>{const n=this.getAdapter(N.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await(n==null?void 0:n.walletGetAssets(t))??{}},updateBalance:t=>{const n=this.getCaipNetwork(t);!n||!ue.state.address||this.updateNativeBalance(ue.state.address,n==null?void 0:n.id,t)}},this.networkControllerClient={switchCaipNetwork:async t=>await this.switchCaipNetwork(t),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ee.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,a;if(Mt.getProviderId(N.state.activeChain)===jo.CONNECTOR_TYPE_WALLET_CONNECT){const o=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((a=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:a.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(o)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){if(!t)return;const n=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){const s=Mt.getProvider(n),i=Mt.getProviderId(n);if(t.chainNamespace===N.state.activeChain){const a=this.getAdapter(n);await(a==null?void 0:a.switchNetwork({caipNetwork:t,provider:s,providerType:i}))}else if(this.setCaipNetwork(t),i===jo.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const a=this.getAddressByChainNamespace(n);a&&this.syncAccount({address:a,chainId:t.id,chainNamespace:n})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:a,chainNamespace:o}=_r.parseCaipAddress(i);return`${o}:${a}`});return Array.from(new Set([...r,...s]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=t==null?void 0:t.find(a=>a.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new Fae({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(t){var n;this.onConnectors(t),this.listenAdapter(t),await((n=this.chainAdapters)==null?void 0:n[t].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)}))}onConnectors(t){const n=this.getAdapter(t);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){const n=this.getAdapter(t);if(!n)return;const r=G.getConnectionStatus();F.state.enableReconnect===!1?this.setStatus("disconnected",t):r==="connected"?this.setStatus("connecting",t):r==="disconnected"?(G.clearAddressCache(),this.setStatus(r,t)):this.setStatus(r,t),n.on("switchNetwork",({address:s,chainId:i})=>{var l,u;const a=this.getCaipNetworks().find(f=>f.id.toString()===i.toString()||f.caipNetworkId.toString()===i.toString()),o=N.state.activeChain===t,c=(u=(l=N.state.chains.get(t))==null?void 0:l.accountState)==null?void 0:u.address;if(a){const f=o&&s?s:c;f&&this.syncAccount({address:f,chainId:a.id,chainNamespace:t})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(ee.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:t,closeModal:!s||i.length===0})}),n.on("connections",s=>{this.setConnections(s,t)}),n.on("pendingTransactions",()=>{const s=ue.state.address,i=N.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i,connector:a})=>{var c,l;const o=N.state.activeChain===t;a!=null&&a.provider&&(this.syncProvider({id:a.id,type:a.type,provider:a.provider,chainNamespace:t}),this.syncConnectedWalletInfo(t)),o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:t}):o&&((c=N.state.activeCaipNetwork)!=null&&c.id)?this.syncAccount({address:s,chainId:(l=N.state.activeCaipNetwork)==null?void 0:l.id,chainNamespace:t}):this.syncAccountInfo(s,i,t),G.addConnectedNamespace(t)})}async createUniversalProviderForAdapter(t){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&await((s=(r=(n=this.chainAdapters)==null?void 0:n[t])==null?void 0:r.setUniversalProvider)==null?void 0:s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(t=>ee.disconnect({namespace:t,initialDisconnect:!0})))}catch(t){console.error("Error disconnecting existing connections:",t)}}async syncNamespaceConnection(t){try{t===q.CHAIN.EVM&&fe.isSafeApp()&&J.setConnectorId(q.CONNECTOR_ID.SAFE,t);const n=J.getConnectorId(t);switch(this.setStatus("connecting",t),n){case q.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case q.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",t)}}onDisconnectNamespace(t){const{chainNamespace:n,closeModal:r}=t||{};N.resetAccount(n),N.resetNetwork(n),G.removeConnectedNamespace(n);const s=Array.from(N.state.chains.keys());(n?[n]:s).forEach(a=>G.addDisconnectedConnectorId(J.getConnectorId(a)||"",a)),J.removeConnectorId(n),Mt.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),r!==!1&&ke.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(t=>{var s;const n=this.getCaipAddress(t),r=this.getCaipNetwork(t);return(s=this.chainAdapters)==null?void 0:s[t].syncConnections({connectToFirstConnector:!n,caipNetwork:r,getConnectorStorageInfo(i){const o=G.getConnections()[t]??[];return{hasDisconnected:G.isConnectorDisconnected(i,t),hasConnected:o.some(c=>Ir.isLowerCaseMatch(c.connectorId,i))}}})}))}async syncAdapterConnection(t){var o,c,l;const n=this.getAdapter(t),r=J.getConnectorId(t),s=this.getCaipNetwork(t),a=J.getConnectors(t).find(u=>u.id===r);try{if(!n||!a)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:t,id:a.id,chainId:s.id,rpcUrl:(l=(c=(o=s==null?void 0:s.rpcUrls)==null?void 0:o.default)==null?void 0:c.http)==null?void 0:l[0]}));u?(this.syncProvider({...u,chainNamespace:t}),await this.syncAccount({...u,chainNamespace:t}),this.setStatus("connected",t)):this.setStatus("disconnected",t)}catch{this.onDisconnectNamespace({chainNamespace:t,closeModal:!1})}}async syncWalletConnectAccount(){var r,s;const t=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,f,d,h,p;const a=this.getAdapter(i);if(!a)return;const o=((h=(d=(f=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:f.namespaces)==null?void 0:d[i])==null?void 0:h.accounts)||[],c=(p=N.state.activeCaipNetwork)==null?void 0:p.id,l=o.find(g=>{const{chainId:b}=_r.parseCaipAddress(g);return b===(c==null?void 0:c.toString())})||o[0];if(l){const g=_r.validateCaipAddress(l),{chainId:b,address:y}=_r.parseCaipAddress(g);if(Mt.setProviderId(i,jo.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&N.state.activeCaipNetwork&&a.namespace!==q.CHAIN.EVM){const m=a.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:N.state.activeCaipNetwork});Mt.setProvider(i,m)}else Mt.setProvider(i,this.universalProvider);J.setConnectorId(q.CONNECTOR_ID.WALLET_CONNECT,i),G.addConnectedNamespace(i),await this.syncAccount({address:y,chainId:b,chainNamespace:i})}else t.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await N.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncProvider({type:t,provider:n,id:r,chainNamespace:s}){Mt.setProviderId(s,t),Mt.setProvider(s,n),J.setConnectorId(r,s)}async syncAccount(t){var f,d;const n=t.chainNamespace===N.state.activeChain,r=N.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:s,chainId:i,chainNamespace:a}=t,{chainId:o}=G.getActiveNetworkProps(),c=i||o,l=((f=N.state.activeCaipNetwork)==null?void 0:f.name)===q.UNSUPPORTED_NETWORK_NAME,u=N.getNetworkProp("supportsAllNetworks",a);if(this.setStatus("connected",a),!(l&&!u)&&c){let h=this.getCaipNetworks().find(b=>b.id.toString()===c.toString()),p=this.getCaipNetworks().find(b=>b.chainNamespace===a);if(!u&&!h&&!p){const b=this.getApprovedCaipNetworkIds()||[],y=b.find(w=>{var v;return((v=_r.parseCaipNetworkId(w))==null?void 0:v.chainId)===c.toString()}),m=b.find(w=>{var v;return((v=_r.parseCaipNetworkId(w))==null?void 0:v.chainNamespace)===a});h=this.getCaipNetworks().find(w=>w.caipNetworkId===y),p=this.getCaipNetworks().find(w=>w.caipNetworkId===m||"deprecatedCaipNetworkId"in w&&w.deprecatedCaipNetworkId===m)}const g=h||p;(g==null?void 0:g.chainNamespace)===N.state.activeChain?F.state.enableNetworkSwitch&&!F.state.allowUnsupportedChain&&((d=N.state.activeCaipNetwork)==null?void 0:d.name)===q.UNSUPPORTED_NETWORK_NAME?N.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,a),this.syncConnectedWalletInfo(a),Ir.isLowerCaseMatch(s,ue.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,a),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:a}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:a})}}async syncAccountInfo(t,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const a=`${r}:${i}:${t}`;this.setCaipAddress(a,r),await this.syncIdentity({address:t,chainId:i,chainNamespace:r})}async syncReownName(t,n){try{const r=await this.getReownName(t);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(t){var s;const n=J.getConnectorId(t),r=Mt.getProviderId(t);if(r===jo.CONNECTOR_TYPE_ANNOUNCED||r===jo.CONNECTOR_TYPE_INJECTED){if(n){const a=this.getConnectors().find(o=>{var f,d;const c=o.id===n,l=((f=o.info)==null?void 0:f.rdns)===n,u=(d=o.connectors)==null?void 0:d.some(h=>{var p;return h.id===n||((p=h.info)==null?void 0:p.rdns)===n});return c||l||!!u});if(a){const{info:o,name:c,imageUrl:l}=a,u=l||this.getConnectorImage(a);this.setConnectedWalletInfo({name:c,icon:u,...o},t)}}}else if(r===jo.CONNECTOR_TYPE_WALLET_CONNECT){const i=Mt.getProvider(t);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},t)}else if(n&&(n===q.CONNECTOR_ID.COINBASE_SDK||n===q.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(l=>l.id===n),a=(i==null?void 0:i.name)||"Coinbase Wallet",o=(i==null?void 0:i.imageUrl)||this.getConnectorImage(i),c=i==null?void 0:i.info;this.setConnectedWalletInfo({...c,name:a,icon:o},t)}}async syncBalance(t){!X5.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(r=>{var s;return r.id.toString()===((s=t.chainId)==null?void 0:s.toString())})||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,n,r){const s=this.getAdapter(r),i=N.getCaipNetworkByNamespace(r,n);if(s){const a=await s.getBalance({address:t,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(a.balance,a.symbol,r),a}}async initializeUniversalAdapter(){var r,s,i,a,o,c,l,u,f,d;const t=gae.createLogger((h,...p)=>{h&&this.handleAlertError(h),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(a=this.options)!=null&&a.metadata?(o=this.options)==null?void 0:o.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(f=this.options)==null?void 0:f.metadata.icons:[""]},logger:t};F.setManualWCControl(!!((d=this.options)!=null&&d.manualWCControl)),this.universalProvider=this.options.universalProvider??await Y5.init(n),F.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(t=>{qi.listenWcProvider({universalProvider:this.universalProvider,namespace:t,onDisplayUri:n=>{ee.setUri(n)},onConnect:()=>{ee.finalizeWcConnection()},onDisconnect:()=>{N.state.noAdapters&&this.resetAccount(t),ee.resetWcConnection()},onChainChanged:n=>{const r=N.state.activeChain,s=r&&J.state.activeConnectorIds[r]===q.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(N.state.noAdapters||s)){const i=this.getCaipNetworks().find(o=>o.id.toString()===n.toString()||o.caipNetworkId.toString()===n.toString()),a=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(n);return}(a==null?void 0:a.id.toString())!==(i==null?void 0:i.id.toString())&&(a==null?void 0:a.chainNamespace)===(i==null?void 0:i.chainNamespace)&&this.setCaipNetwork(i)}},onAccountsChanged:n=>{const r=N.state.activeChain,s=r&&J.state.activeConnectorIds[r]===q.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(N.state.noAdapters||s)&&n.length>0){const i=n[0];this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){var t;return!this.universalProviderInitPromise&&fe.isClient()&&((t=this.options)!=null&&t.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){ct.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}handleAlertError(t){const n=Object.entries(Vr.UniversalProviderErrors).find(([,{message:o}])=>t.message.includes(o)),[r,s]=n??[],{message:i,alertErrorKey:a}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const o=Vr.ALERT_ERRORS[a];o&&(Ln.open(o,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(t){var n;if(t)return(n=this.chainAdapters)==null?void 0:n[t]}createAdapter(t){var s;if(!t)return;const n=t.namespace;if(!n)return;this.createClients();const r=t;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(t){if(await this.injectModalUi(),t!=null&&t.uri&&ee.setUri(t.uri),t!=null&&t.arguments)switch(t==null?void 0:t.view){case"Swap":return ke.open({...t,data:{swap:t.arguments}})}return ke.open(t)}async close(){await this.injectModalUi(),ke.close()}setLoading(t,n){ke.setLoading(t,n)}async disconnect(t){await ee.disconnect({namespace:t})}getSIWX(){return F.state.siwx}getError(){return""}getChainId(){var t;return(t=N.state.activeCaipNetwork)==null?void 0:t.id}async switchNetwork(t){const n=this.getCaipNetworks().find(r=>r.id===t.id);if(!n){Ln.open(Vr.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await N.switchActiveNetwork(n)}getWalletProvider(){return N.state.activeChain?Mt.state.providers[N.state.activeChain]:null}getWalletProviderType(){return Mt.getProviderId(N.state.activeChain)}subscribeProviders(t){return Mt.subscribeProviders(t)}getThemeMode(){return Er.state.themeMode}getThemeVariables(){return Er.state.themeVariables}setThemeMode(t){Er.setThemeMode(t),m6(Er.state.themeMode)}setTermsConditionsUrl(t){F.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){F.setPrivacyPolicyUrl(t)}setThemeVariables(t){Er.setThemeVariables(t),Rae(Er.state.themeVariables)}subscribeTheme(t){return Er.subscribe(t)}subscribeConnections(t){return this.remoteFeatures.multiWallet?ee.subscribe(t):(Ln.open(q.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(t){var n,r;return t?(r=(n=N.state.chains.get(t))==null?void 0:n.accountState)==null?void 0:r.connectedWalletInfo:ue.state.connectedWalletInfo}getAccount(t){const n=t||N.state.activeChain,r=J.getAuthConnector(n),s=N.getAccountData(n),i=G.getConnectedConnectorId(N.state.activeChain),a=ee.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const o=a.flatMap(c=>c.accounts.map(({address:l,type:u})=>fe.createAccount(n,l,u||"eoa")));if(s)return{allAccounts:o,caipAddress:s.caipAddress,address:fe.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&i===q.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:G.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:oi(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(t,n){const r=()=>{const s=this.getAccount(n);s&&t(s)};n?N.subscribeChainProp("accountState",r,n):N.subscribe(r),J.subscribe(r)}subscribeNetwork(t){return N.subscribe(({activeCaipNetwork:n})=>{t({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(t,n){return n?ue.subscribeKey("connectedWalletInfo",t,n):ue.subscribeKey("connectedWalletInfo",t)}subscribeShouldUpdateToAddress(t){ue.subscribeKey("shouldUpdateToAddress",t)}subscribeCaipNetworkChange(t){N.subscribeKey("activeCaipNetwork",t)}getState(){return ki.state}getRemoteFeatures(){return F.state.remoteFeatures}subscribeState(t){return ki.subscribe(t)}subscribeRemoteFeatures(t){return F.subscribeKey("remoteFeatures",t)}showErrorMessage(t){Qs.showError(t)}showSuccessMessage(t){Qs.showSuccess(t)}getEvent(){return{...ct.state}}subscribeEvents(t){return ct.subscribe(t)}replace(t){ye.replace(t)}redirect(t){ye.push(t)}popTransactionStack(t){ye.popTransactionStack(t)}isOpen(){return ke.state.open}isTransactionStackEmpty(){return ye.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){F.setFeatures(t)}updateRemoteFeatures(t){F.setRemoteFeatures(t)}updateOptions(t){const r={...F.state||{},...t};F.setOptions(r)}setConnectMethodsOrder(t){F.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){F.setWalletFeaturesOrder(t)}setCollapseWallets(t){F.setCollapseWallets(t)}setSocialsOrder(t){F.setSocialsOrder(t)}getConnectMethodsOrder(){return fv.getConnectOrderMethod(F.state.features,J.getConnectors())}addNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||N.addNetwork(r)}removeNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&N.removeNetwork(t,n)}}let eN=!1;class Wae extends Kae{async open(t){J.isConnected()||await super.open(t)}async close(){await super.close(),this.options.manualWCControl&&ee.finalizeWcConnection()}async syncIdentity(t){return Promise.resolve()}async syncBalance(t){return Promise.resolve()}async injectModalUi(){if(!eN&&fe.isClient()){if(await Hn(()=>import("./basic-C7vD_6cd.js"),__vite__mapDeps([6,7,1,2,3,4])),await Hn(()=>import("./w3m-modal-vZEwDOmQ.js"),__vite__mapDeps([8,7,1,2,3,4])),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!F.state.disableAppend&&!F.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}eN=!0}}}const Gae="1.7.17";function Yae(e){return new Wae({...e,basic:!0,sdkVersion:`html-core-${Gae}`})}class P2{constructor({appKit:t,provider:n,config:r}){this.appKit=t,this.provider=n,this.config=r}static async init(t){const n=await aie.init({projectId:t.projectId,metadata:t.metadata}),r={networks:t.networks.flatMap(i=>i.chains),projectId:t.projectId,metadata:t.metadata,universalProvider:n,manualWCControl:!0},s=Yae(r);return new P2({appKit:s,provider:n,config:t})}async connect(){var n;const t=(n=this.config)==null?void 0:n.networks.reduce((r,s)=>{var i;return r[s.namespace]={...s||{},methods:(s==null?void 0:s.methods)||[],events:(s==null?void 0:s.events)||[],chains:((i=s==null?void 0:s.chains)==null?void 0:i.map(a=>a.caipNetworkId))||[]},r},{});try{await this.appKit.open();const r=await this.provider.connect({optionalNamespaces:t});if(!r)throw new Error("Error connecting to wallet: No session found");return await this.appKit.close(),{session:r}}catch(r){throw await this.appKit.close(),new Error(`Error connecting to wallet: ${r instanceof Error?r.message:"Unknown error"}`)}}async disconnect(){await this.appKit.disconnect(),await this.provider.disconnect()}async request(t,n){return await this.provider.request(t,n)}}var w6=Object.defineProperty,Zae=Object.defineProperties,Xae=Object.getOwnPropertyDescriptors,D0=Object.getOwnPropertySymbols,b6=Object.prototype.hasOwnProperty,v6=Object.prototype.propertyIsEnumerable,tN=(e,t,n)=>t in e?w6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cn=(e,t)=>{for(var n in t||(t={}))b6.call(t,n)&&tN(e,n,t[n]);if(D0)for(var n of D0(t))v6.call(t,n)&&tN(e,n,t[n]);return e},Js=(e,t)=>Zae(e,Xae(t)),Qae=(e,t)=>{var n={};for(var r in e)b6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&D0)for(var r of D0(e))t.indexOf(r)<0&&v6.call(e,r)&&(n[r]=e[r]);return n},Jae=(e,t)=>{for(var n in t)w6(e,n,{get:t[n],enumerable:!0})},Vo=class E6 extends Error{constructor(t,n,r,s){super(t),this.message=t,this.code=n,this.data=r,this.cause=s,this.name="JsonRpcError",this.message=t,this.code=n,this.data=r,this.cause=s}static fromResponse(t){return new E6(t.message,t.code,t.data)}toString(){return`${this.name} (${this.code}): ${this.message}${this.data?`: ${JSON.stringify(this.data)}`:""}`}},eoe=(e=>(e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UserRejection=-32e3]="UserRejection",e[e.MethodAddressMismatch=-32001]="MethodAddressMismatch",e[e.MethodAccessDenied=-32002]="MethodAccessDenied",e[e.UnknownError=-31e3]="UnknownError",e[e.UserCanceled=-31001]="UserCanceled",e))(eoe||{}),S6="asigna-stx",$w=(e,t)=>new Promise(n=>{function r(s){s.data.source===S6&&s.data[t]&&(n(s.data[t]),window.removeEventListener("message",r))}window.addEventListener("message",r),window.top.postMessage(noe(e,t),"*")}),toe={authenticationRequest:async e=>$w(e,"authenticationRequest"),transactionRequest:async e=>$w(e,"transactionRequest"),request:async(e,t)=>$w(t,e)},noe=(e,t)=>({source:S6,[t]:e}),roe=()=>{typeof window>"u"||window.top!==window.self&&(window.AsignaProvider=toe)};roe();var soe=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.BitcoinProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna Multisig",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://stx.asigna.io/"},{id:"FordefiProviders.UtxoProvider",name:"Fordefi",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzEwMTExNCIgZD0iTTAgMGg0MnY0MkgweiIvPgogIDxwYXRoIGQ9Ik0xOS40NyAyNi44OUg1djMuNTdhNC41NyA0LjU3IDAgMCAwIDQuNTggNC41N2g1LjgzbDQuMDYtOC4xNFoiIGZpbGw9IiM3OTk0RkYiLz4KICA8cGF0aCBkPSJNNSAxNy40aDI3LjU4bC0zLjIgNi43OEg1VjE3LjRaIiBmaWxsPSIjNDg2REZGIi8+CiAgPHBhdGggZD0iTTE0LjY3IDdINXY3LjY4aDMzVjdoLTkuNjd2NS43NGgtMlY3aC05LjY3djUuNzRoLTEuOTlWN1oiIGZpbGw9IiM1Q0QxRkEiLz4KPC9zdmc+Cg==",webUrl:"https://www.fordefi.com/",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle"}],nN={id:"WalletConnectProvider",name:"WalletConnect",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSJub25lIj48bWFzayBpZD0iYSIgd2lkdGg9IjQwMCIgaGVpZ2h0PSI0MDAiIHg9IjAiIHk9IjAiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHN0eWxlPSJtYXNrLXR5cGU6bHVtaW5hbmNlIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDQwMHY0MDBIMFYwWiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMzM5NkZGIiBkPSJNNDAwIDQwMEgwVjBoNDAwdjQwMFoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIyLjUyIDE0OC45N2M0Mi43OS00MS43MyAxMTIuMTctNDEuNzMgMTU0Ljk2IDBsNS4xNSA1LjAyYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTE3LjYyIDE3LjE4YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTcuMDktNi45Yy0yOS44NS0yOS4xMi03OC4yNS0yOS4xMi0xMDguMSAwbC03LjYgNy40YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTE3LjYxLTE3LjE5YTUuMjUgNS4yNSAwIDAgMSAwLTcuNTVsNS42NS01LjUxWm0xOTEuNCAzNS41MiAxNS42OCAxNS4zYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTcwLjcgNjguOTRhNS41OCA1LjU4IDAgMCAxLTcuNzUgMGwtNTAuMTgtNDguOTNhMS40IDEuNCAwIDAgMC0xLjk0IDBsLTUwLjE4IDQ4LjkzYTUuNTggNS41OCAwIDAgMS03Ljc0IDBsLTcwLjctNjguOTRhNS4yNSA1LjI1IDAgMCAxIDAtNy41NmwxNS42Ny0xNS4yOWE1LjU4IDUuNTggMCAwIDEgNy43NSAwbDUwLjE4IDQ4Ljk0Yy41NC41MiAxLjQuNTIgMS45NCAwbDUwLjE4LTQ4Ljk0YTUuNTggNS41OCAwIDAgMSA3Ljc0IDBsNTAuMTggNDguOTRjLjU0LjUyIDEuNC41MiAxLjk0IDBsNTAuMTgtNDguOTRhNS41OCA1LjU4IDAgMCAxIDcuNzUgMFoiLz48L2c+PC9zdmc+",webUrl:"https://walletconnect.com/",chromeWebStoreUrl:""};function ioe(){return J0(C4())||window.StacksProvider||window.BlockstackProvider}function Vp(e,t){var n,r;return e instanceof t||((r=(n=e==null?void 0:e.constructor)==null?void 0:n.name)==null?void 0:r.toLowerCase())===t.name}function aoe(e){return e?typeof e=="string"?e:Vp(e,T8)?"mainnet":Vp(e,O8)?"testnet":Vp(e,D8)||Vp(e,FE)?"devnet":"coreApiUrl"in e?e.coreApiUrl:"url"in e?e.url:"transactionVersion"in e?e.transactionVersion===gc.Mainnet?"mainnet":"testnet":"mainnet":"mainnet"}function _l(e){if(typeof e.type=="string")return e;switch(e.type){case je.BoolFalse:return wC(!1);case je.BoolTrue:return wC(!0);case je.Int:return O9(e.value);case je.UInt:return D9(e.value);case je.Buffer:return L9(e.buffer);case je.StringASCII:return R9(e.data);case je.StringUTF8:return B9(e.data);case je.List:return M9(e.list.map(_l));case je.Tuple:return H9(Object.fromEntries(Object.entries(e.data).map(([n,r])=>[n,_l(r)])));case je.OptionalNone:return k9();case je.OptionalSome:return P9(_l(e.value));case je.ResponseErr:return z9(_l(e.value));case je.ResponseOk:return j9(_l(e.value));case je.PrincipalContract:return U9(yC(e.address),e.contractName.content);case je.PrincipalStandard:return $9(yC(e.address));default:let t=e;throw new Error(`Unknown clarity type: ${t}`)}}var ooe="stx_callContract",coe=e=>{var t;let n=(t=e.functionArgs)==null?void 0:t.map(r=>typeof r=="string"?F9(r):_l(r)).map(r=>r1(r));return Js(Cn({},e),{contract:`${e.contractAddress}.${e.contractName}`,functionArgs:n,network:aoe(e.network),postConditionMode:foe(e.postConditionMode),postConditions:uoe(e.postConditions),address:e.stxAddress})},loe=e=>({txId:e.txid,txRaw:e.transaction,stacksTransaction:N9(e.transaction)});function Nle(e,t=ioe()){Eoe(ooe,coe,loe)(e,t)}function uoe(e){if(typeof e<"u")return e.map(t=>typeof t=="string"?t:typeof t.type=="string"?Js(Cn({},t),{amount:"amount"in t?t.amount.toString():void 0}):Ce(tj(t)))}function foe(e){if(typeof e<"u"){if(typeof e=="string")return e;switch(e){case yu.Allow:return"allow";case yu.Deny:return"deny";default:let t=e;throw new Error(`Unknown post condition mode: ${t}. Should be one of: 'allow', 'deny'`)}}}var A6="@stacks/connect",doe={addresses:{stx:[],btc:[]},version:"0.0.1"},rN=e=>[...new Map(e.map(t=>[t.address,t])).values()].map(t=>{var n=Qae(t,[]);return"publicKey"in n&&delete n.publicKey,"derivationPath"in n&&delete n.derivationPath,"tweakedPublicKey"in n&&delete n.tweakedPublicKey,n});function hoe(e){try{let t=poe()||doe,n=Js(Cn({},t),{updatedAt:Date.now(),addresses:Cn(Cn({},t.addresses),e.addresses&&{stx:e.addresses.stx&&rN([...t.addresses.stx,...e.addresses.stx]),btc:e.addresses.btc&&rN([...t.addresses.btc,...e.addresses.btc])})});localStorage.setItem(A6,Ce(Pu(JSON.stringify(n))))}catch(t){console.warn("Failed to store data in localStorage:",t)}}function poe(){try{let e=localStorage.getItem(A6);return e?JSON.parse(X0(dt(e))):null}catch(e){return console.warn("Failed to get data from localStorage:",e),null}}var goe={};Jae(goe,{Chains:()=>_s,Default:()=>C6,Networks:()=>nh});var moe=["stx_signMessage","stx_signTransaction","stx_signStructuredMessage","stx_getAccounts","stx_getAddresses","stx_updateProfile","stx_transferStx","stx_transferSip10Ft","stx_transferSip9Nft","stx_callContract","stx_deployContract","sendTransfer","signPsbt","getAddresses"],_s;(e=>{(t=>(t.Mainnet={id:1,chainNamespace:"stacks",caipNetworkId:"stacks:1",name:"Stacks",nativeCurrency:{name:"STX",symbol:"STX",decimals:6},rpcUrls:{default:{http:["https://api.mainnet.hiro.so"]}}},t.Testnet={id:2,chainNamespace:"stacks",caipNetworkId:"stacks:2147483648",name:"Stacks Testnet",nativeCurrency:{name:"STX",symbol:"STX",decimals:6},rpcUrls:{default:{http:["https://api.testnet.hiro.so"]}}}))(e.Stacks||(e.Stacks={})),(t=>(t.Mainnet=Bae,t.Testnet=Lae))(e.Bitcoin||(e.Bitcoin={}))})(_s||(_s={}));var nh;(e=>(e.Stacks={namespace:"stacks",chains:[_s.Stacks.Mainnet,_s.Stacks.Testnet],methods:moe,events:["stx_chainChanged","stx_accountsChanged"]},e.Bitcoin={namespace:"bip122",chains:[_s.Bitcoin.Mainnet],methods:["signMessage","sendTransfer","signPsbt","getAccountAddresses"],events:["bip122_addressesChanged"]}))(nh||(nh={}));var C6={metadata:{name:"Universal Connector",description:"Universal Connector",url:"https://appkit.reown.com",icons:["https://appkit.reown.com/icon.png"]},networks:[nh.Stacks,nh.Bitcoin]};function sN(e){return{jsonrpc:"2.0",id:1,result:e}}var yoe=class{constructor(e){this.connector=e}async connect(){try{let{session:e}=await this.connector.connect();return e}catch(e){throw console.error(">> WalletConnectProvider connect error",e),e}}get stacksAddresses(){var e,t,n,r;let s=(e=this.connector.provider)==null?void 0:e.session;if(!((n=(t=s==null?void 0:s.namespaces)==null?void 0:t.stacks)!=null&&n.accounts))return[];let i=(r=s==null?void 0:s.sessionProperties)==null?void 0:r.stacks_getAddresses,a=JSON.parse(i||"[]"),o=[...s.namespaces.stacks.accounts.map(c=>({address:c.split(":")[2],publicKey:""}))||[],...a||[]].sort(c=>c.publicKey?1:-1);return Array.from(new Map(o.map(c=>[c.address,c])).values())}get btcAddresses(){var e,t,n;let r=(e=this.connector.provider)==null?void 0:e.session;if(!((n=(t=r==null?void 0:r.namespaces)==null?void 0:t.bip122)!=null&&n.accounts))return[];let s=r==null?void 0:r.sessionProperties.bip122_getAccountAddresses,i=JSON.parse(s||"{}"),a=r.namespaces.bip122.accounts.map(c=>({address:c.split(":")[2],publicKey:""})),o=[...(i==null?void 0:i.payment.map(c=>Js(Cn({},c),{purpose:"payment"})))||[],...(i==null?void 0:i.ordinal.map(c=>Js(Cn({},c),{purpose:"ordinal"})))||[],...a||[]].sort(c=>c.publicKey?1:-1).sort((c,l)=>(c==null?void 0:c.address.length)-(l==null?void 0:l.address.length));return Array.from(new Map(o.map(c=>[c.address,c])).values())}async getAddresses(){var e;let t=(e=this.connector.provider)==null?void 0:e.session;t||(t=await this.connect());let n=this.stacksAddresses,r=this.btcAddresses;return{addresses:[...n,...r]}}validateRpcMethod(e){var t,n,r,s;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(e))return;if(!((t=this.connector.provider)!=null&&t.session))throw new Error("WalletConnectProvider not connected. Please connect first.");let i=(n=this.connector.provider)==null?void 0:n.session.namespaces,a=((r=i.stacks)==null?void 0:r.methods)||[],o=((s=i.bip122)==null?void 0:s.methods)||[];if(![...a,...o].includes(e))throw new Error(`WalletConnectProvider does not support method ${e}. Please use a supported method.`)}getTargetCaipNetworkId(e,t){var n,r,s,i,a,o,c,l;let u=["getAddresses","stx_getAccounts","stx_getAddresses"],f="network"in t?t.network:void 0;if(f)return{mainnet:_s.Stacks.Mainnet.caipNetworkId,testnet:_s.Stacks.Testnet.caipNetworkId}[f];if(u.includes(e)||(i=(s=(r=(n=this.connector.provider)==null?void 0:n.session)==null?void 0:r.namespaces)==null?void 0:s.stacks)!=null&&i.methods.includes(e))return _s.Stacks.Mainnet.caipNetworkId;if((l=(c=(o=(a=this.connector.provider)==null?void 0:a.session)==null?void 0:o.namespaces)==null?void 0:c.bip122)!=null&&l.methods.includes(e))return _s.Bitcoin.Mainnet.caipNetworkId;throw new Error(`WalletConnectProvider does not support method ${e}. Please use a supported method.`)}async request(e,t){var n,r,s,i;try{this.validateRpcMethod(e);let a=this.getTargetCaipNetworkId(e,t);switch(e){case"getAddresses":case"stx_getAddresses":case"stx_getAccounts":let o=await this.getAddresses();return sN(o);case"stx_signMessage":let c=((i=(s=(r=(n=this.connector.provider)==null?void 0:n.session)==null?void 0:r.namespaces)==null?void 0:s.stacks)==null?void 0:i.accounts[0]).split(":")[2],l=await this.connector.request({method:e,params:Cn({address:c},t)},a);return sN(l);default:return await this.connector.request({method:e,params:t},a)}}catch(a){throw console.error(">> WalletConnectProvider request error",a),a}}async disconnect(){await this.connector.disconnect()}};async function iN(e){if(window.WalletConnectProvider)return;let{projectId:t,config:n}=typeof e=="string"?{projectId:e,config:void 0}:{projectId:e.projectId,config:e},r=await P2.init(Js(Cn(Cn({},C6),n),{projectId:t})),s=new yoe(r);window.WalletConnectProvider=s}async function pv(e,t,n){var r;try{let s=await e.request(t,n);if(!s)throw new Vo("Provider did not return a response",-31e3);if("error"in s)throw Vo.fromResponse(s.error);return s.result}catch(s){if(s instanceof Vo)throw s;if("jsonrpc"in s)throw Vo.fromResponse(s.error);let i=(r=s.code)!=null?r:-31e3;throw new Vo(s.message,i,s.data,s)}}function woe(e){return e?async function(t,n,r){let s=await pv(t,n,r);if((n==="getAddresses"||n==="wallet_connect")&&"addresses"in s){let{stx:i,btc:a}=Noe(s.addresses).reduce((o,c)=>(o[c.address.startsWith("S")?"stx":"btc"].push(c),o),{stx:[],btc:[]});hoe({addresses:{stx:i,btc:a}})}return s}:pv}async function boe(...e){var t;let{options:n,method:r,params:s}=voe(e),i=Object.assign({provider:null,defaultProviders:soe,forceWalletSelect:!1,persistWalletSelect:!0,enableOverrides:!0,enableLocalStorage:!0},Coe(n));i!=null&&i.walletConnect?(await iN(i.walletConnect).catch(console.error),i.defaultProviders=[...i.defaultProviders,nN]):i!=null&&i.walletConnectProjectId&&(await iN(i.walletConnectProjectId).catch(console.error),i.defaultProviders=[...i.defaultProviders,nN]),i.provider=(t=i.provider)!=null?t:WB();let a=xoe(i.enableOverrides,woe(i.enableLocalStorage));if(i.provider&&!i.forceWalletSelect){let{method:o,params:c}=gv(i.provider,r,s,i.enableOverrides);return await a(i.provider,o,mv(c))}if(typeof window<"u")return RL(),new Promise((o,c)=>{let l=document.createElement("connect-modal");l.defaultProviders=aN(i.approvedProviderIds,i.defaultProviders),l.installedProviders=aN(i.approvedProviderIds,KB(i.defaultProviders));let u=document.body.style.overflow;document.body.style.overflow="hidden";let f=()=>{l.remove(),document.body.style.overflow=u};l.callback=h=>{f();let p=J0(h),{method:g,params:b}=gv(p,r,s,i.enableOverrides),y=_oe(i.persistWalletSelect,h);o(a(p,g,mv(b)).then(y))},l.cancelCallback=()=>{f(),c(new Vo("User canceled the request",-31001))},document.body.appendChild(l);let d=h=>{h.key==="Escape"&&(document.removeEventListener("keydown",d),l.remove(),c(new Vo("User canceled the request",-31001)))};document.addEventListener("keydown",d)})}function voe(e){return typeof e[0]=="string"?{method:e[0],params:e[1]}:{options:e[0],method:e[1],params:e[2]}}function aN(e,t){return e?t.filter(n=>e.includes(n.id)):t}function Eoe(e,t,n){return(r,s)=>{if(!s)throw new Error("[Connect] No installed Stacks wallet found");let i=t(r),a=r,{method:o,params:c}=gv(s,e,i);pv(s,o,mv(c)).then(l=>{var u;let f=n(l);(u=a.onFinish)==null||u.call(a,f)}).catch(a.onCancel)}}function Kp(e){return Soe(e)||Aoe(e)}function Soe(e){return"signMultipleTransactions"in e&&"createRepeatInscriptions"in e&&!(e!=null&&e.isLeather)&&!(e!=null&&e.isFordefi)}function Aoe(e){return"isFordefi"in e&&!!e.isFordefi}function oN(e){return"isLeather"in e&&!!e.isLeather}function Coe(e){if(e===void 0)return{};let t={};for(let[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function xoe(e,t){return e?async(n,r,s)=>{let i=await t(n,r,s),a=Cn({},i);return i!==null&&"txId"in i&&i.txId&&!("txid"in a)&&(a.txid=i.txId),i!==null&&"hex"in i&&i.hex&&typeof i.hex=="string"&&!("psbt"in a)&&(a.psbt=S4.encode(dt(i.hex))),a}:t}function gv(e,t,n,r=!0){if(!e||!r)return{method:t,params:n};if(Kp(e)&&["getAddresses","stx_getAddresses"].includes(t))return{method:"wallet_connect",params:n};if(Kp(e)&&t==="sendTransfer"){let s=Js(Cn({},n),{recipients:n.recipients.map(i=>Js(Cn({},i),{amount:Number(i.amount)})),network:void 0});return{method:t,params:s}}if(Kp(e)&&t==="signPsbt"){let s=n.signInputs;if(!s)return{method:t,params:n};let i={};for(let o of s)typeof o!="number"&&o.address&&(i[o.address]||(i[o.address]=[]),i[o.address].push(o.index));let a={psbt:n.psbt,signInputs:i,broadcast:n.broadcast};return{method:t,params:a}}if(!Kp(e)&&t==="stx_signMessage"){let s=Cn({},n);return delete s.publicKey,{method:t,params:s}}if(oN(e)&&t==="sendTransfer"){let s=Js(Cn({},n),{recipients:n.recipients.map(i=>Js(Cn({},i),{amount:i.amount.toString()}))});return{method:t,params:s}}if(oN(e)&&t==="signPsbt"){let s={hex:Ce(S4.decode(n.psbt)),signAtIndex:n.signInputs.map(i=>typeof i=="number"?i:i.index),allowedSighash:n.allowedSighash,broadcast:n.broadcast,network:n.network};return{method:t,params:s}}return{method:t,params:n}}var cN=["stx-postcondition","ft-postcondition","nft-postcondition"];function mv(e){if(!e||typeof e!="object")return e;let t=Cn({},e);for(let[n,r]of Object.entries(e)){if(typeof r=="bigint"){t[n]=r.toString();continue}if(r){if(Array.isArray(r)){t[n]=r.map(s=>typeof s=="bigint"?s.toString():!s||typeof s!="object"||!("type"in s)?s:cN.includes(s.type)?mC(s):r1(s));continue}typeof r=="object"&&"type"in r&&(t[n]=cN.includes(r.type)?mC(r):r1(r))}}return JSON.parse(JSON.stringify(t))}function _oe(e,t){return function(n){if(e)try{qB(t)}catch{}return n}}function Noe(e){return e.slice().sort((t,n)=>{let r="purpose"in t&&t.purpose==="payment",s="purpose"in n&&n.purpose==="payment";return r&&!s?-1:!r&&s?1:0})}typeof window<"u"&&(window.__CONNECT_VERSION__="__VERSION__");var Ioe=async(e,t)=>{var n,r,s,i,a,o;let{onFinish:c,onCancel:l,userSession:u}=e,f=N6(u);f.isUserSignedIn()&&f.signUserOut();try{let d=await boe({provider:t,forceWalletSelect:!0},"getAddresses"),h=f.store.getSessionData();(n=h.userData)!=null||(h.userData={profile:{}}),(s=(r=h.userData).profile)!=null||(r.profile={}),(a=(i=h.userData.profile).stxAddress)!=null||(i.stxAddress={mainnet:"",testnet:""});let p=d.addresses.find(y=>(y==null?void 0:y.symbol)==="STX"||y.address.startsWith("S")).address.toUpperCase(),g=p[1]==="P"||p[1]==="M";Object.assign(h.userData.profile.stxAddress,{[g?"mainnet":"testnet"]:p});let b=(o=d.addresses.find(y=>{var m;return(m=y==null?void 0:y.address)!=null&&m.startsWith("S")?!1:y.purpose==="payment"?!0:uN(y==null?void 0:y.address)?d.addresses.every(w=>{var v;return((v=w==null?void 0:w.address)==null?void 0:v.startsWith("S"))||uN(w==null?void 0:w.address)}):!0}))==null?void 0:o.address;b&&(h.userData.profile.btcAddress=b),f.store.setSessionData(h),c==null||c({userSession:f,authResponsePayload:h.userData})}catch(d){console.error("[Connect] Error during auth request",d),l==null||l(d)}},Toe="blockstack-session",Ooe=class{constructor(e,t,n,r,s,i){}},x6=class{constructor(e){e!=null&&e.appConfig&&(this.appConfig=e.appConfig),typeof window>"u"&&typeof self>"u"?this.store=new Doe:this.store=new Uoe}makeAuthRequestToken(){}generateAndStoreTransitKey(){}getAuthResponseToken(){}isSignInPending(){return!1}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(){return Promise.resolve(this.loadUserData())}loadUserData(){let e=this.store.getSessionData().userData;if(!e)throw new gE("No user data found. Did the user sign in?");return e}encryptContent(){}decryptContent(){}signUserOut(e){this.store.deleteSessionData(),e&&typeof location<"u"&&location.href&&(location.href=e)}},_6=class{constructor(e){e&&this.setSessionData(e)}getSessionData(){throw new Error("Abstract class")}setSessionData(e){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}},Doe=class extends _6{constructor(e){super(e),this.sessionData||this.setSessionData({})}getSessionData(){if(!this.sessionData)throw new gE("No session data was found.");return this.sessionData}setSessionData(e){return this.sessionData=e,!0}deleteSessionData(){return this.setSessionData({}),!0}},Uoe=class extends _6{constructor(e){var t;super(e),this.key=typeof((t=e==null?void 0:e.storeOptions)==null?void 0:t.localStorageKey)=="string"?e.storeOptions.localStorageKey:Toe,localStorage.getItem(this.key)||this.setSessionData({})}getSessionData(){let e=localStorage.getItem(this.key);if(!e)throw new gE("No session data was found in localStorage");return JSON.parse(e)}setSessionData(e){return localStorage.setItem(this.key,JSON.stringify(e)),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData({}),!0}},N6=e=>e||new x6,lN=async e=>(e=N6(e),e.isUserSignedIn()?Promise.resolve(e.loadUserData()):Promise.resolve(null));function uN(e){let t=["bc1p","tb1p","bcrt1p"],n=[62,62,64],r=t.findIndex(s=>e.startsWith(s));return r===-1?!1:e.length===n[r]}var $oe=(e=>(e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer",e))($oe||{}),Moe=(e=>(e.BUFFER="buffer",e.UINT="uint",e.INT="int",e.PRINCIPAL="principal",e.BOOL="bool",e))(Moe||{}),Roe=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALL=1]="ALL",e[e.NONE=2]="NONE",e[e.SINGLE=3]="SINGLE",e[e.ANYONECANPAY=128]="ANYONECANPAY",e))(Roe||{});const Boe=new Ooe(["store_write"],document.location.href),Mw=new x6({appConfig:Boe});function Loe(e="testnet"){const[t,n]=Bt.useState(null),[r,s]=Bt.useState(!0);Bt.useEffect(()=>{(async()=>{if(Mw.isUserSignedIn()){const c=await lN();if(c){const l=e==="testnet"?c.profile.stxAddress.testnet:c.profile.stxAddress.mainnet;l&&n({address:l,profile:c.profile})}}s(!1)})()},[e]);const i=Bt.useCallback(async()=>{try{await Ioe({appDetails:{name:"Ricardian Yield",icon:window.location.origin+"/logo.png"},redirectTo:"/",onFinish:async()=>{const o=await lN();if(o){const c=e==="testnet"?o.profile.stxAddress.testnet:o.profile.stxAddress.mainnet;c&&n({address:c,profile:o.profile})}},userSession:Mw})}catch(o){throw console.error("Failed to connect Stacks wallet:",o),o}},[e]),a=Bt.useCallback(async()=>{try{Mw.signUserOut(),n(null)}catch(o){throw console.error("Failed to disconnect Stacks wallet:",o),o}},[]);return{user:t,isConnected:!!t,isLoading:r,connect:i,disconnect:a,address:(t==null?void 0:t.address)||null}}const I6=yv.memo(()=>{const{address:e,isConnected:t,connect:n,disconnect:r}=Loe(),[s,i]=Bt.useState(!1),[a,o]=Bt.useState(!1);Bt.useEffect(()=>{i(!0)},[]);const c=[{href:"/dashboard",label:"Dashboard"},{href:"/property",label:"Property"},{href:"/rent",label:"Rent"},{href:"/expenses",label:"Expenses"},{href:"/yield",label:"Yield"},{href:"/stacking",label:"Stacking"},{href:"/analytics",label:"Analytics"},{href:"/dao",label:"DAO"}];return Y.jsx("header",{className:"bg-white elevation-2 sticky top-0 z-50 backdrop-blur-sm bg-opacity-95",children:Y.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[Y.jsxs("div",{className:"flex justify-between items-center h-16",children:[Y.jsx("div",{className:"flex items-center",children:Y.jsxs(Vl,{to:"/",className:"flex items-center space-x-3 group",children:[Y.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center elevation-2 group-hover:elevation-3 transition-material relative overflow-hidden",children:Y.jsx("img",{src:"/logo.png",alt:"Ricardian Yield Logo",width:40,height:40,className:"object-contain rounded-xl"})}),Y.jsx("span",{className:"text-xl font-medium text-foreground tracking-tight bg-gradient-to-r from-foreground to-foreground bg-clip-text group-hover:from-primary group-hover:to-[#06B6D4] transition-all",children:"Ricardian Yield"})]})}),Y.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:c.map(l=>Y.jsx(Vl,{to:l.href,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary hover:bg-primary/5 rounded-lg transition-material",children:l.label},l.href))}),Y.jsxs("div",{className:"flex items-center space-x-3",children:[s&&t&&e?Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"hidden sm:block px-4 py-2 bg-gray-100 rounded-lg",children:Y.jsx("span",{className:"text-sm font-medium text-gray-700 font-mono",children:fB(e)})}),Y.jsx(DA,{variant:"text",size:"sm",onClick:()=>r(),children:"Disconnect"})]}):Y.jsx(DA,{variant:"primary",size:"sm",onClick:()=>n(),disabled:!s,children:"Connect Wallet"}),Y.jsx("button",{onClick:()=>o(!a),className:"lg:hidden p-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-material","aria-label":"Toggle menu",children:a?Y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):Y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),a&&Y.jsx("div",{className:"lg:hidden border-t border-gray-200 py-4",children:Y.jsx("nav",{className:"flex flex-col space-y-1",children:c.map(l=>Y.jsx(Vl,{to:l.href,onClick:()=>o(!1),className:"px-4 py-3 text-sm font-medium text-gray-700 hover:text-primary hover:bg-primary/5 rounded-lg transition-material",children:l.label},l.href))})})]})})});I6.displayName="Header";const T6=yv.memo(()=>Y.jsx("footer",{className:"bg-white border-t border-gray-100 mt-auto",children:Y.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-12",children:[Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[Y.jsxs("div",{children:[Y.jsxs(Vl,{to:"/",className:"flex items-center space-x-3 mb-4 group",children:[Y.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",children:Y.jsx("img",{src:"/logo.png",alt:"Ricardian Yield Logo",width:40,height:40,className:"object-contain rounded-xl"})}),Y.jsx("h3",{className:"text-base font-medium text-foreground group-hover:text-primary transition-material",children:"Ricardian Yield"})]}),Y.jsx("p",{className:"text-sm text-gray-600 font-light leading-relaxed",children:"Where classical economics meets yield stacking. Tokenize rental real estate and maximize returns."})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-foreground mb-4 uppercase tracking-wider text-xs",children:"Resources"}),Y.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[Y.jsx("li",{children:Y.jsx(Vl,{to:"/docs",className:"hover:text-primary transition-material font-light",children:"Documentation"})}),Y.jsx("li",{children:Y.jsx(Vl,{to:"/about",className:"hover:text-primary transition-material font-light",children:"About"})})]})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-foreground mb-4 uppercase tracking-wider text-xs",children:"Network"}),Y.jsx("p",{className:"text-sm text-gray-600 font-light",children:"Built on Mantle Network"}),Y.jsx("p",{className:"text-xs text-gray-500 mt-2 font-light",children:"Powered by ERC-4626 yield stacking"})]})]}),Y.jsx("div",{className:"mt-12 pt-8 border-t border-gray-100 text-center text-sm text-gray-500 font-light",children:Y.jsx("p",{children:" 2024 Ricardian Yield. All rights reserved."})})]})}));T6.displayName="Footer";const koe=Bt.lazy(()=>Hn(()=>import("./Home-C_C3enUu.js"),__vite__mapDeps([9,1,2,10,3,4]))),Poe=Bt.lazy(()=>Hn(()=>import("./Dashboard-BD25qsQk.js"),__vite__mapDeps([11,1,2,10,12,13,3,4]))),joe=Bt.lazy(()=>Hn(()=>import("./Property-Ba2794AQ.js"),__vite__mapDeps([14,1,2,10,12,13,15,4,3]))),zoe=Bt.lazy(()=>Hn(()=>import("./Rent-CS4bW0zX.js"),__vite__mapDeps([16,1,2,10,4,13,15,3]))),Hoe=Bt.lazy(()=>Hn(()=>import("./Expenses-Diq-O4qx.js"),__vite__mapDeps([17,1,2,10,4,12,15,13,3]))),Foe=Bt.lazy(()=>Hn(()=>import("./Yield-O9-wI7hf.js"),__vite__mapDeps([18,1,2,10,4,12,15,13,3]))),qoe=Bt.lazy(()=>Hn(()=>import("./Stacking-UmupdIop.js"),__vite__mapDeps([19,1,2,10,12,3,4]))),Voe=Bt.lazy(()=>Hn(()=>import("./Analytics-q6bHYwkk.js"),__vite__mapDeps([20,1,2,10,12,3,4]))),Koe=Bt.lazy(()=>Hn(()=>import("./CapEx-BT3mOJSk.js"),__vite__mapDeps([21,1,2,10,4,12,15,13,3]))),Woe=Bt.lazy(()=>Hn(()=>import("./DAO-BAL8JIC8.js"),__vite__mapDeps([22,1,2,10,4,12,15,13,3]))),Goe=()=>Y.jsx("div",{className:"flex-1 flex items-center justify-center min-h-[400px]",children:Y.jsxs("div",{className:"animate-pulse text-center",children:[Y.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mx-auto mb-4"}),Y.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mx-auto"})]})});function Yoe(){return Y.jsxs("div",{className:"flex flex-col min-h-screen",children:[Y.jsx(I6,{}),Y.jsx("main",{className:"flex-1",children:Y.jsx(Bt.Suspense,{fallback:Y.jsx(Goe,{}),children:Y.jsxs(HU,{children:[Y.jsx(Ms,{path:"/",element:Y.jsx(koe,{})}),Y.jsx(Ms,{path:"/dashboard",element:Y.jsx(Poe,{})}),Y.jsx(Ms,{path:"/property",element:Y.jsx(joe,{})}),Y.jsx(Ms,{path:"/rent",element:Y.jsx(zoe,{})}),Y.jsx(Ms,{path:"/expenses",element:Y.jsx(Hoe,{})}),Y.jsx(Ms,{path:"/yield",element:Y.jsx(Foe,{})}),Y.jsx(Ms,{path:"/stacking",element:Y.jsx(qoe,{})}),Y.jsx(Ms,{path:"/analytics",element:Y.jsx(Voe,{})}),Y.jsx(Ms,{path:"/capex",element:Y.jsx(Koe,{})}),Y.jsx(Ms,{path:"/dao",element:Y.jsx(Woe,{})})]})})}),Y.jsx(T6,{})]})}function fN(){return new jU({defaultOptions:{queries:{staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1}}})}let Rw;function Zoe(){return typeof window>"u"?fN():(Rw||(Rw=fN()),Rw)}function Xoe({children:e}){const t=Bt.useMemo(()=>Zoe(),[]);return Y.jsxs(PU,{client:t,children:[e,Y.jsx(VU,{position:"top-right",toastOptions:{style:{background:"#fff",color:"#111827",border:"1px solid #10B981"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}}}})]})}ER.createRoot(document.getElementById("root")).render(Y.jsx(yv.StrictMode,{children:Y.jsx(FU,{children:Y.jsx(Xoe,{children:Y.jsx(Yoe,{})})})}));export{cn as $,vle as A,DA as B,Re as C,J as D,Nle as E,pe as F,fe as G,ee as H,q as I,ct as J,vg as K,Ir as L,r6 as M,G as N,F as O,yu as P,N as Q,ye as R,zb as S,Cs as T,Er as U,Qs as V,fv as W,ke as X,Je as Y,Ele as Z,Cl as _,LE as a,_le as a0,jr as a1,bt as a2,kn as a3,Nn as a4,Ws as a5,Ln as a6,yae as a7,ue as a8,Ale as a9,_r as aa,c6 as ab,dv as ac,Iu as ad,ie as b,yo as c,fB as d,D9 as e,nce as f,bce as g,Pu as h,wB as i,yce as j,ice as k,jL as l,wce as m,k9 as n,i8 as o,RP as p,uB as q,rce as r,R9 as s,gL as t,Loe as u,sce as v,ru as w,xle as x,Cle as y,Sg as z};
